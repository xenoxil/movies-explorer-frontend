(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],{26:function(e,t,s){},27:function(e,t,s){},34:function(e,t,s){},35:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),i=s(18),a=s.n(i),o=s(2),r=(s(26),s(5)),l=(s(27),s.p+"static/media/header-logo.6e5df113.svg"),j=s(3),d=s(0);var h=function(e){return Object(d.jsxs)("section",{className:e.isVisible?"menu menu__visible":"menu",children:[Object(d.jsxs)("div",{className:"menu__link-container",children:[Object(d.jsx)(o.b,{to:"/landing",className:"menu__link link",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(d.jsx)(o.b,{to:"/movies",className:"menu__link link",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(d.jsx)(o.b,{to:"/savedMovies",className:"menu__link link",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(d.jsx)(o.b,{to:"/profile",className:"menu__accLink",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]}),Object(d.jsx)("button",{type:"button",className:"menu__closeBtn",onClick:e.onCloseClick})]})};var u=function(e){var t=Object(c.useState)(!1),s=Object(r.a)(t,2),n=s[0],i=s[1];return Object(d.jsxs)(j.d,{children:[Object(d.jsx)(j.b,{path:"/landing",children:Object(d.jsxs)("header",{className:"header header_landingColor",children:[Object(d.jsx)("img",{src:l,className:"header__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),e.loggedInState?Object(d.jsxs)("div",{className:"header__container",children:[Object(d.jsx)(o.b,{to:"/movies",className:"header__link link header__landingLink",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(d.jsx)(o.b,{to:"/savedMovies",className:"header__link link header__landingLink",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(d.jsx)(o.b,{to:"/profile",className:"header__accBtn",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]}):Object(d.jsxs)("div",{className:"header__container",children:[Object(d.jsx)(o.b,{to:"/signup",className:"header__registration",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(d.jsx)(o.b,{to:"/signin",className:"header__loginBtn",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}),Object(d.jsx)(j.b,{path:"/",children:Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("img",{src:l,className:"header__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),e.onSize>=1280?Object(d.jsxs)("div",{className:"header__container",children:[Object(d.jsx)(o.b,{to:"/movies",className:"header__link link",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(d.jsx)(o.b,{to:"/savedMovies",className:"header__link link",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(d.jsx)(o.b,{to:"/profile",className:"header__accBtn",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]}):Object(d.jsx)("div",{className:"header__container",children:Object(d.jsx)("button",{className:"header__humburgerBtn",onClick:function(){return i(!0)}})}),Object(d.jsx)(h,{isVisible:n,onCloseClick:function(){return i(!1)}})]})})]})};var b=function(e){return Object(d.jsxs)("section",{className:"footer",children:[Object(d.jsx)("p",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),e.onSize>=768?Object(d.jsxs)("div",{className:"footer__container",children:[Object(d.jsx)("p",{className:"footer__copyright",children:"\xa92022.\u042e\u0440\u0438\u0439 \u0421\u0442\u0435\u043f\u0430\u043d\u043e\u0432"}),Object(d.jsx)("nav",{className:"footer__navigation",children:Object(d.jsxs)("ul",{className:"footer__links",children:[Object(d.jsx)("li",{className:"footer__link",children:Object(d.jsx)("a",{href:"https://practicum.yandex.ru/",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(d.jsx)("li",{className:"footer__link",children:Object(d.jsx)("a",{href:"https://github.com/xenoxil",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Github"})}),Object(d.jsx)("li",{className:"footer__link",children:Object(d.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Facebook"})})]})})]}):Object(d.jsxs)("div",{className:"footer__container",children:[Object(d.jsx)("nav",{className:"footer__navigation",children:Object(d.jsxs)("ul",{className:"footer__links",children:[Object(d.jsx)("li",{className:"footer__link",children:Object(d.jsx)("a",{href:"https://practicum.yandex.ru/",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(d.jsx)("li",{className:"footer__link",children:Object(d.jsx)("a",{href:"https://github.com/xenoxil",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Github"})}),Object(d.jsx)("li",{className:"footer__link",children:Object(d.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Facebook"})})]})}),Object(d.jsx)("p",{className:"footer__copyright",children:"\xa92022"})]})]})},m=s.p+"static/media/loupePic.99b6633d.svg",_=s.p+"static/media/searchBtn.bd527758.svg";var f=function(e){var t=n.a.useRef(),s="/movies"===Object(j.g)().location.pathname;function c(s){s.preventDefault(),e.onSearchClick(t.current.value)}function i(s){s.preventDefault(),e.onSearch(t.current.value)}function a(t){e.onTypeSwitch(),c(t)}function o(t){e.onTypeSwitch(),i(t)}return Object(d.jsx)("section",{className:"searchSection",children:e.onSize>=768?Object(d.jsxs)("div",{children:[Object(d.jsxs)("form",{className:"searchForm",children:[Object(d.jsx)("img",{src:m,alt:"\u0417\u043d\u0430\u0447\u043e\u043a \u043b\u0443\u043f\u044b",className:"searchForm__loupePic"}),Object(d.jsx)("input",{className:"searchForm__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",ref:t,required:!0}),Object(d.jsx)("button",{className:"searchForm__searchBtn",onClick:s?c:i,disabled:e.isLoading,children:Object(d.jsx)("img",{src:_,alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"})}),e.isSwitched?Object(d.jsxs)("div",{className:"searchForm__movieType-container",children:[Object(d.jsx)("button",{className:"searchForm__movieTypeBtn",onClick:s?a:o}),Object(d.jsx)("p",{className:"searchForm__movieType",children:"\u041f\u043e\u043b\u043d\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]}):Object(d.jsxs)("div",{className:"searchForm__movieType-container",children:[Object(d.jsx)("button",{className:"searchForm__movieTypeBtn searchForm__movieTypeShort",onClick:s?a:o}),Object(d.jsx)("p",{className:"searchForm__movieType ",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})]}),Object(d.jsx)("div",{className:"search__bottomString"})]}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("form",{className:"searchForm",children:[Object(d.jsx)("input",{className:"searchForm__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",ref:t,required:!0}),Object(d.jsx)("button",{className:"searchForm__searchBtn",onClick:s?c:i,disabled:e.isLoading,children:Object(d.jsx)("img",{src:_,alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"})})]}),e.isSwitched?Object(d.jsxs)("div",{className:"searchForm__movieType-container",children:[Object(d.jsx)("button",{className:"searchForm__movieTypeBtn",onClick:s?a:o}),Object(d.jsx)("p",{className:"searchForm__movieType",children:"\u041f\u043e\u043b\u043d\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]}):Object(d.jsxs)("div",{className:"searchForm__movieType-container",children:[Object(d.jsx)("button",{className:"searchForm__movieTypeBtn searchForm__movieTypeShort",onClick:s?a:o}),Object(d.jsx)("p",{className:"searchForm__movieType",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]}),Object(d.jsx)("div",{className:"search__bottomString"})]})})};var p=function(e){var t=Object(c.useState)(!1),s=Object(r.a)(t,2),n=s[0],i=s[1],a=function(e){var t=Math.trunc(e/60),s=e%60;return t>0?t+"\u0447 "+s+"\u043c":s+"\u043c"}(e.duration);return Object(c.useEffect)((function(){var t=e.savedMovies.some((function(t){return t.movieId===e.cardObj.id}));i(t)}),[e.savedMovies]),Object(d.jsxs)("li",{className:"moviesCard",children:[Object(d.jsx)("a",{href:e.cardObj.trailerLink,target:"_blank",rel:"noreferrer",children:Object(d.jsx)("img",{src:e.cardPic,alt:e.name,className:"moviesCard__pic"})}),Object(d.jsxs)("div",{className:"moviesCard__container",children:[Object(d.jsx)("p",{className:"moviesCard__name",children:e.movieName}),Object(d.jsx)("button",{className:n?"moviesCard__likeBtn ":"moviesCard__likeBtn_active","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u043b\u0430\u0439\u043a",type:"button",onClick:function(){e.onLike(e.cardObj),e.cardObj.movieId=e.cardObj.id,e.savedMovies.push(e.cardObj)},children:" "})]}),Object(d.jsx)("p",{className:"moviesCard__duration",children:a})]})},O=s.p+"static/media/defaultMovie.725aa4f1.jpg";var x=function(e){return console.log("\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"),console.log(e.savedMovies),e.isSearched?e.movieCards.length>0?Object(d.jsx)("ul",{className:"moviesCardList",children:e.movieCards.map((function(t){return Object(d.jsx)(p,{cardObj:t,cardPic:t.src?t.src:O,name:t.nameRU,movieName:t.nameRU,duration:t.duration,savedMovies:e.savedMovies,onCardClick:e.onCardClick,onLike:e.onLike},t.id)}))}):Object(d.jsx)("p",{className:"moviesCardList__empty",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u203f\ufe35\u203f\u30fd(\xb0\u25a1\xb0 )\u30ce\ufe35\u203f\ufe35"}):Object(d.jsx)("ul",{})};var v=function(e){return Object(d.jsx)("button",{className:e.isShowed?"moreMovies":"moreMovies moreMovies__hidden",onClick:e.onMoreMoviesClick,children:"\u0415\u0449\u0451"})},g=(s(34),function(){return Object(d.jsx)("div",{className:"preloader",children:Object(d.jsx)("div",{className:"preloader__container",children:Object(d.jsx)("span",{className:"preloader__round"})})})});var N=function(e){return Object(d.jsxs)("div",{className:"main",children:[Object(d.jsx)(u,{className:"main__header",onSize:e.onSize}),Object(d.jsx)(f,{onSize:e.onSize,onSearchClick:e.onSearchClick,renderMovies:e.renderMovies,moreMoviesVisibilityCheck:e.moreMoviesVisibilityCheck,isLoading:e.isLoading,onTypeSwitch:e.onTypeSwitch,isSwitched:e.isSwitched}),e.isLoading?Object(d.jsx)(g,{}):Object(d.jsx)(x,{movieCards:e.filteredMovies,isSearched:e.isSearched,onCardClick:e.onCardClick,onLike:e.onLike,savedMovies:e.savedMovies}),Object(d.jsx)(v,{isShowed:e.isShowed,onMoreMoviesClick:e.onMoreMoviesClick}),Object(d.jsx)(b,{})]})},k=s.p+"static/media/promo-logo.e4c6967f.svg";var S=function(){return Object(d.jsxs)("section",{className:"promo",children:[Object(d.jsx)("img",{src:k,className:"promo__logo",alt:"\u0420\u0430\u0441\u0442\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430"}),Object(d.jsx)("h1",{className:"promo__text",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]})};var y=function(){return Object(d.jsx)("section",{className:"navTab",children:Object(d.jsxs)("nav",{className:"navTab__container",children:[Object(d.jsx)("a",{href:"#project",className:"navTab__link",alt:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(d.jsx)("a",{href:"#techs",className:"navTab__link",alt:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(d.jsx)("a",{href:"#student",className:"navTab__link",alt:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})]})})};var C=function(){return Object(d.jsxs)("section",{className:"aboutProject",id:"project",children:[Object(d.jsx)("h2",{className:"aboutProject__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(d.jsxs)("div",{className:"aboutProject__steps",children:[Object(d.jsxs)("div",{className:"aboutProject__textContainer",children:[Object(d.jsx)("h3",{className:"aboutProject__step-title",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(d.jsx)("p",{className:"aboutProject__step-description",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(d.jsxs)("div",{className:"aboutProject__textContainer",children:[Object(d.jsx)("h3",{className:"aboutProject__step-title",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(d.jsx)("p",{className:"aboutProject__step-description",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(d.jsxs)("div",{className:"aboutProject__progressRow",children:[Object(d.jsxs)("div",{className:"aboutProject__backend",children:[Object(d.jsx)("p",{className:"aboutProject__progress aboutProject__progress-backend",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(d.jsx)("p",{className:"aboutProject__progress-title",children:"Back-end"})]}),Object(d.jsxs)("div",{className:"aboutProject__frontend",children:[Object(d.jsx)("p",{className:"aboutProject__progress aboutProject__progress-frontend",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(d.jsx)("p",{className:"aboutProject__progress-title",children:"Front-end"})]})]})]})};var w=function(){return Object(d.jsxs)("section",{className:"techs",id:"techs",children:[Object(d.jsx)("h2",{className:"techs__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(d.jsxs)("div",{className:"techs__textContainer",children:[Object(d.jsx)("h3",{className:"techs__subtitle",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(d.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."})]}),Object(d.jsxs)("ul",{className:"techs__list",children:[Object(d.jsx)("li",{className:"techs__technology",children:Object(d.jsx)("p",{className:"techs__name",children:"HTML"})}),Object(d.jsx)("li",{className:"techs__technology",children:Object(d.jsx)("p",{className:"techs__name",children:"CSS"})}),Object(d.jsx)("li",{className:"techs__technology",children:Object(d.jsx)("p",{className:"techs__name",children:"JS"})}),Object(d.jsx)("li",{className:"techs__technology",children:Object(d.jsx)("p",{className:"techs__name",children:"React"})}),Object(d.jsx)("li",{className:"techs__technology",children:Object(d.jsx)("p",{className:"techs__name",children:"Git"})}),Object(d.jsx)("li",{className:"techs__technology",children:Object(d.jsx)("p",{className:"techs__name",children:"Express.js"})}),Object(d.jsx)("li",{className:"techs__technology",children:Object(d.jsx)("p",{className:"techs__name",children:"mongoDB"})})]})]})},M=s.p+"static/media/studentFoto.3f31b05b.png",L=s.p+"static/media/linkArrow.fb3c35df.svg";var P=function(e){return Object(d.jsxs)("section",{className:"aboutMe",id:"student",children:[Object(d.jsx)("h3",{className:"aboutMe__title",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),e.onSize>=767?Object(d.jsxs)("div",{className:"aboutMe__student",children:[Object(d.jsxs)("div",{className:"aboutMe__container",children:[Object(d.jsx)("p",{className:"aboutMe__name",children:"\u042e\u0440\u0438\u0439"}),Object(d.jsx)("p",{className:"aboutMe__job",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a"}),Object(d.jsx)("p",{className:"aboutMe__about",children:"\u042f \u0438\u0437 \u0433\u043e\u0440\u043e\u0434\u0430 \u041b\u044b\u0442\u043a\u0430\u0440\u0438\u043d\u043e. \u0417\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c \u0420\u043e\u0441\u041d\u041e\u0423.\u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c \u0438 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u044b\u043c\u0438 \u0438\u0433\u0440\u0430\u043c\u0438. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2018 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u044e \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xabNielsen\xbb. \u0421\u0435\u0439\u0447\u0430\u0441 \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0441\u044c \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u043f\u043e\u043c\u043e\u0433\u0430\u044e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430\u043c \u042f\u043d\u0434\u0435\u043a\u0441 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430."})]}),Object(d.jsx)("img",{className:"aboutMe__foto",alt:"\u0424\u043e\u0442\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430",src:M})]}):Object(d.jsx)("div",{className:"aboutMe__student",children:Object(d.jsxs)("div",{className:"aboutMe__container",children:[Object(d.jsx)("img",{className:"aboutMe__foto",alt:"\u0424\u043e\u0442\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430",src:M}),Object(d.jsx)("p",{className:"aboutMe__name",children:"\u042e\u0440\u0438\u0439"}),Object(d.jsx)("p",{className:"aboutMe__job",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a"}),Object(d.jsx)("p",{className:"aboutMe__about",children:"\u042f \u0438\u0437 \u0433\u043e\u0440\u043e\u0434\u0430 \u041b\u044b\u0442\u043a\u0430\u0440\u0438\u043d\u043e. \u0417\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c \u0420\u043e\u0441\u041d\u041e\u0423.\u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c \u0438 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u044b\u043c\u0438 \u0438\u0433\u0440\u0430\u043c\u0438. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2018 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u044e \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xabNielsen\xbb. \u0421\u0435\u0439\u0447\u0430\u0441 \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0441\u044c \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u043f\u043e\u043c\u043e\u0433\u0430\u044e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430\u043c \u042f\u043d\u0434\u0435\u043a\u0441 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430."})]})}),Object(d.jsxs)("div",{className:"aboutMe__socialLinks",children:[Object(d.jsx)("a",{className:"aboutMe__socialLink link",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://www.facebook.com",children:"Facebook"}),Object(d.jsx)("a",{className:"aboutMe__socialLink link",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://github.com/xenoxil",children:"Github"})]}),Object(d.jsxs)("ul",{className:"aboutMe__portfolio",children:[Object(d.jsx)("p",{className:"aboutMe__subtitle",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(d.jsxs)("li",{className:"aboutMe__portfolio-site",children:[Object(d.jsx)("p",{className:"aboutMe__portfolio-siteDescription",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(d.jsx)("a",{className:"aboutMe__portfolio-siteLink",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://www.facebook.com",children:Object(d.jsx)("img",{src:L,alt:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442",className:"aboutMe__linkArrow"})})]}),Object(d.jsxs)("li",{className:"aboutMe__portfolio-site",children:[Object(d.jsx)("p",{className:"aboutMe__portfolio-siteDescription",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(d.jsx)("a",{className:"aboutMe__portfolio-siteLink",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://www.facebook.com",children:Object(d.jsx)("img",{src:L,alt:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442",className:"aboutMe__linkArrow"})})]}),Object(d.jsxs)("li",{className:"aboutMe__portfolio-site",children:[Object(d.jsx)("p",{className:"aboutMe__portfolio-siteDescription",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(d.jsx)("a",{className:"aboutMe__portfolio-siteLink",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://www.facebook.com",children:Object(d.jsx)("img",{src:L,alt:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442",className:"aboutMe__linkArrow"})})]})]})]})};var T=function(e){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(u,{loggedInState:e.loggedInState}),Object(d.jsx)(S,{}),Object(d.jsx)(y,{}),Object(d.jsx)(C,{}),Object(d.jsx)(w,{id:"techs"}),Object(d.jsx)(P,{id:"student",onSize:e.onSize}),Object(d.jsx)(b,{})]})};var E=function(e){return console.log(e.isSavedSearched),Object(d.jsxs)("div",{className:"savedMovies",children:[Object(d.jsx)(u,{className:"main__header",onSize:e.onSize}),Object(d.jsx)(f,{onSize:e.onSize,isSwitched:e.isSwitched,onSearch:e.onSearch,onTypeSwitch:e.onTypeSwitch}),Object(d.jsx)(x,{movieCards:e.isSavedSearched&&e.filteredMovies.length>0?e.filteredMovies:e.savedMovies,isSearched:!0}),Object(d.jsx)("div",{className:"savedMovies__separator"}),Object(d.jsx)(b,{})]})},F=n.a.createContext();var B=function(e){var t=n.a.useRef(),s=n.a.useRef(),c=n.a.useContext(F);return Object(d.jsxs)("div",{className:"profile",children:[Object(d.jsx)(u,{className:"main__header"}),Object(d.jsxs)("p",{className:"profile__greetings",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",c.data.name,"!"]}),Object(d.jsxs)("form",{className:"profile__form",children:[Object(d.jsxs)("div",{className:"profile__container",children:[Object(d.jsx)("p",{className:"profile__text",children:"\u0418\u043c\u044f"}),Object(d.jsx)("input",{className:"profile__input",placeholder:"\u0418\u043c\u044f",defaultValue:c.data.name,ref:t})]}),Object(d.jsxs)("div",{className:"profile__container",children:[Object(d.jsx)("p",{className:"profile__text",children:"E-mail"}),Object(d.jsx)("input",{className:"profile__input",placeholder:"\u041f\u043e\u0447\u0442\u0430",defaultValue:c.data.email,ref:s})]}),Object(d.jsx)("button",{className:"profile__edit",type:"submit",onClick:function(c){c.preventDefault(),e.onEditClick(t.current.value,s.current.value)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),Object(d.jsx)("button",{className:"profile__logout",type:"button",onClick:e.onLogoutClick,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})},U=s(9),z=s(10),R=function(){function e(t,s){Object(U.a)(this,e),this._config=t,this._form=s,this._btn=this._form.querySelector(t.submitButtonSelector)}return Object(z.a)(e,[{key:"_showError",value:function(e){this._form.querySelector("#".concat(e.id,"-error")).textContent=e.validationMessage,e.classList.add(this._config.errorClass)}},{key:"_hideError",value:function(e){this._form.querySelector("#".concat(e.id,"-error")).textContent="",e.classList.remove(this._config.errorClass)}},{key:"_isValid",value:function(e){e.validity.valid?this._hideError(e):this._showError(e)}},{key:"setSubmitBtnState",value:function(e){e?(this._btn.classList.remove(this._config.inactiveButtonClass),this._btn.disabled=!1):(this._btn.classList.add(this._config.inactiveButtonClass),this._btn.disabled=!0)}},{key:"setErrorListener",value:function(){var e=this,t=this._form.querySelectorAll(this._config.inputSelector);t.forEach((function(s){s.addEventListener("input",(function(){e._isValid(s),e.setSubmitBtnState(e._form.checkValidity())})),e._form.addEventListener("reset",(function(){t.forEach((function(t){e._hideError(t),e.setSubmitBtnState(!1)}))}))}))}},{key:"enableValidation",value:function(){this.setErrorListener(),this.setSubmitBtnState(this._form.checkValidity()),this._form.addEventListener("submit",(function(e){e.preventDefault()}))}}]),e}(),I=(document.querySelector(".popupImage"),{formSelector:".register__form",inputSelector:".register__input",submitButtonSelector:".register__button",inactiveButtonClass:"register__submitbtn_status_inactive",errorClass:"register__input_state_invalid"}),V={formSelector:".login__form",inputSelector:".login__input",submitButtonSelector:".login__button",inactiveButtonClass:"login__submitbtn_status_inactive",errorClass:"login__input_state_invalid"};var D=function(e){var t=Object(c.useRef)(),s=Object(c.useRef)();return n.a.useEffect((function(){var e=document.getElementById("loginForm");new R(V,e).enableValidation()}),[]),Object(d.jsxs)("div",{className:"login",children:[Object(d.jsx)("img",{src:l,className:"login__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(d.jsx)("p",{className:"login__greetings",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(d.jsxs)("form",{className:"login__form",id:"loginForm",children:[Object(d.jsx)("p",{className:"login__formText",children:"E-mail"}),Object(d.jsx)("input",{className:"login__input",ref:t,type:"email",id:"loginEmail",required:!0,minLength:2,maxLength:40,autoComplete:"off"}),Object(d.jsx)("span",{className:"error",id:"loginEmail-error"}),Object(d.jsx)("p",{className:"login__formText",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(d.jsx)("input",{className:"login__input",ref:s,type:"password",id:"loginPassword",required:!0,minLength:8,maxLength:30,autoComplete:"off"}),Object(d.jsx)("span",{className:"error",id:"loginPassword-error"}),Object(d.jsx)("button",{className:"login__button",type:"submit",onClick:function(c){c.preventDefault(),e.onLogin(t.current.value,s.current.value)},children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(d.jsxs)("p",{className:"login__register",children:["\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(d.jsx)("a",{className:"login__registerLink",href:"/signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})};var q=function(e){var t=Object(c.useRef)(),s=Object(c.useRef)(),i=Object(c.useRef)();return n.a.useEffect((function(){var e=document.getElementById("registerForm");new R(I,e).enableValidation()}),[]),Object(d.jsxs)("section",{className:"register",children:[Object(d.jsx)("img",{src:l,className:"register__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(d.jsx)("h2",{className:"register__greetings",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(d.jsxs)("form",{className:"register__form",id:"registerForm",autoComplete:"off",onSubmit:function(c){c.preventDefault(),e.onRegisterClick(s.current.value,i.current.value,t.current.value)},children:[Object(d.jsx)("p",{className:"register__formText",children:"\u0418\u043c\u044f"}),Object(d.jsx)("input",{className:"register__input",type:"text",ref:t,required:!0,minLength:2,id:"registerName",autocomplete:"off"}),Object(d.jsx)("span",{className:"error",id:"registerName-error"}),Object(d.jsx)("p",{className:"register__formText",children:"E-mail"}),Object(d.jsx)("input",{className:"register__input",autocomplete:"off",ref:s,type:"email",id:"registerEmail",required:!0,minLength:2,maxLength:40}),Object(d.jsx)("span",{className:"error",id:"registerEmail-error"}),Object(d.jsx)("p",{className:"register__formText",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(d.jsx)("input",{className:"register__input",autocomplete:"off",ref:i,required:!0,minLength:8,maxLength:30,id:"registerPassword",type:"password"}),Object(d.jsx)("span",{className:"error",id:"registerPassword-error"}),Object(d.jsx)("button",{className:"register__button",type:"submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(d.jsxs)("p",{className:"login__register",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(d.jsx)(o.b,{to:"/signin",className:"login__registerLink",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})};var A=function(){var e=Object(j.g)();return Object(d.jsxs)("section",{className:"pageNotFound",id:"404",children:[Object(d.jsx)("h3",{className:"pageNotFound_error",children:"404"}),Object(d.jsx)("p",{className:"pageNotFound_message",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(d.jsx)("p",{className:"pageNotFound_return",onClick:function(){e.goBack()},children:"\u041d\u0430\u0437\u0430\u0434"})]})},J=s(20),G=s(21),W=function(e){var t=e.component,s=(e.path,Object(G.a)(e,["component","path"]));return Object(d.jsx)(j.b,{children:function(){return s.loggedIn?Object(d.jsx)(t,Object(J.a)({},s)):Object(d.jsx)(j.a,{to:"/signin"})}})},H=new(function(){function e(t){Object(U.a)(this,e),this._options=t,this._headers=this._options.headers}return Object(z.a)(e,[{key:"register",value:function(e,t,s){return fetch("".concat(this._options.baseUrl,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:s})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"login",value:function(e,t){return fetch("".concat(this._options.baseUrl,"/signin"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"logout",value:function(){return fetch("".concat(this._options.baseUrl,"/signout"),{method:"delete",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}}]),e}())({baseUrl:"https://xenoxil.movie-explorer.nomoreparties.sbs",headers:{"Content-Type":"application/json"}}),K=new(function(){function e(t){Object(U.a)(this,e),this._options=t,this._headers=this._options.headers}return Object(z.a)(e,[{key:"getProfile",value:function(){return fetch("".concat(this._options.baseUrl,"/users/me"),{headers:this._options.headers,credentials:"include"}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"editProfile",value:function(e,t){return fetch("".concat(this._options.baseUrl,"/users/me"),{method:"PATCH",credentials:"include",headers:this._options.headers,body:JSON.stringify({name:e,email:t})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"changeLikeCardStatus",value:function(e,t){return fetch("".concat(this._options.baseUrl,"/").concat(e,"/likes"),{method:t?"PUT":"DELETE",credentials:"include",headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"saveMovie",value:function(e){var t=e.country,s=e.director,c=e.duration,n=e.year,i=e.description,a=e.trailerLink,o=e.nameEN,r=e.nameRU,l=e.id,j=e.src,d=e.image;return fetch("".concat(this._options.baseUrl,"/movies/"),{method:"POST",credentials:"include",headers:this._options.headers,body:JSON.stringify({country:t||"##",director:s,duration:c,year:n,description:i,image:j,trailer:a,nameRU:r,nameEN:o||r,thumbnail:"https://api.nomoreparties.co".concat(d.formats.thumbnail.url),movieId:l})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u0430: ".concat(e.status))})).catch((function(){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u0430")}))}},{key:"getSavedMovies",value:function(){return fetch("".concat(this._options.baseUrl,"/movies"),{method:"get",credentials:"include",headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432: ".concat(e.status))})).catch((function(){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432:")}))}},{key:"removeLike",value:function(e){return fetch("".concat(this._options.baseUrl,"/likes/").concat(e),{method:"DELETE",credentials:"include",headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043b\u0430\u0439\u043a\u0430: ".concat(e.status))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043b\u0430\u0439\u043a\u0430 ".concat(e))}))}}]),e}())({baseUrl:"https://xenoxil.movie-explorer.nomoreparties.sbs",headers:{"Content-Type":"application/json"}}),Q=new(function(){function e(t){Object(U.a)(this,e),this._options=t,this._headers=this._options.headers}return Object(z.a)(e,[{key:"getMovies",value:function(){return fetch("".concat(this._options.baseUrl,"/"),{headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}}]),e}())({baseUrl:"https://api.nomoreparties.co/beatfilm-movies",headers:{"Content-Type":"application/json"}});var X=function(){var e=Object(c.useState)(window.innerWidth),t=Object(r.a)(e,2),s=t[0],i=t[1],a=[],o=Object(c.useState)([]),l=Object(r.a)(o,2),h=l[0],u=l[1];Object(c.useEffect)((function(){return window.addEventListener("resize",(function(){setTimeout(i(window.innerWidth),1e3)})),function(){window.removeEventListener("resize",(function(){setTimeout(i(window.innerWidth),1e3)}))}}),[]);var b=n.a.useState({name:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",email:"pochta@ya.ru"}),m=Object(r.a)(b,2),_=m[0],f=m[1],p=n.a.useState(!1),O=Object(r.a)(p,2),x=O[0],v=O[1],g=Object(j.g)(),k=n.a.useState([]),S=Object(r.a)(k,2),y=S[0],C=S[1],w=n.a.useState(!1),M=Object(r.a)(w,2),L=M[0],P=M[1],U=n.a.useState(!1),z=Object(r.a)(U,2),R=z[0],I=z[1],V=n.a.useState([]),J=Object(r.a)(V,2),G=J[0],X=J[1],Y=n.a.useState(0),Z=Object(r.a)(Y,2),$=Z[0],ee=Z[1],te=n.a.useState(!1),se=Object(r.a)(te,2),ce=se[0],ne=se[1],ie=n.a.useState(4),ae=Object(r.a)(ie,2),oe=ae[0],re=ae[1],le=n.a.useState([]),je=Object(r.a)(le,2),de=je[0],he=je[1],ue=Object(c.useState)(!1),be=Object(r.a)(ue,2),me=be[0],_e=be[1],fe=Object(c.useState)(!0),pe=Object(r.a)(fe,2),Oe=pe[0],xe=pe[1];function ve(e){return Oe?e.filter((function(e){return e.duration>40})):e.filter((function(e){return e.duration<=40}))}function ge(e,t){var s=e.filter((function(e){return e.nameRU&&e.nameEN?e.nameRU.toLowerCase().includes(t.toLowerCase())||e.nameEN.toLowerCase().includes(t.toLowerCase()):e.nameRU.toLowerCase().includes(t.toLowerCase())}));return console.log(ve(s)),ve(s)}function Ne(){xe(!Oe)}function ke(){$<G.length?ne(!0):ne(!1)}return Object(c.useEffect)((function(){s<768?(ee(5),re(5)):s<1280&&s>=768?(ee(8),re(2)):(ee(16),re(4))}),[]),Object(c.useEffect)((function(){ke()}),[de]),n.a.useEffect((function(){K.getProfile().then((function(e){if(!e)return Promise.reject("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f");v(!0),f(e),g.push("/movies")})).then((function(){K.getSavedMovies().then((function(e){return e.data.map((function(e){return e.src=e.image,a.push(e)})),u(a),h}))})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430:",e)}))}),[]),Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(F.Provider,{value:_,children:Object(d.jsxs)(j.d,{children:[Object(d.jsx)(j.b,{path:"/landing",children:Object(d.jsx)(T,{onSize:s,loggedInState:x})}),Object(d.jsx)(W,{component:E,loggedIn:x,filteredMovies:de,onSearch:function(e){_e(!0),C(h),I(!0);var t=ge(h,e);X(t),he(t.slice(0,$)),_e(!1)},onTypeSwitch:Ne,isSwitched:Oe,savedMovies:h,isSavedSearched:R,exact:!0,path:"/savedMovies",onSize:s}),Object(d.jsx)(W,{component:B,loggedIn:x,onLogoutClick:function(){v(!1),H.logout().catch((function(e){console.log(e)}))},onEditClick:function(e,t){K.editProfile(e,t).then((function(e){f(e)})).catch((function(e){console.log(e)}))},exact:!0,path:"/profile"}),Object(d.jsx)(j.b,{path:"/signin",children:Object(d.jsx)(D,{onLogin:function(e,t){H.login(e,t).then((function(){v(!0),g.push("/movies")})).then((function(){K.getProfile().then((function(e){f(e)}))})).catch((function(e){401===e?console.log("401 - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 email \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"):400===e?console.log("400 - \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439 "):console.log(e)}))}})}),Object(d.jsx)(j.b,{path:"/signup",children:Object(d.jsx)(q,{onRegisterClick:function(e,t,s){H.register(e,t,s).then((function(){v(!0),g.push("/movies")})).then((function(){K.getProfile().then((function(e){f(e)}))})).catch((function(e){"400"===e?console.log("400 - \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439"):console.log("\u041e\u0448\u0438\u0431\u043a\u0430:",e),v(!1)}))}})}),Object(d.jsx)(W,{component:N,isSwitched:Oe,loggedIn:x,filteredMovies:de,onSearchClick:function(e){var t=[];L?(t=ge(y,e),X(t),he(t.slice(0,$))):(_e(!0),Q.getMovies().then((function(s){C(s),P(!0),s.forEach((function(e){e.src="https://api.nomoreparties.co/".concat(e.image.url)})),t=ge(s,e),X(t),he(t.slice(0,$)),_e(!1)})).catch((function(e){console.log(e)})))},isSearched:L,isShowed:ce,onMoreMoviesClick:function(){ee($+oe),he(G.slice(0,$+oe))},moreMoviesVisibilityCheck:ke,renderMovies:function(){he(G.slice(0,$))},isLoading:me,onLike:function(e){K.saveMovie(e).then((function(){console.log(e)})).catch((function(e){console.log(e)}))},savedMovies:h,onTypeSwitch:Ne,exact:!0,path:"/movies",onSize:s}),Object(d.jsx)(j.b,{path:"/",children:Object(d.jsx)(A,{})})]})})})},Y=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,36)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,a=t.getTTFB;s(e),c(e),n(e),i(e),a(e)}))};a.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(X,{})})}),document.getElementById("root")),Y()}},[[35,1,2]]]);
//# sourceMappingURL=main.c9a0567b.chunk.js.map