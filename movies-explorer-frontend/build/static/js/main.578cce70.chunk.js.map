{"version":3,"sources":["images/header-logo.svg","components/Menu/Menu.js","components/Header/Header.js","components/Footer/Footer.js","images/loupePic.svg","images/searchBtn.svg","components/MovieTypeContainer/MovieTypeContainer.js","components/SearchForm/SearchForm.js","components/MoviesCard/MoviesCard.js","images/defaultMovie.jpg","components/MoviesCardList/MoviesCardList.js","components/moreMovies/moreMovies.js","components/Preloader/Preloader.js","components/Notification/Notification.js","components/Main/Main.js","images/promo-logo.svg","components/Promo/Promo.js","components/NavTab/NavTab.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/studentFoto.png","images/linkArrow.svg","components/AboutMe/AboutMe.js","components/Landing/Landing.js","components/SavedMovies/SavedMovies.js","contexts/CurrentUserContext.js","components/Profile/Profile.js","components/FormValidator.js","utils/constants.js","components/Login/Login.js","components/Register/Register.js","components/PageNotFound/PageNotFound.js","components/ProtectedRoute/ProtectedRoute.js","utils/auth.js","utils/mainApi.js","utils/MoviesApi.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["Menu","props","className","isVisible","to","type","onClick","onCloseClick","Header","useState","isMenuOpen","setMenuState","path","src","HeaderLogo","alt","loggedInState","onSize","Footer","href","target","rel","MovieTypeContainer","isMatchedPath","useHistory","location","pathname","SwitchMovieTypeHandler","e","SwitchSavedMovieTypeHandler","console","log","isSwitched","SearchForm","searchRef","React","useRef","searchClickMovies","preventDefault","onSearchClick","current","value","searchSavedMovies","onSearch","onTypeSwitch","useEffect","lastSearchedInput","localStorage","getItem","loupePic","placeholder","ref","required","disabled","isLoading","searchBtn","MoviesCard","isLiked","savedMovies","some","movie","movieId","cardObj","id","timeDuration","mins","hours","Math","trunc","minutes","getTimeFromMins","duration","trailerLink","cardPic","name","movieName","savedMoviesPage","aria-label","onDislikeClick","onLike","MoviesCardList","isStorageFull","isSearched","movieCards","length","map","item","image","defaultPic","nameRU","onCardClick","moreMovies","isShowed","onMoreMoviesClick","Preloader","Notification","notificationMessage","Main","filteredMovies","renderMovies","moreMoviesVisibilityCheck","isNotificationVisible","Promo","promoPic","NavTab","AboutProject","Techs","AboutMe","myFoto","linkArrow","Landing","SavedMovies","isSavedSearched","onLikeClick","CurrentUserContext","createContext","Profile","nameRef","emailRef","userProfile","useContext","data","defaultValue","email","onEditClick","onLogoutClick","disable","buttonDisableState","FormValidator","config","formElem","this","_config","_form","_btn","querySelector","submitButtonSelector","input","textContent","validationMessage","classList","add","errorClass","remove","validity","valid","_hideError","_showError","validationStatus","inactiveButtonClass","inputList","querySelectorAll","inputSelector","forEach","addEventListener","_isValid","setSubmitBtnState","checkValidity","inputElement","setErrorListener","evt","registerConfig","document","formSelector","loginConfig","Login","password","loginForm","getElementById","enableValidation","minLength","maxLength","autoComplete","onLogin","Register","registerForm","onSubmit","onRegisterClick","autocomplete","PageNotFound","history","goBack","ProtectedRoute","Component","component","loggedIn","auth","options","_options","_headers","headers","fetch","baseUrl","method","body","JSON","stringify","then","res","ok","json","Promise","reject","status","credentials","userApi","catch","err","newName","newEmail","country","director","year","description","nameEN","trailer","thumbnail","formats","url","moviesListApi","App","window","innerWidth","screenWidth","setScreenWidth","savedMoviesArray","setSavedMovies","resizeFunction","setTimeout","removeEventListener","currentUser","setCurrentUser","setLoggedInState","cards","setCards","setSearched","setSavedSearched","filteredArray","setFiltered","currentMovies","setCurrentMovies","isMoreMoviesVisible","setMoreMoviesVisibility","addMovies","setAddMovies","showedMovies","setShowedMovies","setIsLoading","setSwitchState","notificationVisibility","setNotificationVisibility","setNotificationMessage","setButtonDisableState","setStorageState","typeFiltering","moviesList","filter","searchFilter","moviesArray","requiredMovie","newArray","movieObj","toLowerCase","includes","SwitchMovieType","handleLoginClick","login","handlingNotification","push","getProfile","profileObj","handleLike","card","saveMovie","statusCode","message","handleDislike","deleteId","find","_id","removeMovie","arrayWithoutDeletedMovie","parse","getSavedMovies","Provider","exact","fArray","slice","logout","editProfile","finally","register","setItem","getMovies","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.578cce70.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.6e5df113.svg\";","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n    \r\n\r\nfunction Menu(props) {\r\n    return (              \r\n              <section className= {props.isVisible ? 'menu menu__visible' : 'menu'}>\r\n                <div className='menu__link-container'>\r\n                <Link to='/landing' className='menu__link link'>Главная</Link>\r\n              <Link to='/movies' className='menu__link link'>Фильмы</Link>\r\n              <Link to='/savedMovies' className='menu__link link'>Сохранённые фильмы</Link>\r\n              <Link to='/profile' className='menu__accLink' >Аккаунт</Link>\r\n              </div>\r\n              <button type='button' className='menu__closeBtn' onClick={props.onCloseClick}/> \r\n                                        \r\n                </section>                 \r\n    )\r\n}\r\n\r\nexport default Menu","import React,{useState} from 'react'\r\nimport HeaderLogo from '../../images/header-logo.svg'\r\nimport {Link,Route,Switch} from 'react-router-dom'\r\nimport Menu from '../Menu/Menu';\r\n    \r\n\r\nfunction Header(props) {\r\n  const[isMenuOpen,setMenuState]=useState(false);\r\n  \r\n    return (              \r\n            <Switch>\r\n              <Route path='/landing'>                \r\n              <header className='header header_landingColor'>\r\n                <img src={HeaderLogo} className='header__logo' alt='Логотип проектной работы' />\r\n                {props.loggedInState ? \r\n                (<div className='header__container'>               \r\n                <Link to='/movies' className='header__link link header__landingLink'>Фильмы</Link>\r\n                <Link to='/savedMovies' className='header__link link header__landingLink'>Сохранённые фильмы</Link>\r\n                <Link to='/profile' className='header__accBtn' >Аккаунт</Link>\r\n              </div>)\r\n              : \r\n            (<div className='header__container'>               \r\n            <Link to='/signup' className='header__registration'>Регистрация</Link>\r\n            <Link to='/signin' className='header__loginBtn'>Войти</Link>                  \r\n          </div>)\r\n               }\r\n                \r\n                </header>\r\n              </Route>\r\n              <Route path='/'>\r\n              <header className='header'>\r\n              <img src={HeaderLogo} className='header__logo' alt='Логотип проектной работы' />\r\n              {props.onSize>=1280\r\n              ? (<div className='header__container'>               \r\n              <Link to='/movies' className='header__link link'>Фильмы</Link>\r\n              <Link to='/savedMovies' className='header__link link'>Сохранённые фильмы</Link>\r\n              <Link to='/profile' className='header__accBtn' >Аккаунт</Link>\r\n            </div>)\r\n            :  (<div className='header__container'>\r\n                  <button className='header__humburgerBtn' onClick={()=>setMenuState(true)}/>\r\n                </div>\r\n            )\r\n          }   \r\n          <Menu isVisible={isMenuOpen} onCloseClick={()=>setMenuState(false)}/>              \r\n                </header>  \r\n              </Route>\r\n              </Switch>               \r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\n\r\n\r\nfunction Footer(props) {\r\n    return (\r\n        <section className='footer'>\r\n            <p className='footer__title'>Учебный проект Яндекс.Практикум х BeatFilm.</p>\r\n            {props.onSize>=768 ?\r\n            (<div className='footer__container'>\r\n              <p className=\"footer__copyright\">&copy;2022.Юрий Степанов</p>\r\n              <nav className='footer__navigation'>\r\n                 <ul className='footer__links'>\r\n                     <li className='footer__link'><a href='https://practicum.yandex.ru/'  target=\"_blank\" rel='nofollow noopener noreferrer'  className='link' >Яндекс.Практикум</a></li>\r\n                     <li className='footer__link'><a href='https://github.com/xenoxil' target=\"_blank\" rel='nofollow noopener noreferrer'  className='link'>Github</a></li>\r\n                     <li className='footer__link'><a href='https://www.facebook.com' target=\"_blank\" rel='nofollow noopener noreferrer'  className='link'>Facebook</a></li> \r\n                 </ul>\r\n              </nav>\r\n            </div>)\r\n            : (<div className='footer__container'>            \r\n            <nav className='footer__navigation'>\r\n               <ul className='footer__links'>\r\n                   <li className='footer__link'><a href='https://practicum.yandex.ru/' target=\"_blank\" rel='nofollow noopener noreferrer'  className='link' >Яндекс.Практикум</a></li>\r\n                   <li className='footer__link'><a href='https://github.com/xenoxil' target=\"_blank\" rel='nofollow noopener noreferrer'  className='link'>Github</a></li>\r\n                   <li className='footer__link'><a href='https://www.facebook.com' target=\"_blank\" rel='nofollow noopener noreferrer'  className='link'>Facebook</a></li> \r\n               </ul>\r\n            </nav>\r\n            <p className=\"footer__copyright\">&copy;2022</p>\r\n          </div>)}     \r\n        </section>        \r\n    )\r\n}\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/loupePic.99b6633d.svg\";","export default __webpack_public_path__ + \"static/media/searchBtn.bd527758.svg\";","import React from 'react'   \r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nfunction MovieTypeContainer(props) { \r\n  const history = useHistory();\r\n  let isMatchedPath=history.location.pathname==='/movies';\r\n  console.log(props.isSwitched);\r\n\r\n  \r\n\r\n\r\n\r\n  function SwitchMovieTypeHandler(e){ \r\n    props.SwitchMovieTypeHandler(e);\r\n  }\r\n\r\n  function SwitchSavedMovieTypeHandler(e){\r\n   props.SwitchSavedMovieTypeHandler(e);\r\n  }\r\n\r\n  \r\n    return (\r\n        <section className='movieTypeContainer'>\r\n          {props.isSwitched ?\r\n          <div className='searchForm__movieType-container'>\r\n          <button className='searchForm__movieTypeBtn' onClick={isMatchedPath ? SwitchMovieTypeHandler : SwitchSavedMovieTypeHandler }></button>\r\n          <p className='searchForm__movieType'>Полнометражки</p>\r\n          </div> \r\n            :\r\n            <div className='searchForm__movieType-container'>\r\n            <button className='searchForm__movieTypeBtn searchForm__movieTypeShort' onClick={isMatchedPath ? SwitchMovieTypeHandler : SwitchSavedMovieTypeHandler }></button>\r\n            <p className='searchForm__movieType'>Короткометражки</p>\r\n            </div> \r\n            }\r\n            </section>              \r\n         \r\n                          \r\n    )\r\n}\r\n\r\nexport default MovieTypeContainer","import React from 'react'\r\nimport loupePic from '../../images/loupePic.svg'\r\nimport searchBtn from '../../images/searchBtn.svg'\r\nimport {useEffect} from 'react'    \r\nimport { useHistory } from 'react-router-dom';\r\nimport MovieTypeContainer from '../MovieTypeContainer/MovieTypeContainer';\r\n\r\n\r\nfunction SearchForm(props) { \r\n  const searchRef = React.useRef();\r\n  const history = useHistory();\r\n  let isMatchedPath=history.location.pathname==='/movies';\r\n  console.log(props.isSwitched);\r\n\r\n  useEffect(() => {\r\n    const lastSearchedInput=(localStorage.getItem('moviesSearchInputValue'));\r\n    \r\n    if(lastSearchedInput!==null){\r\n      searchRef.current.value=lastSearchedInput;\r\n    }    \r\n },[])\r\n\r\n  function searchClickMovies(e){\r\n   e.preventDefault();\r\n  props.onSearchClick(searchRef.current.value)     \r\n  } \r\n\r\n  function searchSavedMovies(e){\r\n    e.preventDefault();\r\n    props.onSearch(searchRef.current.value);\r\n  }\r\n\r\n  function SwitchMovieTypeHandler(e){ \r\n    e.preventDefault();   \r\n    searchClickMovies(e);\r\n    props.onTypeSwitch();\r\n  }\r\n\r\n  function SwitchSavedMovieTypeHandler(e){\r\n    e.preventDefault();   \r\n    /*props.onTypeSwitch();*/ \r\n    searchSavedMovies(e);\r\n  }\r\n\r\n  \r\n    return (\r\n      <section className='searchSection'>        \r\n        { props.onSize>=768 \r\n        ?\r\n          (<div><form className='searchForm' >\r\n            <img src={loupePic} alt='Значок лупы' className='searchForm__loupePic'/>\r\n            <input className='searchForm__input' placeholder='Фильм' ref={searchRef} required/>\r\n            <button className='searchForm__searchBtn' onClick={isMatchedPath ? searchClickMovies : searchSavedMovies} disabled={props.isLoading}>\r\n              <img src={searchBtn} alt='Кнопка поиска' />\r\n            </button>            \r\n            <MovieTypeContainer isSwitched={props.isSwitched} onTypeSwitch={props.onTypeSwitch}\r\n              SwitchSavedMovieTypeHandler={SwitchSavedMovieTypeHandler} SwitchMovieTypeHandler={SwitchMovieTypeHandler}/>            \r\n          </form>\r\n          <div className='search__bottomString'/>\r\n          </div>)\r\n          :\r\n          (<div><form className='searchForm' >            \r\n            <input className='searchForm__input' placeholder='Фильм' ref={searchRef} required/>\r\n            <button className='searchForm__searchBtn' onClick={isMatchedPath ? searchClickMovies : searchSavedMovies} disabled={props.isLoading} >\r\n              <img src={searchBtn} alt='Кнопка поиска'/>\r\n            </button>            \r\n          </form>\r\n          <MovieTypeContainer isSwitched={props.isSwitched} onTypeSwitch={props.onTypeSwitch}\r\n           SwitchSavedMovieTypeHandler={SwitchSavedMovieTypeHandler} SwitchMovieTypeHandler={SwitchMovieTypeHandler}/>          \r\n          <div className='search__bottomString'/>\r\n          </div>)}\r\n        </section>\r\n         \r\n                          \r\n    )\r\n}\r\n\r\nexport default SearchForm","\r\nfunction MoviesCard(props) {\r\n    \r\n    const isLiked = props.savedMovies.some(movie =>  movie.movieId === props.cardObj.id);\r\n\r\n\r\n    function handleLikeClick(){\r\n        props.onLike(props.cardObj);\r\n    }\r\n    function handleDislike(){        \r\n        props.onDislikeClick(props.cardObj);\r\n    }\r\n    function getTimeFromMins(mins) {\r\n        let hours = Math.trunc(mins/60);\r\n        let minutes = mins % 60;\r\n        if(hours>0){\r\n            return hours + \"ч \" + minutes + \"м\";\r\n        }\r\n        else{\r\n            return minutes + \"м\";   \r\n        }\r\n    };\r\n\r\n    const timeDuration= getTimeFromMins(props.duration)\r\n   \r\n    \r\n  \r\n    return (\r\n        <li className='moviesCard'>\r\n            <a href={props.cardObj.trailerLink} target=\"_blank\" rel = 'noreferrer'>\r\n            <img src={props.cardPic} alt={props.name} className='moviesCard__pic' /></a>          \r\n          <div className='moviesCard__container'>\r\n              <p className='moviesCard__name'>{props.movieName}</p>\r\n              <button className={ props.savedMoviesPage ? 'moviesCard__deleteButton' : isLiked ? 'moviesCard__likeBtn ' :  'moviesCard__likeBtn_active' }\r\n               aria-label='Кнопка лайк' type=\"button\" onClick={isLiked ? handleDislike :handleLikeClick}> </button>    \r\n          </div>\r\n          <p className='moviesCard__duration'>{timeDuration}</p>\r\n        </li>                \r\n    )\r\n}\r\n\r\nexport default MoviesCard","export default __webpack_public_path__ + \"static/media/defaultMovie.725aa4f1.jpg\";","import React from 'react'\r\nimport MoviesCard from '../MoviesCard/MoviesCard'\r\nimport defaultPic from '../../images/defaultMovie.jpg'\r\n\r\n\r\n    \r\n\r\nfunction MoviesCardList(props) { \r\nconsole.log('сохраненные фильмы');\r\nconsole.log(props.savedMovies);\r\n\r\n    return (\r\n        props.isStorageFull || props.isSearched ?\r\n        (props.movieCards.length>0 ?\r\n            <ul className='moviesCardList'>\r\n            {\r\n             props.movieCards.map((item)=>{\r\n                if(!item.src){item.src=item.image};\r\n                if(!item.id){item.id=item.movieId}\r\n\r\n                 return <MoviesCard cardObj={item} savedMoviesPage={props.savedMoviesPage}\r\n                 cardPic={item.src ? item.src :  defaultPic} name={item.nameRU}\r\n                  movieName={item.nameRU} duration={item.duration} key={item.id}\r\n                  savedMovies={props.savedMovies}\r\n                    onCardClick={props.onCardClick} onLike={props.onLike} onDislikeClick={props.onDislikeClick}/>\r\n             })\r\n            }\r\n        </ul>\r\n        :\r\n        <p className='moviesCardList__empty'>Ничего не найдено ‿︵‿ヽ(°□° )ノ︵‿︵</p>\r\n        )\r\n        : <ul></ul>                \r\n    )\r\n}\r\n\r\nexport default MoviesCardList","import React from 'react'\r\n\r\n\r\nfunction moreMovies(props) {        \r\n    return (        \r\n        (<button className={props.isShowed ? `moreMovies` : `moreMovies moreMovies__hidden`} onClick={props.onMoreMoviesClick}>\r\n           Ещё\r\n        </button>)\r\n    )\r\n}\r\n\r\nexport default moreMovies","import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = () => {\n    return (\n        <div className=\"preloader\">\n            <div className=\"preloader__container\">\n                <span className=\"preloader__round\"></span>\n            </div>\n        </div>\n    )\n};\n\nexport default Preloader\n","import React from 'react'\r\n \r\n\r\nfunction Notification(props) {\r\n    \r\n    return (\r\n        <div className={props.isVisible ?  'notification__container notification__container_visible' : 'notification__container'}>\r\n            <span className='notification__message'>{props.notificationMessage}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import Header from '../Header/Header';\r\nimport Footer from '../Footer/Footer';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\r\nimport MoreMovies from '../moreMovies/moreMovies';\r\nimport React from 'react';\r\nimport Preloader from '../Preloader/Preloader';\r\nimport Notification from '../Notification/Notification';\r\n\r\n\r\nfunction Main(props) { \r\n  console.log(props.filteredMovies);\r\n  console.log(props.isSwitched)\r\n   \r\n    return (\r\n      <div className=\"main\">\r\n        <Header className='main__header' onSize={props.onSize}/>\r\n        <SearchForm onSize={props.onSize} onSearchClick={props.onSearchClick}\r\n         renderMovies={props.renderMovies} moreMoviesVisibilityCheck={props.moreMoviesVisibilityCheck} isLoading={props.isLoading}\r\n          onTypeSwitch={props.onTypeSwitch} isSwitched={props.isSwitched}/>\r\n         {props.isLoading ? <Preloader/> \r\n         : (<MoviesCardList movieCards={props.filteredMovies} isSearched={props.isSearched} isStorageFull={props.isStorageFull} onCardClick={props.onCardClick}\r\n           onLike={props.onLike} savedMovies={props.savedMovies} onDislikeClick={props.onDislikeClick}/>\r\n        )} \r\n        <MoreMovies isShowed={props.isShowed} onMoreMoviesClick={props.onMoreMoviesClick}  /> \r\n        <Footer/> \r\n        <Notification isVisible={props.isNotificationVisible} notificationMessage={props.notificationMessage}/>  \r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Main;","export default __webpack_public_path__ + \"static/media/promo-logo.e4c6967f.svg\";","import React from 'react'\r\nimport promoPic from '../../images/promo-logo.svg'\r\n\r\n\r\nfunction Promo() {\r\n    return (\r\n        <section className='promo'>\r\n            <img src={promoPic} className='promo__logo' alt='Растерный логотип практикума' />\r\n            <h1 className='promo__text'>Учебный проект студента факультета Веб-разработки.</h1>\r\n        </section>        \r\n    )\r\n}\r\n\r\nexport default Promo","import React from 'react'\r\n\r\nfunction NavTab() {\r\n    return (\r\n        <section className='navTab'>\r\n          <nav className='navTab__container'>\r\n              <a href='#project' className='navTab__link' alt='О проекте' >О проекте</a>\r\n              <a href='#techs' className='navTab__link' alt='Технологии' >Технологии</a>\r\n              <a href='#student' className='navTab__link' alt='Студент' >Студент</a>        \r\n          </nav>\r\n        </section>        \r\n    )\r\n}\r\n\r\nexport default NavTab","import React from 'react'\r\n\r\n\r\nfunction AboutProject() {\r\n    return (\r\n        <section className='aboutProject' id='project'>\r\n            <h2 className='aboutProject__title'>О проекте</h2>\r\n            <div className='aboutProject__steps'>\r\n            <div className='aboutProject__textContainer'>\r\n              <h3 className='aboutProject__step-title'>Дипломный проект включал 5 этапов</h3>\r\n              <p  className='aboutProject__step-description'>Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\r\n            </div>\r\n            <div className='aboutProject__textContainer'>\r\n              <h3 className='aboutProject__step-title'>На выполнение диплома ушло 5 недель</h3>\r\n              <p  className='aboutProject__step-description'>У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\r\n            </div>\r\n            </div>\r\n            <div className='aboutProject__progressRow'>\r\n                <div className='aboutProject__backend'>\r\n                    <p className='aboutProject__progress aboutProject__progress-backend'>1 неделя</p>\r\n                    <p className='aboutProject__progress-title'>Back-end</p>\r\n                </div>\r\n                <div className='aboutProject__frontend'>                \r\n                <p className='aboutProject__progress aboutProject__progress-frontend'>4 недели</p>\r\n                <p className='aboutProject__progress-title'>Front-end</p>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </section>        \r\n    )\r\n}\r\n\r\nexport default AboutProject","import React from 'react'\r\n\r\nfunction Techs() {\r\n    return (\r\n        <section className='techs' id='techs'>\r\n            <h2 className='techs__title'>Технологии</h2>\r\n\r\n            <div className='techs__textContainer'>\r\n              <h3 className='techs__subtitle'>7 технологий</h3>\r\n              <p  className='techs__text'>На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\r\n            </div>\r\n            <ul className='techs__list'>\r\n                <li className='techs__technology'><p className='techs__name'>HTML</p></li>\r\n                <li className='techs__technology'><p className='techs__name'>CSS</p></li>\r\n                <li className='techs__technology'><p className='techs__name'>JS</p></li>\r\n                <li className='techs__technology'><p className='techs__name'>React</p></li>\r\n                <li className='techs__technology'><p className='techs__name'>Git</p></li>\r\n                <li className='techs__technology'><p className='techs__name'>Express.js</p></li>\r\n                <li className='techs__technology'><p className='techs__name'>mongoDB</p></li>\r\n            </ul>            \r\n\r\n        </section>        \r\n    )\r\n}\r\n\r\nexport default Techs","export default __webpack_public_path__ + \"static/media/studentFoto.3f31b05b.png\";","export default __webpack_public_path__ + \"static/media/linkArrow.fb3c35df.svg\";","import React from 'react'\r\nimport myFoto from '../../images/studentFoto.png'\r\n\r\nimport linkArrow from '../../images/linkArrow.svg'\r\n\r\n\r\nfunction AboutMe(props) {  \r\n    return (\r\n        <section className='aboutMe' id='student'>\r\n            <h3 className='aboutMe__title'>Студент</h3>\r\n            {props.onSize>=767 ? \r\n            (<div className='aboutMe__student'>\r\n              <div className='aboutMe__container'>\r\n                <p className='aboutMe__name'>Юрий</p>\r\n                <p className='aboutMe__job'>Фронтенд-разработчик</p>\r\n                <p className='aboutMe__about'>Я из города Лыткарино. Закончил факультет информационных систем РосНОУ.Я люблю слушать музыку, а ещё увлекаюсь бегом и компьютерными играми. Недавно начал кодить. С 2018 года работаю в компании «Nielsen».\r\n Сейчас занимаюсь фриланс-заказами и помогаю студентам Яндекс Практикума.</p>\r\n              </div>\r\n              <img className='aboutMe__foto' alt='Фото студента практикума' src={myFoto}/>\r\n            </div>)\r\n            :\r\n            (<div className='aboutMe__student'>\r\n              <div className='aboutMe__container'>\r\n              <img className='aboutMe__foto' alt='Фото студента практикума' src={myFoto}/>\r\n                <p className='aboutMe__name'>Юрий</p>\r\n                <p className='aboutMe__job'>Фронтенд-разработчик</p>\r\n                <p className='aboutMe__about'>Я из города Лыткарино. Закончил факультет информационных систем РосНОУ.Я люблю слушать музыку, а ещё увлекаюсь бегом и компьютерными играми. Недавно начал кодить. С 2018 года работаю в компании «Nielsen».\r\n Сейчас занимаюсь фриланс-заказами и помогаю студентам Яндекс Практикума.</p>\r\n              </div>\r\n              \r\n            </div>)\r\n             }\r\n            \r\n            <div className='aboutMe__socialLinks'>\r\n                <a className='aboutMe__socialLink link' target=\"_blank\" rel='nofollow noopener noreferrer'  href='https://www.facebook.com'>Facebook</a>\r\n                <a className='aboutMe__socialLink link' target=\"_blank\" rel='nofollow noopener noreferrer'  href='https://github.com/xenoxil'>Github</a>\r\n            </div>\r\n          <ul className='aboutMe__portfolio'>\r\n              <p className='aboutMe__subtitle'>Портфолио</p>\r\n              <li className='aboutMe__portfolio-site'>\r\n                  <p className='aboutMe__portfolio-siteDescription'>Статичный сайт</p>\r\n                  <a className='aboutMe__portfolio-siteLink' target=\"_blank\" rel='nofollow noopener noreferrer'  href='https://www.facebook.com'><img src={linkArrow} alt='Ссылка на сайт' className='aboutMe__linkArrow'/></a>\r\n              </li>\r\n              <li className='aboutMe__portfolio-site'>\r\n                  <p className='aboutMe__portfolio-siteDescription'>Адаптивный сайт</p>\r\n                  <a className='aboutMe__portfolio-siteLink' target=\"_blank\" rel='nofollow noopener noreferrer'  href='https://www.facebook.com'><img src={linkArrow} alt='Ссылка на сайт' className='aboutMe__linkArrow'/></a>\r\n              </li>\r\n              <li className='aboutMe__portfolio-site'>\r\n                  <p className='aboutMe__portfolio-siteDescription'>Одностраничное приложение</p>\r\n                  <a className='aboutMe__portfolio-siteLink' target=\"_blank\" rel='nofollow noopener noreferrer' href='https://www.facebook.com'><img src={linkArrow} alt='Ссылка на сайт' className='aboutMe__linkArrow'/></a>\r\n              </li>\r\n          </ul>\r\n        </section>        \r\n    )\r\n}\r\n\r\nexport default AboutMe","import Header from '../Header/Header';\r\nimport Promo from '../Promo/Promo'\r\nimport NavTab from '../NavTab/NavTab';\r\nimport AboutProject from '../AboutProject/AboutProject';\r\nimport Techs from '../Techs/Techs';\r\nimport AboutMe from '../AboutMe/AboutMe';\r\nimport Footer from '../Footer/Footer';\r\n\r\n\r\nfunction Landing(props) {\r\n    return (\r\n      <div className=\"App\">\r\n        <Header loggedInState={props.loggedInState}/>\r\n        <Promo/>\r\n        <NavTab/>   \r\n        <AboutProject />\r\n        <Techs id='techs'/>\r\n        <AboutMe id='student' onSize={props.onSize}/>\r\n        <Footer/>   \r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Landing;","import Header from '../Header/Header';\r\nimport Footer from '../Footer/Footer';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\r\nimport Notification from '../Notification/Notification';\r\n\r\n\r\nfunction SavedMovies(props) {\r\n    console.log(props.isSavedSearched);\r\n    return (\r\n      <div className=\"savedMovies\">\r\n        <Header className='main__header' onSize={props.onSize}/>\r\n        <SearchForm onSize={props.onSize} isSwitched={props.isSwitched} onSearch={props.onSearch} onTypeSwitch={props.onTypeSwitch}/>\r\n        <MoviesCardList movieCards={props.isSavedSearched && props.filteredMovies.length>0 ? \r\n          props.filteredMovies : props.savedMovies} savedMovies={props.savedMovies} isSearched={true}\r\n          onLike={props.onLikeClick} onDislikeClick={props.onDislikeClick} savedMoviesPage={true}/>\r\n        <div className='savedMovies__separator'/>               \r\n        <Footer/>\r\n        <Notification isVisible={props.isNotificationVisible} notificationMessage={props.notificationMessage}/>   \r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default SavedMovies;","import React from 'react'\r\n\r\n\r\nconst CurrentUserContext = React.createContext()\r\nexport default CurrentUserContext;","import React from 'react'\r\nimport Header from '../Header/Header';\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\r\nimport Notification from '../Notification/Notification';\r\n\r\nfunction Profile(props) {\r\n  const nameRef = React.useRef();\r\n  const emailRef = React.useRef();\r\n  const userProfile = React.useContext(CurrentUserContext);\r\n  \r\n  \r\n  \r\n  function editProfile(e){\r\n    e.preventDefault();\r\n      props.onEditClick(nameRef.current.value, emailRef.current.value) \r\n   \r\n  }\r\n   \r\n\r\n    return (\r\n      <div className='profile'>\r\n        <Header className='main__header'/>\r\n        <p className='profile__greetings'>Привет, {userProfile.data.name}!</p>\r\n        <form className='profile__form'>\r\n           <div className='profile__container'>\r\n               <p className='profile__text'>Имя</p>\r\n               <input className='profile__input' placeholder='Имя' defaultValue={userProfile.data.name} ref={nameRef}/>\r\n           </div>\r\n           <div className='profile__container'>\r\n               <p className='profile__text'>E-mail</p>\r\n               <input className='profile__input' placeholder='Почта' defaultValue={userProfile.data.email} ref={emailRef}/>\r\n           </div>\r\n           <button className='profile__edit' type='submit' onClick={editProfile}>Редактировать</button>             \r\n        </form>\r\n        <button className='profile__logout' type='button' onClick={props.onLogoutClick} disable={props.buttonDisableState}>Выйти из аккаунта</button>\r\n        <Notification isVisible={props.isNotificationVisible} notificationMessage={props.notificationMessage}/>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  export default Profile;","export class FormValidator {\r\n    constructor(config, formElem) {\r\n            this._config = config;\r\n            this._form = formElem;                    \r\n            this._btn = this._form.querySelector(config.submitButtonSelector);\r\n        }\r\n        //функция показа ошибки\r\n    _showError(input) {\r\n        const error = this._form.querySelector(`#${input.id}-error`);        \r\n        error.textContent = input.validationMessage;\r\n        input.classList.add(this._config.errorClass);\r\n    }\r\n\r\n    //функция удаления ошибки\r\n    _hideError(input) {\r\n        const error = this._form.querySelector(`#${input.id}-error`);\r\n        error.textContent = '';\r\n        input.classList.remove(this._config.errorClass);\r\n    }\r\n\r\n    //проверка валидности инпута\r\n    _isValid(input) {\r\n        if (input.validity.valid) {\r\n            this._hideError(input);\r\n        } else {\r\n            this._showError(input);\r\n        }\r\n    }\r\n\r\n    //изменение статуса кнопки сабмит \r\n    setSubmitBtnState(validationStatus) {\r\n        if (!validationStatus) {\r\n            this._btn.classList.add(this._config.inactiveButtonClass);\r\n            this._btn.disabled = true;\r\n        } else {\r\n            this._btn.classList.remove(this._config.inactiveButtonClass);\r\n            this._btn.disabled = false;\r\n        }\r\n    }\r\n\r\n    // повесить обработчики на инпуты\r\n    setErrorListener() {\r\n            const inputList = this._form.querySelectorAll(this._config.inputSelector);\r\n            inputList.forEach((input) => {\r\n                input.addEventListener('input', () => {\r\n                    this._isValid(input);\r\n                    this.setSubmitBtnState(this._form.checkValidity());\r\n                })\r\n                this._form.addEventListener('reset', () => {\r\n                    inputList.forEach((inputElement) => {\r\n                        this._hideError(inputElement)\r\n                        this.setSubmitBtnState(false);\r\n                    })\r\n                });\r\n            })\r\n        }\r\n        // включить валидацию по конфигу\r\n    enableValidation() {\r\n        this.setErrorListener();\r\n        this.setSubmitBtnState(this._form.checkValidity());\r\n        this._form.addEventListener('submit', (evt) => {\r\n            evt.preventDefault();\r\n        })\r\n    }\r\n}","export const popupImage = document.querySelector('.popupImage');\r\n\r\nexport const EscBtn = 'Escape';\r\n//конфиг\r\nexport const proccessingText = 'Обработка запроса...';\r\nexport const yesText = 'Да';\r\nexport const saveProccess = 'Сохранение...';\r\nexport const saveText = 'Сохранение';\r\n\r\n\r\n\r\nexport const config = {\r\n        formSelector: '.popup__container',\r\n        inputSelector: '.popup__input',\r\n        submitButtonSelector: '.popup__submitbtn',\r\n        inactiveButtonClass: 'popup__submitbtn_status_inactive',\r\n        errorClass: 'popup__input_state_invalid'\r\n    }\r\n   \r\nexport  const registerConfig = {\r\n      formSelector: '.register__form',\r\n      inputSelector: '.register__input',\r\n      submitButtonSelector: '.register__button',\r\n      inactiveButtonClass: 'register__submitbtn_status_inactive',\r\n      errorClass: 'register__input_state_invalid'\r\n    }\r\n\r\n    export  const loginConfig = {\r\n      formSelector: '.login__form',\r\n      inputSelector: '.login__input',\r\n      submitButtonSelector: '.login__button',\r\n      inactiveButtonClass: 'login__submitbtn_status_inactive',\r\n      errorClass: 'login__input_state_invalid'\r\n    }\r\n   ","import HeaderLogo from '../../images/header-logo.svg'\r\nimport React,{useRef} from'react' \r\nimport {FormValidator} from '../FormValidator'\r\nimport {loginConfig} from '../../utils/constants'\r\nimport Notification from '../Notification/Notification'\r\n\r\nfunction Login(props) {\r\n\r\n    const email=useRef();\r\n    const password=useRef();\r\n\r\n\r\n    React.useEffect(() => {    \r\n        const loginForm=document.getElementById('loginForm');\r\n    const loginFormValidation= new FormValidator(loginConfig,loginForm);\r\n        loginFormValidation.enableValidation();\r\n      }, []);\r\n\r\n      function handleSubmit(e){\r\n        e.preventDefault();\r\n        props.onLogin(email.current.value,password.current.value);\r\n            }\r\n\r\n    return (\r\n      <div className=\"login\">\r\n        <img src={HeaderLogo} className='login__logo' alt='Логотип проектной работы' />\r\n        <p className='login__greetings'>Рады видеть!</p>\r\n        <form className='login__form' id='loginForm'>\r\n            <p className='login__formText'>E-mail</p>\r\n            <input className='login__input'\r\n            ref={email}\r\n            type=\"email\"\r\n            id=\"loginEmail\"               \r\n            required\r\n            minLength={2}\r\n            maxLength={40}\r\n            autoComplete=\"off\" />\r\n            <span className=\"error\" id=\"loginEmail-error\" />\r\n            <p className='login__formText'>Пароль</p>\r\n            <input className='login__input'\r\n            ref={password}\r\n            type=\"password\"\r\n            id=\"loginPassword\"               \r\n            required\r\n            minLength={8}\r\n            maxLength={30}\r\n            autoComplete=\"off\"/>\r\n            <span className=\"error\" id=\"loginPassword-error\" />\r\n            <button className='login__button' type='submit' onClick={handleSubmit}>Войти</button>\r\n        </form>\r\n        <p className='login__register'>Ещё не зарегистрированы? <a className='login__registerLink' href='/signup'>Регистрация</a></p>\r\n        <Notification isVisible={props.isNotificationVisible} notificationMessage={props.notificationMessage}/>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  export default Login;","import HeaderLogo from '../../images/header-logo.svg'\r\nimport {FormValidator} from '../FormValidator';\r\nimport React, { useRef} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {registerConfig} from '../../utils/constants';\r\nimport Notification from '../Notification/Notification';\r\n\r\n\r\nfunction Register(props) {\r\n\r\n  const name = useRef();\r\n  const email = useRef();\r\n  const password = useRef();\r\n  \r\n   \r\n  React.useEffect(() => {   \r\n  const registerForm=document.getElementById('registerForm');\r\nconst registerFormValidation= new FormValidator(registerConfig,registerForm);\r\nregisterFormValidation.enableValidation();\r\n}, []);\r\n\r\nfunction handleSubmit(e) {\r\n  e.preventDefault();\r\n  props.onRegisterClick(email.current.value, password.current.value,name.current.value);    \r\n}\r\n\r\n    return (\r\n      <section className=\"register\">\r\n        <img src={HeaderLogo} className='register__logo' alt='Логотип проектной работы' />\r\n        <h2 className='register__greetings'>Добро пожаловать!</h2>\r\n        <form className='register__form' id=\"registerForm\" autoComplete=\"off\" onSubmit={handleSubmit}>\r\n            <p className='register__formText'>Имя</p>            \r\n            <input className='register__input'\r\n             type='text'\r\n             ref={name}\r\n             required\r\n             minLength={2}\r\n             id=\"registerName\"\r\n             autocomplete=\"off\"\r\n            />\r\n            <span className=\"error\" id=\"registerName-error\" />\r\n            <p className='register__formText'>E-mail</p>            \r\n            <input className='register__input'\r\n            autocomplete=\"off\"\r\n              ref={email}\r\n              type=\"email\"\r\n              id=\"registerEmail\"               \r\n              required\r\n              minLength={2}\r\n              maxLength={40}/>\r\n            <span className=\"error\" id=\"registerEmail-error\" />\r\n            <p className='register__formText'>Пароль</p> \r\n            <input className='register__input'\r\n            autocomplete=\"off\"\r\n            ref={password}\r\n            required\r\n            minLength={8}\r\n            maxLength={30}\r\n            id=\"registerPassword\"\r\n            type='password'\r\n            />\r\n            <span className=\"error\" id=\"registerPassword-error\" />\r\n            <button className='register__button' type='submit' disabled={props.buttonDisableState}>Зарегистрироваться</button>\r\n        </form> \r\n        <p className='login__register'>Уже зарегистрированы? <Link to='/signin' className='login__registerLink' >Войти</Link></p> \r\n        <Notification isVisible={props.isNotificationVisible} notificationMessage={props.notificationMessage}/>      \r\n      </section>\r\n    );\r\n  }\r\n  \r\n  export default Register;","import React from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\n\r\nfunction PageNotFound() {\r\n    const history= useHistory();\r\n    function goBack(){\r\n        history.goBack()\r\n    }\r\n    return (\r\n        <section className='pageNotFound' id='404'>\r\n            <h3 className='pageNotFound_error'>404</h3>\r\n               <p className='pageNotFound_message'>Страница не найдена</p>\r\n               <p className='pageNotFound_return'   onClick={goBack}>Назад</p>\r\n        </section>        \r\n    )\r\n}\r\n\r\nexport default PageNotFound","import {Route,Redirect} from 'react-router-dom'\r\nimport React from 'react'\r\n\r\nconst ProtectedRoute =({\r\n    component: Component,\r\n    path: Path,\r\n    ...props\r\n})=>{    \r\n    return <Route >{()=>props.loggedIn ? <Component{...props} /> : <Redirect to='/signin' />}</Route>}\r\n\r\n    export default ProtectedRoute","export class Auth {\r\n  constructor(options) {\r\n    // тело конструктора\r\n    this._options = options;\r\n    this._headers = this._options.headers;\r\n  }\r\n\r\n  register(email, password,name) {\r\n    return fetch(`${this._options.baseUrl}/signup`, {\r\n      method: \"POST\",     \r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n        name\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject(res.status);\r\n      }\r\n    });\r\n  }\r\n\r\n  login(email, password) {\r\n    return fetch(`${this._options.baseUrl}/signin`, {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject(res.status);\r\n      }\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    return fetch(`${this._options.baseUrl}/signout`, {\r\n      method: \"delete\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },     \r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject(res.status);\r\n      }\r\n    });\r\n  }\r\n\r\n \r\n}\r\n\r\nconst auth = new Auth({\r\n // baseUrl: 'http://localhost:3001',\r\n  baseUrl: \"https://xenoxil.movie-explorer.nomoreparties.sbs\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default auth;\r\n","export class mainApi {\r\n    constructor(options) {\r\n        // тело конструктора\r\n        this._options = options;\r\n        this._headers = this._options.headers;\r\n\r\n    }\r\n    \r\n    //получаем данные профайла\r\n    getProfile() {\r\n        return fetch(`${this._options.baseUrl}/users/me`, {\r\n            headers: this._options.headers,\r\n            'credentials': 'include',\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка: ${res.status}`) }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n    }\r\n    \r\n\r\n\r\n    //патчим профайл на сервере\r\n    editProfile(newName, newEmail) {\r\n        return fetch(`${this._options.baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            'credentials': 'include',\r\n            headers: this._options.headers,\r\n            body: JSON.stringify({\r\n                name: newName,\r\n                email: newEmail\r\n            })\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка: ${res.status}`) }\r\n            })            \r\n    }\r\n    changeLikeCardStatus(id, isLiked) {\r\n\r\n        // Обычная реализация: 2 разных метода для удаления и постановки лайка.\r\n        return fetch(`${this._options.baseUrl}/movies`, {\r\n            method: isLiked ? 'PUT' : 'DELETE',\r\n            'credentials': 'include',\r\n            headers: this._options.headers,\r\n        })\r\n            .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n    }\r\n    \r\n    saveMovie({country, director, duration,year,description,trailerLink,nameEN,nameRU,id,src,image}){\r\n        return fetch(`${this._options.baseUrl}/movies/`, {\r\n            method: 'POST',\r\n            'credentials': 'include',\r\n            headers: this._options.headers,\r\n            body: JSON.stringify({\r\n                country: country ? country : \"##\",\r\n        director :director,\r\n        duration: duration,\r\n        year: year,\r\n        description: description,\r\n        image:src,\r\n        trailer: trailerLink ? trailerLink : 'https://xenoxil.movies-explorer.nomoreparties.sbs/404',\r\n        nameRU:nameRU,\r\n        nameEN:nameEN ? nameEN : nameRU,\r\n        thumbnail:`https://api.nomoreparties.co${image.formats.thumbnail.url}`,\r\n        movieId:id        \r\n            })\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка при сохранении фильма: ${res.status}`) }\r\n            })            \r\n    } \r\n    \r\n    //отправка лайка \r\n    getSavedMovies() {\r\n        return fetch(`${this._options.baseUrl}/movies`, {\r\n            method: 'get',\r\n            'credentials': 'include',\r\n            headers: this._options.headers\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка при получении сохраненных фильмов: ${res.status}`) }\r\n            })\r\n            .catch(() => {\r\n                console.log(`Ошибка при получении сохраненных фильмов:`)\r\n            })\r\n    }\r\n\r\n    //удаление фильма из сохраненных на сервере\r\n    removeMovie(id) {\r\n        return fetch(`${this._options.baseUrl}/movies/${id}`, {\r\n            method: 'DELETE',\r\n            'credentials': 'include',\r\n            headers: this._options.headers\r\n        })\r\n            .then((res) => {                \r\n                if (res.ok) {                    \r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка при удалении лайка: ${res.status}`) }\r\n            })\r\n            .catch((err) => {\r\n                console.log(`Ошибка при удалении лайка ${err}`)\r\n            })\r\n    }\r\n    \r\n  \r\n}    \r\nconst userApi = new mainApi({\r\n    //baseUrl: 'http://localhost:3001',\r\n    baseUrl: 'https://xenoxil.movie-explorer.nomoreparties.sbs',\r\n    headers: {        \r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\n\r\nexport default userApi","export class moviesApi {\r\n    constructor(options) {\r\n        // тело конструктора\r\n        this._options = options;\r\n        this._headers = this._options.headers;\r\n\r\n    }\r\n    //получаем карточки с сервера\r\n    getMovies() {\r\n        // ...\r\n        return fetch(`${this._options.baseUrl}/`, {\r\n            headers: this._options.headers,            \r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка: ${res.status}`) }\r\n            })\r\n    }\r\n    \r\n    \r\n   \r\n}    \r\n\r\nconst moviesListApi = new moviesApi({\r\n    baseUrl: 'https://api.nomoreparties.co/beatfilm-movies',\r\n    headers: {        \r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\n\r\nexport default moviesListApi\r\n\r\n\r\n\r\n","import './App.css';\r\nimport Main from '../Main/Main'\r\nimport Landing from '../Landing/Landing';\r\nimport SavedMovies from '../SavedMovies/SavedMovies';\r\nimport Profile from '../Profile/Profile';\r\nimport Login from '../Login/Login';\r\nimport Register from '../Register/Register';\r\nimport PageNotFound from '../PageNotFound/PageNotFound';\r\nimport {Route,Switch,useHistory, Redirect} from 'react-router-dom'\r\nimport React,{useState,useEffect} from 'react'\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext.js\";\r\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\r\nimport auth from '../../utils/auth';\r\nimport userApi from '../../utils/mainApi';\r\nimport moviesListApi from '../../utils/MoviesApi';\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n\r\n\r\n  const[screenWidth,setScreenWidth]=useState(window.innerWidth)\r\n  const savedMoviesArray=[];\r\n  const [savedMovies,setSavedMovies]=useState([]) \r\n  const resizeFunction = () => {\r\n      setTimeout(setScreenWidth(window.innerWidth),1000)                \r\n    }\r\n  \r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", resizeFunction); \r\n    return () => {\r\n      window.removeEventListener(\"resize\", resizeFunction);\r\n    };   \r\n  }, [])\r\n  \r\n  \r\n  \r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    name: \"Пользователь\",\r\n    email: \"pochta@ya.ru\"  \r\n  });\r\n\r\n  const [loggedInState, setLoggedInState] = React.useState(false);\r\n  const history = useHistory();\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n  const [isSearched, setSearched] = React.useState(false);\r\n  const [isSavedSearched, setSavedSearched] = React.useState(false);\r\n  const [filteredArray, setFiltered] = React.useState([]); \r\n  const [currentMovies,setCurrentMovies] = React.useState(0);\r\n  const [isMoreMoviesVisible,setMoreMoviesVisibility] = React.useState(false);\r\n  const [addMovies,setAddMovies]=React.useState(4);\r\n  const [showedMovies,setShowedMovies]=React.useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isSwitched,setSwitchState] = useState(true);  \r\n  const [notificationVisibility,setNotificationVisibility] = useState(false);\r\n  const [notificationMessage,setNotificationMessage] = useState('');\r\n  const [buttonDisableState,setButtonDisableState] = useState(false);\r\n  const [isStorageFull,setStorageState] = useState(false)\r\n\r\n    \r\n  \r\n  useEffect(()=>{\r\n    if(screenWidth<768){\r\n      setCurrentMovies(5)\r\n      setAddMovies(5)\r\n    }\r\n    else if(screenWidth<1280 &&  screenWidth>=768){\r\n      setCurrentMovies(8);\r\n      setAddMovies(2)        \r\n    }\r\n    else{setCurrentMovies(16)\r\n    setAddMovies(4)}\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n   moreMoviesVisibilityCheck()   \r\n  },[showedMovies])\r\n\r\n  useEffect(()=>{\r\n    if (localStorage.getItem('moviesObjects') !== null && localStorage.getItem('moviesObjects') !== []) {\r\n       setShowedMovies(JSON.parse(localStorage.getItem('moviesObjects')));\r\n       setStorageState(true);\r\n    }\r\n    if(localStorage.getItem('moviesTypeFull') !== null){\r\n      console.log(localStorage.getItem('moviesTypeFull'));\r\n      setSwitchState(localStorage.getItem('moviesTypeFull'));\r\n    }\r\n  },[])\r\n  \r\n  \r\n  \r\n\r\n  React.useEffect(() => {    \r\n    userApi\r\n      .getProfile()\r\n      .then((profileObj) => {        \r\n        if(profileObj){\r\n        setLoggedInState(true);\r\n        setCurrentUser(profileObj);\r\n        history.push(\"/movies\");\r\n      }\r\n      else{\r\n        return Promise.reject('Необходима авторизация');\r\n      }\r\n      })\r\n      .then(()=>{\r\n        userApi.getSavedMovies()\r\n        .then((data)=>{\r\n          data.data.map((item)=>{\r\n            item.src=item.image;\r\n          return savedMoviesArray.push(item)\r\n          })\r\n          setSavedMovies(savedMoviesArray)\r\n          return(savedMovies)      \r\n        })\r\n      })\r\n      .catch((err) => console.log(\"Ошибка:\", err));      \r\n    }, []);\r\n  \r\n    \r\n\r\n    function handleSearch(movie){\r\n      let fArray=[];\r\n      localStorage.setItem('moviesSearchInputValue', movie);\r\n      localStorage.setItem('moviesTypeFull', isSwitched);\r\n      // проверяем выполнялся ли поиск и если нет, запрашиваем массив фильмов от Апи Bitmovies\r\n       if(!isSearched){\r\n        setIsLoading(true);\r\n        moviesListApi.getMovies()\r\n        .then((moviesArray)=>{                    \r\n          setCards(moviesArray);\r\n          setSearched(true);\r\n          moviesArray.forEach((item)=>{\r\n            item.src=`https://api.nomoreparties.co/${item.image.url}`})\r\n          fArray= searchFilter(moviesArray,movie)          \r\n          setFiltered(fArray);\r\n          localStorage.setItem('moviesObjects', JSON.stringify(fArray.slice(0,currentMovies)));                   \r\n          setShowedMovies(fArray.slice(0,currentMovies))\r\n          setIsLoading(false);                   \r\n        })           \r\n        .catch((err)=>{\r\n         console.log(err)\r\n        })        \r\n       }\r\n       else{\r\n        fArray=searchFilter(cards,movie);\r\n        //сохраняем массив отфильтрованных фильмов\r\n        setFiltered(fArray);\r\n        localStorage.setItem('moviesObjects', JSON.stringify(fArray.slice(0,currentMovies)));                \r\n        setShowedMovies(fArray.slice(0,currentMovies));               \r\n      }\r\n               \r\n    }\r\n\r\n    function typeFiltering(moviesList){\r\n      if(isSwitched){        \r\n        return moviesList.filter((item)=>{ return item.duration>40})\r\n      }\r\n      else{\r\n        return moviesList.filter((item)=>{ return item.duration<=40})}\r\n    }\r\n\r\n    function searchFilter(moviesArray,requiredMovie){\r\n      let newArray=moviesArray.filter((movieObj)=>{            \r\n        if(movieObj.nameRU && movieObj.nameEN){\r\n          return (movieObj.nameRU.toLowerCase().includes(requiredMovie.toLowerCase()) || movieObj.nameEN.toLowerCase().includes(requiredMovie.toLowerCase()))\r\n        }\r\n        else{\r\n          return (movieObj.nameRU.toLowerCase().includes(requiredMovie.toLowerCase()))\r\n        }          \r\n      })\r\n      console.log('массив отфильтрованных по хронометражу фильмов')            \r\n      console.log(typeFiltering(newArray))\r\n      return typeFiltering(newArray);\r\n    }\r\n\r\n    function handleSavedMoviesSearch(movie){      \r\n       setIsLoading(true);                          \r\n       /*setCards(savedMovies);*/\r\n       setSavedSearched(true);             \r\n       let fArray=searchFilter(savedMovies,movie);          \r\n          setFiltered(fArray);\r\n          setShowedMovies(fArray.slice(0,currentMovies))\r\n          setIsLoading(false);                            \r\n        } \r\n        \r\n        function SwitchMovieType(){\r\n          setSwitchState(!isSwitched);\r\n          }\r\n    \r\n\r\n    \r\n\r\n\r\n  function handleRegisterClick(email, password,name) {\r\n    setButtonDisableState(true);\r\n    auth\r\n      .register(email, password,name)\r\n      .then(() => {\r\n        handleLoginClick(email, password)\r\n        handlingNotification(`Регистрация прошла успешно`)\r\n      })      \r\n      .catch((err) => {\r\n        if (err === \"400\") {\r\n          console.log(\"400 - некорректно заполнено одно из полей\");\r\n          handlingNotification(\"Ошибка при регистрации 400 - некорректно заполнено одно из полей\")\r\n        } else {\r\n          console.log(`Ошибка:`, err);\r\n          handlingNotification(`Ошибка при регистрации: ${err}`)\r\n        }\r\n        setLoggedInState(false);\r\n      })\r\n      .finally(()=>{\r\n        setButtonDisableState(false);\r\n      })      \r\n  }\r\n\r\n  function handleLoginClick(email, password) {\r\n    auth\r\n      .login(email, password)\r\n      .then(() => {\r\n        handlingNotification(`Вход успешно выполнен`)\r\n        setLoggedInState(true);        \r\n        history.push(\"/movies\");\r\n      })\r\n      .then(()=>{\r\n        userApi.getProfile()\r\n        .then((profileObj) => {\r\n          setCurrentUser(profileObj);\r\n        })\r\n      })\r\n      .catch((err) => {\r\n        if (err === 401) {\r\n          console.log(\"401 - пользователь с email не найден\");\r\n          handlingNotification(`Ошибка при входе: 401 - пользователь с email не найден`)\r\n          \r\n        } else if (err === 400) {\r\n          console.log(\"400 - не передано одно из полей \");\r\n          handlingNotification(`Ошибка при входе: 400 - не передано одно из полей или одно из полей не валидно`)\r\n        } else {\r\n          console.log(err);\r\n          handlingNotification(`Ошибка при входе: ${err}`)\r\n        }\r\n      });\r\n  }\r\n\r\n  function handlingNotification(notificationMessage){\r\n    setNotificationMessage(notificationMessage)\r\n    setNotificationVisibility(true);\r\n     setTimeout(()=>{setNotificationVisibility(false)},5000);\r\n  }\r\n\r\n  function handleEditProfileClick(name,email){\r\n    if(name!==currentUser.data.name  || email!==currentUser.data.email){\r\n      setButtonDisableState(true);\r\n      userApi.editProfile(name,email)\r\n     .then((profileObj)=>{\r\n      setCurrentUser(profileObj)\r\n      handlingNotification(`Данные профиля успешно изменены`)      \r\n     })\r\n     .catch((err)=>{console.log(err)\r\n      handlingNotification(`Ошибка при изменении профиля: ${err}`);      \r\n    })\r\n    .finally(()=>{\r\n      setButtonDisableState(false);\r\n    })\r\n  }\r\n  else{\r\n    handlingNotification('Пожалуйста измените данные профиля перед нажатием кнопки \"Редактировать\"')\r\n  }\r\n    }  \r\n   \r\n  function handleLogoutClick(){\r\n    setLoggedInState(false);\r\n    auth.logout()\r\n    .catch((err) => {      \r\n        console.log(err);\r\n      }\r\n    );              \r\n  }\r\n\r\n  function moreMoviesVisibilityCheck(){    \r\n    currentMovies<filteredArray.length ? setMoreMoviesVisibility(true) : setMoreMoviesVisibility(false)\r\n  }\r\n  function renderMovies(){\r\n    setShowedMovies(filteredArray.slice(0,currentMovies));\r\n  }\r\n  function handleMoreMoviesClick(){\r\n    setCurrentMovies(currentMovies+addMovies);\r\n    setShowedMovies(filteredArray.slice(0,currentMovies+addMovies));             \r\n  }\r\n\r\n  function handleLike(card){ \r\n   userApi.saveMovie(card)\r\n   .then((card)=>{\r\n    setSavedMovies([card, ...savedMovies])\r\n    handlingNotification(`Фильм успешно сохранён`)    \r\n  console.log(card)})   \r\n   .catch((err)=>{\r\n     console.log(err);\r\n     if(err.statusCode===400){\r\n      handlingNotification(`${err.message}`);\r\n     }     \r\n     handlingNotification(`${err}`)\r\n   })\r\n   }\r\n\r\n   function handleDislike(card){\r\n    const deleteId = savedMovies.find((movie) => movie.movieId===card.id)._id;\r\n    userApi.removeMovie(deleteId)\r\n    .then(() => {\r\n      const arrayWithoutDeletedMovie=[];\r\n      savedMovies.forEach((movie) => { \r\n        if(movie.movieId!==card.id){\r\n          arrayWithoutDeletedMovie.push(movie)\r\n        }        \r\n      })\r\n      setSavedMovies(arrayWithoutDeletedMovie)\r\n      handlingNotification(`Фильм успешно удалён`)       \r\n    })\r\n    .catch((err)=>{\r\n       console.log(err)\r\n       handlingNotification(`Ошибка при удалении фильма ${err}`);\r\n     })\r\n     }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n      <Switch>\r\n        <Route exact path='/landing'>\r\n        <Landing\r\n         onSize={screenWidth}\r\n         loggedInState={loggedInState}/>\r\n        </Route>\r\n        <ProtectedRoute\r\n        component={SavedMovies}\r\n        loggedIn={loggedInState}\r\n        filteredMovies={showedMovies}\r\n        onSearch={handleSavedMoviesSearch}\r\n        onTypeSwitch={SwitchMovieType}\r\n        isSwitched={isSwitched}\r\n        savedMovies={savedMovies}\r\n        isSavedSearched={isSavedSearched}\r\n        onLikeClick={handleLike}\r\n        onDislikeClick={handleDislike}\r\n        isNotificationVisible={notificationVisibility}\r\n        notificationMessage={notificationMessage}           \r\n        exact \r\n         path='/savedMovies'\r\n         onSize={screenWidth}\r\n         />\r\n         <ProtectedRoute\r\n        component={Profile}        \r\n        loggedIn={loggedInState}\r\n        onLogoutClick={handleLogoutClick}\r\n        onEditClick={handleEditProfileClick}\r\n        isNotificationVisible={notificationVisibility}\r\n        notificationMessage={notificationMessage}\r\n        buttonDisableState={buttonDisableState}        \r\n        exact \r\n         path='/profile'         \r\n         />\r\n        <Route exact path='/signin'>\r\n        <Login onLogin={handleLoginClick}\r\n        isNotificationVisible={notificationVisibility}\r\n        notificationMessage={notificationMessage}\r\n        />\r\n        </Route>\r\n        <Route exact path='/signup'>\r\n        <Register onRegisterClick={handleRegisterClick}\r\n        isNotificationVisible={notificationVisibility}\r\n        notificationMessage={notificationMessage}\r\n        buttonDisableState={buttonDisableState}\r\n        />\r\n        </Route>        \r\n        <ProtectedRoute\r\n        component={Main} \r\n        isSwitched={isSwitched}       \r\n        loggedIn={loggedInState}\r\n        filteredMovies={showedMovies}\r\n        onSearchClick={handleSearch}\r\n        isSearched={isSearched}\r\n        isShowed={isMoreMoviesVisible}\r\n        onMoreMoviesClick={handleMoreMoviesClick}\r\n        moreMoviesVisibilityCheck={moreMoviesVisibilityCheck}\r\n        renderMovies={renderMovies}\r\n        isLoading={isLoading}\r\n        onLike={handleLike}\r\n        onDislikeClick={handleDislike}\r\n        savedMovies={savedMovies}\r\n        onTypeSwitch={SwitchMovieType}\r\n        isNotificationVisible={notificationVisibility}\r\n        notificationMessage={notificationMessage}\r\n        isStorageFull={isStorageFull}        \r\n        exact \r\n         path='/movies'\r\n         onSize={screenWidth}         \r\n         />\r\n         <Route exact path=\"/\">\r\n         {<Redirect to=\"/landing\" />}\r\n         </Route>\r\n         <Route path='*'>\r\n        <PageNotFound/>\r\n        </Route>                 \r\n        </Switch>        \r\n        </CurrentUserContext.Provider>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter} from 'react-router-dom'\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}