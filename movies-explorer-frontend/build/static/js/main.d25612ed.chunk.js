(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],{29:function(e,t,s){},30:function(e,t,s){},37:function(e,t,s){},38:function(e,t,s){"use strict";s.r(t);var i=s(1),c=s.n(i),n=s(20),a=s.n(n),o=s(2),r=(s(29),s(22)),l=s(4),j=(s(30),s.p+"static/media/header-logo.6e5df113.svg"),d=s(3),h=s(0);var u=function(e){return Object(h.jsxs)("section",{className:e.isVisible?"menu menu__visible":"menu",children:[Object(h.jsxs)("div",{className:"menu__link-container",children:[Object(h.jsx)(o.b,{to:"/landing",className:"menu__link link",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(h.jsx)(o.b,{to:"/movies",className:"menu__link link",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(o.b,{to:"/savedMovies",className:"menu__link link",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(o.b,{to:"/profile",className:"menu__accLink",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]}),Object(h.jsx)("button",{type:"button",className:"menu__closeBtn",onClick:e.onCloseClick})]})};var b=function(e){var t=Object(i.useState)(!1),s=Object(l.a)(t,2),c=s[0],n=s[1];return Object(h.jsxs)(d.d,{children:[Object(h.jsx)(d.b,{path:"/landing",children:Object(h.jsxs)("header",{className:"header header_landingColor",children:[Object(h.jsx)("img",{src:j,className:"header__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),e.loggedInState?Object(h.jsxs)("div",{className:"header__container",children:[Object(h.jsx)(o.b,{to:"/movies",className:"header__link link header__landingLink",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(o.b,{to:"/savedMovies",className:"header__link link header__landingLink",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(o.b,{to:"/profile",className:"header__accBtn",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]}):Object(h.jsxs)("div",{className:"header__container",children:[Object(h.jsx)(o.b,{to:"/signup",className:"header__registration",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(h.jsx)(o.b,{to:"/signin",className:"header__loginBtn",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}),Object(h.jsx)(d.b,{path:"/",children:Object(h.jsxs)("header",{className:"header",children:[Object(h.jsx)("img",{src:j,className:"header__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),e.onSize>=1280?Object(h.jsxs)("div",{className:"header__container",children:[Object(h.jsx)(o.b,{to:"/movies",className:"header__link link",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(o.b,{to:"/savedMovies",className:"header__link link",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(o.b,{to:"/profile",className:"header__accBtn",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]}):Object(h.jsx)("div",{className:"header__container",children:Object(h.jsx)("button",{className:"header__humburgerBtn",onClick:function(){return n(!0)}})}),Object(h.jsx)(u,{isVisible:c,onCloseClick:function(){return n(!1)}})]})})]})};var m=function(e){return Object(h.jsxs)("section",{className:"footer",children:[Object(h.jsx)("p",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),e.onSize>=768?Object(h.jsxs)("div",{className:"footer__container",children:[Object(h.jsx)("p",{className:"footer__copyright",children:"\xa92022.\u042e\u0440\u0438\u0439 \u0421\u0442\u0435\u043f\u0430\u043d\u043e\u0432"}),Object(h.jsx)("nav",{className:"footer__navigation",children:Object(h.jsxs)("ul",{className:"footer__links",children:[Object(h.jsx)("li",{className:"footer__link",children:Object(h.jsx)("a",{href:"https://practicum.yandex.ru/",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(h.jsx)("li",{className:"footer__link",children:Object(h.jsx)("a",{href:"https://github.com/xenoxil",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Github"})}),Object(h.jsx)("li",{className:"footer__link",children:Object(h.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Facebook"})})]})})]}):Object(h.jsxs)("div",{className:"footer__container",children:[Object(h.jsx)("nav",{className:"footer__navigation",children:Object(h.jsxs)("ul",{className:"footer__links",children:[Object(h.jsx)("li",{className:"footer__link",children:Object(h.jsx)("a",{href:"https://practicum.yandex.ru/",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(h.jsx)("li",{className:"footer__link",children:Object(h.jsx)("a",{href:"https://github.com/xenoxil",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Github"})}),Object(h.jsx)("li",{className:"footer__link",children:Object(h.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Facebook"})})]})}),Object(h.jsx)("p",{className:"footer__copyright",children:"\xa92022"})]})]})},_=s.p+"static/media/loupePic.99b6633d.svg",f=s.p+"static/media/searchBtn.bd527758.svg";var p=function(e){var t=c.a.useRef(),s="/movies"===Object(d.g)().location.pathname;function n(s){s.preventDefault(),e.onSearchClick(t.current.value)}function a(s){s.preventDefault(),e.onSearch(t.current.value)}function o(t){t.preventDefault(),e.onTypeSwitch()}function r(t){t.preventDefault(),e.onTypeSwitch()}return Object(i.useEffect)((function(){var e=localStorage.getItem("moviesSearchInputValue");null!==localStorage.getItem("moviesTypeFull")&&null!==e&&(t.current.value=e)}),[]),Object(h.jsx)("section",{className:"searchSection",children:e.onSize>=768?Object(h.jsxs)("div",{children:[Object(h.jsxs)("form",{className:"searchForm",children:[Object(h.jsx)("img",{src:_,alt:"\u0417\u043d\u0430\u0447\u043e\u043a \u043b\u0443\u043f\u044b",className:"searchForm__loupePic"}),Object(h.jsx)("input",{className:"searchForm__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",ref:t,required:!0}),Object(h.jsx)("button",{className:"searchForm__searchBtn",onClick:s?n:a,disabled:e.isLoading,children:Object(h.jsx)("img",{src:f,alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"})}),e.isSwitched?Object(h.jsxs)("div",{className:"searchForm__movieType-container",children:[Object(h.jsx)("button",{className:"searchForm__movieTypeBtn",onClick:s?o:r}),Object(h.jsx)("p",{className:"searchForm__movieType",children:"\u041f\u043e\u043b\u043d\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]}):Object(h.jsxs)("div",{className:"searchForm__movieType-container",children:[Object(h.jsx)("button",{className:"searchForm__movieTypeBtn searchForm__movieTypeShort",onClick:s?o:r}),Object(h.jsx)("p",{className:"searchForm__movieType ",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})]}),Object(h.jsx)("div",{className:"search__bottomString"})]}):Object(h.jsxs)("div",{children:[Object(h.jsxs)("form",{className:"searchForm",children:[Object(h.jsx)("input",{className:"searchForm__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",ref:t,required:!0}),Object(h.jsx)("button",{className:"searchForm__searchBtn",onClick:s?n:a,disabled:e.isLoading,children:Object(h.jsx)("img",{src:f,alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"})})]}),e.isSwitched?Object(h.jsxs)("div",{className:"searchForm__movieType-container",children:[Object(h.jsx)("button",{className:"searchForm__movieTypeBtn",onClick:s?o:r}),Object(h.jsx)("p",{className:"searchForm__movieType",children:"\u041f\u043e\u043b\u043d\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]}):Object(h.jsxs)("div",{className:"searchForm__movieType-container",children:[Object(h.jsx)("button",{className:"searchForm__movieTypeBtn searchForm__movieTypeShort",onClick:s?o:r}),Object(h.jsx)("p",{className:"searchForm__movieType",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]}),Object(h.jsx)("div",{className:"search__bottomString"})]})})};var O=function(e){var t=e.savedMovies.some((function(t){return t.movieId===e.cardObj.id})),s=function(e){var t=Math.trunc(e/60),s=e%60;return t>0?t+"\u0447 "+s+"\u043c":s+"\u043c"}(e.duration);return Object(h.jsxs)("li",{className:"moviesCard",children:[Object(h.jsx)("a",{href:e.cardObj.trailerLink,target:"_blank",rel:"noreferrer",children:Object(h.jsx)("img",{src:e.cardPic,alt:e.name,className:"moviesCard__pic"})}),Object(h.jsxs)("div",{className:"moviesCard__container",children:[Object(h.jsx)("p",{className:"moviesCard__name",children:e.movieName}),Object(h.jsx)("button",{className:e.savedMoviesPage?"moviesCard__deleteButton":t?"moviesCard__likeBtn ":"moviesCard__likeBtn_active","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u043b\u0430\u0439\u043a",type:"button",onClick:t?function(){e.onDislikeClick(e.cardObj)}:function(){e.onLike(e.cardObj)},children:" "})]}),Object(h.jsx)("p",{className:"moviesCard__duration",children:s})]})},x=s.p+"static/media/defaultMovie.725aa4f1.jpg";var v=function(e){return console.log("\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"),console.log(e.savedMovies),e.isSearched?e.movieCards.length>0?Object(h.jsx)("ul",{className:"moviesCardList",children:e.movieCards.map((function(t){return t.src||(t.src=t.image),t.id||(t.id=t.movieId),Object(h.jsx)(O,{cardObj:t,savedMoviesPage:e.savedMoviesPage,cardPic:t.src?t.src:x,name:t.nameRU,movieName:t.nameRU,duration:t.duration,savedMovies:e.savedMovies,onCardClick:e.onCardClick,onLike:e.onLike,onDislikeClick:e.onDislikeClick},t.id)}))}):Object(h.jsx)("p",{className:"moviesCardList__empty",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u203f\ufe35\u203f\u30fd(\xb0\u25a1\xb0 )\u30ce\ufe35\u203f\ufe35"}):Object(h.jsx)("ul",{})};var g=function(e){return Object(h.jsx)("button",{className:e.isShowed?"moreMovies":"moreMovies moreMovies__hidden",onClick:e.onMoreMoviesClick,children:"\u0415\u0449\u0451"})},N=(s(37),function(){return Object(h.jsx)("div",{className:"preloader",children:Object(h.jsx)("div",{className:"preloader__container",children:Object(h.jsx)("span",{className:"preloader__round"})})})});var k=function(e){return Object(h.jsx)("div",{className:e.isVisible?"notification__container notification__container_visible":"notification__container",children:Object(h.jsx)("span",{className:"notification__message",children:e.notificationMessage})})};var S=function(e){return Object(h.jsxs)("div",{className:"main",children:[Object(h.jsx)(b,{className:"main__header",onSize:e.onSize}),Object(h.jsx)(p,{onSize:e.onSize,onSearchClick:e.onSearchClick,renderMovies:e.renderMovies,moreMoviesVisibilityCheck:e.moreMoviesVisibilityCheck,isLoading:e.isLoading,onTypeSwitch:e.onTypeSwitch,isSwitched:e.isSwitched}),e.isLoading?Object(h.jsx)(N,{}):Object(h.jsx)(v,{movieCards:e.filteredMovies,isSearched:e.isSearched,onCardClick:e.onCardClick,onLike:e.onLike,savedMovies:e.savedMovies,onDislikeClick:e.onDislikeClick}),Object(h.jsx)(g,{isShowed:e.isShowed,onMoreMoviesClick:e.onMoreMoviesClick}),Object(h.jsx)(m,{}),Object(h.jsx)(k,{isVisible:e.isNotificationVisible,notificationMessage:e.notificationMessage})]})},C=s.p+"static/media/promo-logo.e4c6967f.svg";var M=function(){return Object(h.jsxs)("section",{className:"promo",children:[Object(h.jsx)("img",{src:C,className:"promo__logo",alt:"\u0420\u0430\u0441\u0442\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430"}),Object(h.jsx)("h1",{className:"promo__text",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]})};var y=function(){return Object(h.jsx)("section",{className:"navTab",children:Object(h.jsxs)("nav",{className:"navTab__container",children:[Object(h.jsx)("a",{href:"#project",className:"navTab__link",alt:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(h.jsx)("a",{href:"#techs",className:"navTab__link",alt:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(h.jsx)("a",{href:"#student",className:"navTab__link",alt:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})]})})};var w=function(){return Object(h.jsxs)("section",{className:"aboutProject",id:"project",children:[Object(h.jsx)("h2",{className:"aboutProject__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(h.jsxs)("div",{className:"aboutProject__steps",children:[Object(h.jsxs)("div",{className:"aboutProject__textContainer",children:[Object(h.jsx)("h3",{className:"aboutProject__step-title",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(h.jsx)("p",{className:"aboutProject__step-description",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(h.jsxs)("div",{className:"aboutProject__textContainer",children:[Object(h.jsx)("h3",{className:"aboutProject__step-title",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(h.jsx)("p",{className:"aboutProject__step-description",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(h.jsxs)("div",{className:"aboutProject__progressRow",children:[Object(h.jsxs)("div",{className:"aboutProject__backend",children:[Object(h.jsx)("p",{className:"aboutProject__progress aboutProject__progress-backend",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(h.jsx)("p",{className:"aboutProject__progress-title",children:"Back-end"})]}),Object(h.jsxs)("div",{className:"aboutProject__frontend",children:[Object(h.jsx)("p",{className:"aboutProject__progress aboutProject__progress-frontend",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(h.jsx)("p",{className:"aboutProject__progress-title",children:"Front-end"})]})]})]})};var L=function(){return Object(h.jsxs)("section",{className:"techs",id:"techs",children:[Object(h.jsx)("h2",{className:"techs__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(h.jsxs)("div",{className:"techs__textContainer",children:[Object(h.jsx)("h3",{className:"techs__subtitle",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(h.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."})]}),Object(h.jsxs)("ul",{className:"techs__list",children:[Object(h.jsx)("li",{className:"techs__technology",children:Object(h.jsx)("p",{className:"techs__name",children:"HTML"})}),Object(h.jsx)("li",{className:"techs__technology",children:Object(h.jsx)("p",{className:"techs__name",children:"CSS"})}),Object(h.jsx)("li",{className:"techs__technology",children:Object(h.jsx)("p",{className:"techs__name",children:"JS"})}),Object(h.jsx)("li",{className:"techs__technology",children:Object(h.jsx)("p",{className:"techs__name",children:"React"})}),Object(h.jsx)("li",{className:"techs__technology",children:Object(h.jsx)("p",{className:"techs__name",children:"Git"})}),Object(h.jsx)("li",{className:"techs__technology",children:Object(h.jsx)("p",{className:"techs__name",children:"Express.js"})}),Object(h.jsx)("li",{className:"techs__technology",children:Object(h.jsx)("p",{className:"techs__name",children:"mongoDB"})})]})]})},P=s.p+"static/media/studentFoto.3f31b05b.png",T=s.p+"static/media/linkArrow.fb3c35df.svg";var E=function(e){return Object(h.jsxs)("section",{className:"aboutMe",id:"student",children:[Object(h.jsx)("h3",{className:"aboutMe__title",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),e.onSize>=767?Object(h.jsxs)("div",{className:"aboutMe__student",children:[Object(h.jsxs)("div",{className:"aboutMe__container",children:[Object(h.jsx)("p",{className:"aboutMe__name",children:"\u042e\u0440\u0438\u0439"}),Object(h.jsx)("p",{className:"aboutMe__job",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a"}),Object(h.jsx)("p",{className:"aboutMe__about",children:"\u042f \u0438\u0437 \u0433\u043e\u0440\u043e\u0434\u0430 \u041b\u044b\u0442\u043a\u0430\u0440\u0438\u043d\u043e. \u0417\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c \u0420\u043e\u0441\u041d\u041e\u0423.\u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c \u0438 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u044b\u043c\u0438 \u0438\u0433\u0440\u0430\u043c\u0438. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2018 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u044e \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xabNielsen\xbb. \u0421\u0435\u0439\u0447\u0430\u0441 \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0441\u044c \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u043f\u043e\u043c\u043e\u0433\u0430\u044e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430\u043c \u042f\u043d\u0434\u0435\u043a\u0441 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430."})]}),Object(h.jsx)("img",{className:"aboutMe__foto",alt:"\u0424\u043e\u0442\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430",src:P})]}):Object(h.jsx)("div",{className:"aboutMe__student",children:Object(h.jsxs)("div",{className:"aboutMe__container",children:[Object(h.jsx)("img",{className:"aboutMe__foto",alt:"\u0424\u043e\u0442\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430",src:P}),Object(h.jsx)("p",{className:"aboutMe__name",children:"\u042e\u0440\u0438\u0439"}),Object(h.jsx)("p",{className:"aboutMe__job",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a"}),Object(h.jsx)("p",{className:"aboutMe__about",children:"\u042f \u0438\u0437 \u0433\u043e\u0440\u043e\u0434\u0430 \u041b\u044b\u0442\u043a\u0430\u0440\u0438\u043d\u043e. \u0417\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c \u0420\u043e\u0441\u041d\u041e\u0423.\u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c \u0438 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u044b\u043c\u0438 \u0438\u0433\u0440\u0430\u043c\u0438. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2018 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u044e \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xabNielsen\xbb. \u0421\u0435\u0439\u0447\u0430\u0441 \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0441\u044c \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u043f\u043e\u043c\u043e\u0433\u0430\u044e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430\u043c \u042f\u043d\u0434\u0435\u043a\u0441 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430."})]})}),Object(h.jsxs)("div",{className:"aboutMe__socialLinks",children:[Object(h.jsx)("a",{className:"aboutMe__socialLink link",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://www.facebook.com",children:"Facebook"}),Object(h.jsx)("a",{className:"aboutMe__socialLink link",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://github.com/xenoxil",children:"Github"})]}),Object(h.jsxs)("ul",{className:"aboutMe__portfolio",children:[Object(h.jsx)("p",{className:"aboutMe__subtitle",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(h.jsxs)("li",{className:"aboutMe__portfolio-site",children:[Object(h.jsx)("p",{className:"aboutMe__portfolio-siteDescription",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(h.jsx)("a",{className:"aboutMe__portfolio-siteLink",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://www.facebook.com",children:Object(h.jsx)("img",{src:T,alt:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442",className:"aboutMe__linkArrow"})})]}),Object(h.jsxs)("li",{className:"aboutMe__portfolio-site",children:[Object(h.jsx)("p",{className:"aboutMe__portfolio-siteDescription",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(h.jsx)("a",{className:"aboutMe__portfolio-siteLink",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://www.facebook.com",children:Object(h.jsx)("img",{src:T,alt:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442",className:"aboutMe__linkArrow"})})]}),Object(h.jsxs)("li",{className:"aboutMe__portfolio-site",children:[Object(h.jsx)("p",{className:"aboutMe__portfolio-siteDescription",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(h.jsx)("a",{className:"aboutMe__portfolio-siteLink",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://www.facebook.com",children:Object(h.jsx)("img",{src:T,alt:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442",className:"aboutMe__linkArrow"})})]})]})]})};var F=function(e){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(b,{loggedInState:e.loggedInState}),Object(h.jsx)(M,{}),Object(h.jsx)(y,{}),Object(h.jsx)(w,{}),Object(h.jsx)(L,{id:"techs"}),Object(h.jsx)(E,{id:"student",onSize:e.onSize}),Object(h.jsx)(m,{})]})};var B=function(e){return console.log(e.isSavedSearched),Object(h.jsxs)("div",{className:"savedMovies",children:[Object(h.jsx)(b,{className:"main__header",onSize:e.onSize}),Object(h.jsx)(p,{onSize:e.onSize,isSwitched:e.isSwitched,onSearch:e.onSearch,onTypeSwitch:e.onTypeSwitch}),Object(h.jsx)(v,{movieCards:e.isSavedSearched&&e.filteredMovies.length>0?e.filteredMovies:e.savedMovies,savedMovies:e.savedMovies,isSearched:!0,onLike:e.onLikeClick,onDislikeClick:e.onDislikeClick,savedMoviesPage:!0}),Object(h.jsx)("div",{className:"savedMovies__separator"}),Object(h.jsx)(m,{}),Object(h.jsx)(k,{isVisible:e.isNotificationVisible,notificationMessage:e.notificationMessage})]})},V=c.a.createContext();var D=function(e){var t=c.a.useRef(),s=c.a.useRef(),i=c.a.useContext(V);return Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)(b,{className:"main__header"}),Object(h.jsxs)("p",{className:"profile__greetings",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",i.data.name,"!"]}),Object(h.jsxs)("form",{className:"profile__form",children:[Object(h.jsxs)("div",{className:"profile__container",children:[Object(h.jsx)("p",{className:"profile__text",children:"\u0418\u043c\u044f"}),Object(h.jsx)("input",{className:"profile__input",placeholder:"\u0418\u043c\u044f",defaultValue:i.data.name,ref:t})]}),Object(h.jsxs)("div",{className:"profile__container",children:[Object(h.jsx)("p",{className:"profile__text",children:"E-mail"}),Object(h.jsx)("input",{className:"profile__input",placeholder:"\u041f\u043e\u0447\u0442\u0430",defaultValue:i.data.email,ref:s})]}),Object(h.jsx)("button",{className:"profile__edit",type:"submit",onClick:function(i){i.preventDefault(),e.onEditClick(t.current.value,s.current.value)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),Object(h.jsx)("button",{className:"profile__logout",type:"button",onClick:e.onLogoutClick,disable:e.buttonDisableState,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"}),Object(h.jsx)(k,{isVisible:e.isNotificationVisible,notificationMessage:e.notificationMessage})]})},I=s(9),U=s(10),z=function(){function e(t,s){Object(I.a)(this,e),this._config=t,this._form=s,this._btn=this._form.querySelector(t.submitButtonSelector)}return Object(U.a)(e,[{key:"_showError",value:function(e){this._form.querySelector("#".concat(e.id,"-error")).textContent=e.validationMessage,e.classList.add(this._config.errorClass)}},{key:"_hideError",value:function(e){this._form.querySelector("#".concat(e.id,"-error")).textContent="",e.classList.remove(this._config.errorClass)}},{key:"_isValid",value:function(e){e.validity.valid?this._hideError(e):this._showError(e)}},{key:"setSubmitBtnState",value:function(e){e?(this._btn.classList.remove(this._config.inactiveButtonClass),this._btn.disabled=!1):(this._btn.classList.add(this._config.inactiveButtonClass),this._btn.disabled=!0)}},{key:"setErrorListener",value:function(){var e=this,t=this._form.querySelectorAll(this._config.inputSelector);t.forEach((function(s){s.addEventListener("input",(function(){e._isValid(s),e.setSubmitBtnState(e._form.checkValidity())})),e._form.addEventListener("reset",(function(){t.forEach((function(t){e._hideError(t),e.setSubmitBtnState(!1)}))}))}))}},{key:"enableValidation",value:function(){this.setErrorListener(),this.setSubmitBtnState(this._form.checkValidity()),this._form.addEventListener("submit",(function(e){e.preventDefault()}))}}]),e}(),R=(document.querySelector(".popupImage"),{formSelector:".register__form",inputSelector:".register__input",submitButtonSelector:".register__button",inactiveButtonClass:"register__submitbtn_status_inactive",errorClass:"register__input_state_invalid"}),q={formSelector:".login__form",inputSelector:".login__input",submitButtonSelector:".login__button",inactiveButtonClass:"login__submitbtn_status_inactive",errorClass:"login__input_state_invalid"};var A=function(e){var t=Object(i.useRef)(),s=Object(i.useRef)();return c.a.useEffect((function(){var e=document.getElementById("loginForm");new z(q,e).enableValidation()}),[]),Object(h.jsxs)("div",{className:"login",children:[Object(h.jsx)("img",{src:j,className:"login__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(h.jsx)("p",{className:"login__greetings",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(h.jsxs)("form",{className:"login__form",id:"loginForm",children:[Object(h.jsx)("p",{className:"login__formText",children:"E-mail"}),Object(h.jsx)("input",{className:"login__input",ref:t,type:"email",id:"loginEmail",required:!0,minLength:2,maxLength:40,autoComplete:"off"}),Object(h.jsx)("span",{className:"error",id:"loginEmail-error"}),Object(h.jsx)("p",{className:"login__formText",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(h.jsx)("input",{className:"login__input",ref:s,type:"password",id:"loginPassword",required:!0,minLength:8,maxLength:30,autoComplete:"off"}),Object(h.jsx)("span",{className:"error",id:"loginPassword-error"}),Object(h.jsx)("button",{className:"login__button",type:"submit",onClick:function(i){i.preventDefault(),e.onLogin(t.current.value,s.current.value)},children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(h.jsxs)("p",{className:"login__register",children:["\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(h.jsx)("a",{className:"login__registerLink",href:"/signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]}),Object(h.jsx)(k,{isVisible:e.isNotificationVisible,notificationMessage:e.notificationMessage})]})};var J=function(e){var t=Object(i.useRef)(),s=Object(i.useRef)(),n=Object(i.useRef)();return c.a.useEffect((function(){var e=document.getElementById("registerForm");new z(R,e).enableValidation()}),[]),Object(h.jsxs)("section",{className:"register",children:[Object(h.jsx)("img",{src:j,className:"register__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(h.jsx)("h2",{className:"register__greetings",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(h.jsxs)("form",{className:"register__form",id:"registerForm",autoComplete:"off",onSubmit:function(i){i.preventDefault(),e.onRegisterClick(s.current.value,n.current.value,t.current.value)},children:[Object(h.jsx)("p",{className:"register__formText",children:"\u0418\u043c\u044f"}),Object(h.jsx)("input",{className:"register__input",type:"text",ref:t,required:!0,minLength:2,id:"registerName",autocomplete:"off"}),Object(h.jsx)("span",{className:"error",id:"registerName-error"}),Object(h.jsx)("p",{className:"register__formText",children:"E-mail"}),Object(h.jsx)("input",{className:"register__input",autocomplete:"off",ref:s,type:"email",id:"registerEmail",required:!0,minLength:2,maxLength:40}),Object(h.jsx)("span",{className:"error",id:"registerEmail-error"}),Object(h.jsx)("p",{className:"register__formText",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(h.jsx)("input",{className:"register__input",autocomplete:"off",ref:n,required:!0,minLength:8,maxLength:30,id:"registerPassword",type:"password"}),Object(h.jsx)("span",{className:"error",id:"registerPassword-error"}),Object(h.jsx)("button",{className:"register__button",type:"submit",disabled:e.buttonDisableState,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(h.jsxs)("p",{className:"login__register",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(h.jsx)(o.b,{to:"/signin",className:"login__registerLink",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(h.jsx)(k,{isVisible:e.isNotificationVisible,notificationMessage:e.notificationMessage})]})};var G=function(){var e=Object(d.g)();return Object(h.jsxs)("section",{className:"pageNotFound",id:"404",children:[Object(h.jsx)("h3",{className:"pageNotFound_error",children:"404"}),Object(h.jsx)("p",{className:"pageNotFound_message",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(h.jsx)("p",{className:"pageNotFound_return",onClick:function(){e.goBack()},children:"\u041d\u0430\u0437\u0430\u0434"})]})},H=s(23),W=s(24),K=function(e){var t=e.component,s=(e.path,Object(W.a)(e,["component","path"]));return Object(h.jsx)(d.b,{children:function(){return s.loggedIn?Object(h.jsx)(t,Object(H.a)({},s)):Object(h.jsx)(d.a,{to:"/signin"})}})},Q=new(function(){function e(t){Object(I.a)(this,e),this._options=t,this._headers=this._options.headers}return Object(U.a)(e,[{key:"register",value:function(e,t,s){return fetch("".concat(this._options.baseUrl,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:s})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"login",value:function(e,t){return fetch("".concat(this._options.baseUrl,"/signin"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"logout",value:function(){return fetch("".concat(this._options.baseUrl,"/signout"),{method:"delete",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}}]),e}())({baseUrl:"https://xenoxil.movie-explorer.nomoreparties.sbs",headers:{"Content-Type":"application/json"}}),X=new(function(){function e(t){Object(I.a)(this,e),this._options=t,this._headers=this._options.headers}return Object(U.a)(e,[{key:"getProfile",value:function(){return fetch("".concat(this._options.baseUrl,"/users/me"),{headers:this._options.headers,credentials:"include"}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"editProfile",value:function(e,t){return fetch("".concat(this._options.baseUrl,"/users/me"),{method:"PATCH",credentials:"include",headers:this._options.headers,body:JSON.stringify({name:e,email:t})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"changeLikeCardStatus",value:function(e,t){return fetch("".concat(this._options.baseUrl,"/movies"),{method:t?"PUT":"DELETE",credentials:"include",headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"saveMovie",value:function(e){var t=e.country,s=e.director,i=e.duration,c=e.year,n=e.description,a=e.trailerLink,o=e.nameEN,r=e.nameRU,l=e.id,j=e.src,d=e.image;return fetch("".concat(this._options.baseUrl,"/movies/"),{method:"POST",credentials:"include",headers:this._options.headers,body:JSON.stringify({country:t||"##",director:s,duration:i,year:c,description:n,image:j,trailer:a||"https://xenoxil.movies-explorer.nomoreparties.sbs/404",nameRU:r,nameEN:o||r,thumbnail:"https://api.nomoreparties.co".concat(d.formats.thumbnail.url),movieId:l})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u0430: ".concat(e.status))}))}},{key:"getSavedMovies",value:function(){return fetch("".concat(this._options.baseUrl,"/movies"),{method:"get",credentials:"include",headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432: ".concat(e.status))})).catch((function(){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432:")}))}},{key:"removeMovie",value:function(e){return fetch("".concat(this._options.baseUrl,"/movies/").concat(e),{method:"DELETE",credentials:"include",headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043b\u0430\u0439\u043a\u0430: ".concat(e.status))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043b\u0430\u0439\u043a\u0430 ".concat(e))}))}}]),e}())({baseUrl:"https://xenoxil.movie-explorer.nomoreparties.sbs",headers:{"Content-Type":"application/json"}}),Y=new(function(){function e(t){Object(I.a)(this,e),this._options=t,this._headers=this._options.headers}return Object(U.a)(e,[{key:"getMovies",value:function(){return fetch("".concat(this._options.baseUrl,"/"),{headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}}]),e}())({baseUrl:"https://api.nomoreparties.co/beatfilm-movies",headers:{"Content-Type":"application/json"}});var Z=function(){var e=Object(i.useState)(window.innerWidth),t=Object(l.a)(e,2),s=t[0],n=t[1],a=[],o=Object(i.useState)([]),j=Object(l.a)(o,2),u=j[0],b=j[1],m=function(){setTimeout(n(window.innerWidth),1e3)};Object(i.useEffect)((function(){return window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}}),[]);var _=c.a.useState({name:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",email:"pochta@ya.ru"}),f=Object(l.a)(_,2),p=f[0],O=f[1],x=c.a.useState(!1),v=Object(l.a)(x,2),g=v[0],N=v[1],k=Object(d.g)(),C=c.a.useState([]),M=Object(l.a)(C,2),y=M[0],w=M[1],L=c.a.useState(!1),P=Object(l.a)(L,2),T=P[0],E=P[1],I=c.a.useState(!1),U=Object(l.a)(I,2),z=U[0],R=U[1],q=c.a.useState([]),H=Object(l.a)(q,2),W=H[0],Z=H[1],$=c.a.useState(0),ee=Object(l.a)($,2),te=ee[0],se=ee[1],ie=c.a.useState(!1),ce=Object(l.a)(ie,2),ne=ce[0],ae=ce[1],oe=c.a.useState(4),re=Object(l.a)(oe,2),le=re[0],je=re[1],de=c.a.useState([]),he=Object(l.a)(de,2),ue=he[0],be=he[1],me=Object(i.useState)(!1),_e=Object(l.a)(me,2),fe=_e[0],pe=_e[1],Oe=Object(i.useState)(!0),xe=Object(l.a)(Oe,2),ve=xe[0],ge=xe[1],Ne=Object(i.useState)(!1),ke=Object(l.a)(Ne,2),Se=ke[0],Ce=ke[1],Me=Object(i.useState)(""),ye=Object(l.a)(Me,2),we=ye[0],Le=ye[1],Pe=Object(i.useState)(!1),Te=Object(l.a)(Pe,2),Ee=Te[0],Fe=Te[1];function Be(e){return ve?e.filter((function(e){return e.duration>40})):e.filter((function(e){return e.duration<=40}))}function Ve(e,t){var s=e.filter((function(e){return e.nameRU&&e.nameEN?e.nameRU.toLowerCase().includes(t.toLowerCase())||e.nameEN.toLowerCase().includes(t.toLowerCase()):e.nameRU.toLowerCase().includes(t.toLowerCase())}));return console.log("\u043c\u0430\u0441\u0441\u0438\u0432 \u043e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u043e \u0445\u0440\u043e\u043d\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u0443 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"),console.log(Be(s)),Be(s)}function De(){ge(!ve)}function Ie(e,t){Q.login(e,t).then((function(){Ue("\u0412\u0445\u043e\u0434 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d"),N(!0),k.push("/movies")})).then((function(){X.getProfile().then((function(e){O(e)}))})).catch((function(e){401===e?(console.log("401 - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 email \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),Ue("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435: 401 - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 email \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")):400===e?(console.log("400 - \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439 "),Ue("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435: 400 - \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439 \u0438\u043b\u0438 \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439 \u043d\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u043e")):(console.log(e),Ue("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435: ".concat(e)))}))}function Ue(e){Le(e),Ce(!0),setTimeout((function(){Ce(!1)}),5e3)}function ze(){te<W.length?ae(!0):ae(!1)}function Re(e){X.saveMovie(e).then((function(e){b([e].concat(Object(r.a)(u))),Ue("\u0424\u0438\u043b\u044c\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d"),console.log(e)})).catch((function(e){console.log(e),400===e.statusCode&&Ue("".concat(e.message)),Ue("".concat(e))}))}function qe(e){var t=u.find((function(t){return t.movieId===e.id}))._id;X.removeMovie(t).then((function(){var t=[];u.forEach((function(s){s.movieId!==e.id&&t.push(s)})),b(t),Ue("\u0424\u0438\u043b\u044c\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0451\u043d")})).catch((function(e){console.log(e),Ue("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u0430 ".concat(e))}))}return Object(i.useEffect)((function(){s<768?(se(5),je(5)):s<1280&&s>=768?(se(8),je(2)):(se(16),je(4))}),[]),Object(i.useEffect)((function(){ze()}),[ue]),c.a.useEffect((function(){X.getProfile().then((function(e){if(!e)return Promise.reject("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f");N(!0),O(e),k.push("/movies")})).then((function(){X.getSavedMovies().then((function(e){return e.data.map((function(e){return e.src=e.image,a.push(e)})),b(a),u}))})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430:",e)}))}),[]),Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(V.Provider,{value:p,children:Object(h.jsxs)(d.d,{children:[Object(h.jsx)(d.b,{exact:!0,path:"/landing",children:Object(h.jsx)(F,{onSize:s,loggedInState:g})}),Object(h.jsx)(K,{component:B,loggedIn:g,filteredMovies:ue,onSearch:function(e){pe(!0),R(!0);var t=Ve(u,e);Z(t),be(t.slice(0,te)),pe(!1)},onTypeSwitch:De,isSwitched:ve,savedMovies:u,isSavedSearched:z,onLikeClick:Re,onDislikeClick:qe,isNotificationVisible:Se,notificationMessage:we,exact:!0,path:"/savedMovies",onSize:s}),Object(h.jsx)(K,{component:D,loggedIn:g,onLogoutClick:function(){N(!1),Q.logout().catch((function(e){console.log(e)}))},onEditClick:function(e,t){e!==p.data.name||t!==p.data.email?(Fe(!0),X.editProfile(e,t).then((function(e){O(e),Ue("\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b")})).catch((function(e){console.log(e),Ue("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f: ".concat(e))})).finally((function(){Fe(!1)}))):Ue('\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u0435\u0440\u0435\u0434 \u043d\u0430\u0436\u0430\u0442\u0438\u0435\u043c \u043a\u043d\u043e\u043f\u043a\u0438 "\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"')},isNotificationVisible:Se,notificationMessage:we,buttonDisableState:Ee,exact:!0,path:"/profile"}),Object(h.jsx)(d.b,{exact:!0,path:"/signin",children:Object(h.jsx)(A,{onLogin:Ie,isNotificationVisible:Se,notificationMessage:we})}),Object(h.jsx)(d.b,{exact:!0,path:"/signup",children:Object(h.jsx)(J,{onRegisterClick:function(e,t,s){Fe(!0),Q.register(e,t,s).then((function(){Ie(e,t),Ue("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e")})).catch((function(e){"400"===e?(console.log("400 - \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439"),Ue("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 400 - \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439")):(console.log("\u041e\u0448\u0438\u0431\u043a\u0430:",e),Ue("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: ".concat(e))),N(!1)})).finally((function(){Fe(!1)}))},isNotificationVisible:Se,notificationMessage:we,buttonDisableState:Ee})}),Object(h.jsx)(K,{component:S,isSwitched:ve,loggedIn:g,filteredMovies:ue,onSearchClick:function(e){var t=[];localStorage.setItem("moviesSearchInputValue",e),localStorage.setItem("moviesTypeFull",ve),T?(t=Ve(y,e),Z(t),localStorage.setItem("moviesObjects",t),be(t.slice(0,te))):(pe(!0),Y.getMovies().then((function(s){w(s),E(!0),s.forEach((function(e){e.src="https://api.nomoreparties.co/".concat(e.image.url)})),t=Ve(s,e),Z(t),localStorage.setItem("moviesObjects",t),be(t.slice(0,te)),pe(!1)})).catch((function(e){console.log(e)})))},isSearched:T,isShowed:ne,onMoreMoviesClick:function(){se(te+le),be(W.slice(0,te+le))},moreMoviesVisibilityCheck:ze,renderMovies:function(){be(W.slice(0,te))},isLoading:fe,onLike:Re,onDislikeClick:qe,savedMovies:u,onTypeSwitch:De,isNotificationVisible:Se,notificationMessage:we,exact:!0,path:"/movies",onSize:s}),Object(h.jsx)(d.b,{exact:!0,path:"/",children:Object(h.jsx)(d.a,{to:"/landing"})}),Object(h.jsx)(d.b,{path:"*",children:Object(h.jsx)(G,{})})]})})})},$=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,39)).then((function(t){var s=t.getCLS,i=t.getFID,c=t.getFCP,n=t.getLCP,a=t.getTTFB;s(e),i(e),c(e),n(e),a(e)}))};a.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(o.a,{children:Object(h.jsx)(Z,{})})}),document.getElementById("root")),$()}},[[38,1,2]]]);
//# sourceMappingURL=main.d25612ed.chunk.js.map