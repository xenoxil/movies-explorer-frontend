(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],{29:function(e,t,s){},30:function(e,t,s){},37:function(e,t,s){},38:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),i=s(20),o=s.n(i),a=s(2),r=(s(29),s(22)),l=s(5),j=(s(30),s.p+"static/media/header-logo.6e5df113.svg"),d=s(3),h=s(0);var u=function(e){return Object(h.jsxs)("section",{className:e.isVisible?"menu menu__visible":"menu",children:[Object(h.jsxs)("div",{className:"menu__link-container",children:[Object(h.jsx)(a.b,{to:"/landing",className:"menu__link link",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(h.jsx)(a.b,{to:"/movies",className:"menu__link link",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(a.b,{to:"/savedMovies",className:"menu__link link",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(a.b,{to:"/profile",className:"menu__accLink",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]}),Object(h.jsx)("button",{type:"button",className:"menu__closeBtn",onClick:e.onCloseClick})]})};var m=function(e){var t=Object(c.useState)(!1),s=Object(l.a)(t,2),n=s[0],i=s[1];return Object(h.jsxs)(d.d,{children:[Object(h.jsx)(d.b,{path:"/landing",children:Object(h.jsxs)("header",{className:"header header_landingColor",children:[Object(h.jsx)("img",{src:j,className:"header__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),e.loggedInState?Object(h.jsxs)("div",{className:"header__container",children:[Object(h.jsx)(a.b,{to:"/movies",className:"header__link link header__landingLink",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(a.b,{to:"/savedMovies",className:"header__link link header__landingLink",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(a.b,{to:"/profile",className:"header__accBtn",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]}):Object(h.jsxs)("div",{className:"header__container",children:[Object(h.jsx)(a.b,{to:"/signup",className:"header__registration",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(h.jsx)(a.b,{to:"/signin",className:"header__loginBtn",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}),Object(h.jsx)(d.b,{path:"/",children:Object(h.jsxs)("header",{className:"header",children:[Object(h.jsx)("img",{src:j,className:"header__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),e.onSize>=1280?Object(h.jsxs)("div",{className:"header__container",children:[Object(h.jsx)(a.b,{to:"/movies",className:"header__link link",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(a.b,{to:"/savedMovies",className:"header__link link",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(a.b,{to:"/profile",className:"header__accBtn",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]}):Object(h.jsx)("div",{className:"header__container",children:Object(h.jsx)("button",{className:"header__humburgerBtn",onClick:function(){return i(!0)}})}),Object(h.jsx)(u,{isVisible:n,onCloseClick:function(){return i(!1)}})]})})]})};var b=function(e){return Object(h.jsxs)("section",{className:"footer",children:[Object(h.jsx)("p",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),e.onSize>=768?Object(h.jsxs)("div",{className:"footer__container",children:[Object(h.jsx)("p",{className:"footer__copyright",children:"\xa92022.\u042e\u0440\u0438\u0439 \u0421\u0442\u0435\u043f\u0430\u043d\u043e\u0432"}),Object(h.jsx)("nav",{className:"footer__navigation",children:Object(h.jsxs)("ul",{className:"footer__links",children:[Object(h.jsx)("li",{className:"footer__link",children:Object(h.jsx)("a",{href:"https://practicum.yandex.ru/",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(h.jsx)("li",{className:"footer__link",children:Object(h.jsx)("a",{href:"https://github.com/xenoxil",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Github"})}),Object(h.jsx)("li",{className:"footer__link",children:Object(h.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Facebook"})})]})})]}):Object(h.jsxs)("div",{className:"footer__container",children:[Object(h.jsx)("nav",{className:"footer__navigation",children:Object(h.jsxs)("ul",{className:"footer__links",children:[Object(h.jsx)("li",{className:"footer__link",children:Object(h.jsx)("a",{href:"https://practicum.yandex.ru/",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(h.jsx)("li",{className:"footer__link",children:Object(h.jsx)("a",{href:"https://github.com/xenoxil",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Github"})}),Object(h.jsx)("li",{className:"footer__link",children:Object(h.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Facebook"})})]})}),Object(h.jsx)("p",{className:"footer__copyright",children:"\xa92022"})]})]})},_=s.p+"static/media/loupePic.99b6633d.svg",f=s.p+"static/media/searchBtn.bd527758.svg";var p=function(e){var t=n.a.useRef(),s="/movies"===Object(d.g)().location.pathname;function c(s){s.preventDefault(),e.onSearchClick(t.current.value)}function i(s){s.preventDefault(),e.onSearch(t.current.value)}function o(t){t.preventDefault(),e.onTypeSwitch()}function a(t){t.preventDefault(),e.onTypeSwitch()}return Object(h.jsx)("section",{className:"searchSection",children:e.onSize>=768?Object(h.jsxs)("div",{children:[Object(h.jsxs)("form",{className:"searchForm",children:[Object(h.jsx)("img",{src:_,alt:"\u0417\u043d\u0430\u0447\u043e\u043a \u043b\u0443\u043f\u044b",className:"searchForm__loupePic"}),Object(h.jsx)("input",{className:"searchForm__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",ref:t,required:!0}),Object(h.jsx)("button",{className:"searchForm__searchBtn",onClick:s?c:i,disabled:e.isLoading,children:Object(h.jsx)("img",{src:f,alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"})}),e.isSwitched?Object(h.jsxs)("div",{className:"searchForm__movieType-container",children:[Object(h.jsx)("button",{className:"searchForm__movieTypeBtn",onClick:s?o:a}),Object(h.jsx)("p",{className:"searchForm__movieType",children:"\u041f\u043e\u043b\u043d\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]}):Object(h.jsxs)("div",{className:"searchForm__movieType-container",children:[Object(h.jsx)("button",{className:"searchForm__movieTypeBtn searchForm__movieTypeShort",onClick:s?o:a}),Object(h.jsx)("p",{className:"searchForm__movieType ",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})]}),Object(h.jsx)("div",{className:"search__bottomString"})]}):Object(h.jsxs)("div",{children:[Object(h.jsxs)("form",{className:"searchForm",children:[Object(h.jsx)("input",{className:"searchForm__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",ref:t,required:!0}),Object(h.jsx)("button",{className:"searchForm__searchBtn",onClick:s?c:i,disabled:e.isLoading,children:Object(h.jsx)("img",{src:f,alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"})})]}),e.isSwitched?Object(h.jsxs)("div",{className:"searchForm__movieType-container",children:[Object(h.jsx)("button",{className:"searchForm__movieTypeBtn",onClick:s?o:a}),Object(h.jsx)("p",{className:"searchForm__movieType",children:"\u041f\u043e\u043b\u043d\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]}):Object(h.jsxs)("div",{className:"searchForm__movieType-container",children:[Object(h.jsx)("button",{className:"searchForm__movieTypeBtn searchForm__movieTypeShort",onClick:s?o:a}),Object(h.jsx)("p",{className:"searchForm__movieType",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]}),Object(h.jsx)("div",{className:"search__bottomString"})]})})};var O=function(e){var t=e.savedMovies.some((function(t){return t.movieId===e.cardObj.id})),s=function(e){var t=Math.trunc(e/60),s=e%60;return t>0?t+"\u0447 "+s+"\u043c":s+"\u043c"}(e.duration);return Object(h.jsxs)("li",{className:"moviesCard",children:[Object(h.jsx)("a",{href:e.cardObj.trailerLink,target:"_blank",rel:"noreferrer",children:Object(h.jsx)("img",{src:e.cardPic,alt:e.name,className:"moviesCard__pic"})}),Object(h.jsxs)("div",{className:"moviesCard__container",children:[Object(h.jsx)("p",{className:"moviesCard__name",children:e.movieName}),Object(h.jsx)("button",{className:t?"moviesCard__likeBtn ":"moviesCard__likeBtn_active","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u043b\u0430\u0439\u043a",type:"button",onClick:t?function(){e.onDislikeClick(e.cardObj)}:function(){e.onLike(e.cardObj)},children:" "})]}),Object(h.jsx)("p",{className:"moviesCard__duration",children:s})]})},x=s.p+"static/media/defaultMovie.725aa4f1.jpg";var v=function(e){return console.log("\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"),console.log(e.savedMovies),e.isSearched?e.movieCards.length>0?Object(h.jsx)("ul",{className:"moviesCardList",children:e.movieCards.map((function(t){return t.src||(t.src=t.image),t.id||(t.id=t.movieId),Object(h.jsx)(O,{cardObj:t,cardPic:t.src?t.src:x,name:t.nameRU,movieName:t.nameRU,duration:t.duration,savedMovies:e.savedMovies,onCardClick:e.onCardClick,onLike:e.onLike,onDislikeClick:e.onDislikeClick},t.id)}))}):Object(h.jsx)("p",{className:"moviesCardList__empty",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u203f\ufe35\u203f\u30fd(\xb0\u25a1\xb0 )\u30ce\ufe35\u203f\ufe35"}):Object(h.jsx)("ul",{})};var g=function(e){return Object(h.jsx)("button",{className:e.isShowed?"moreMovies":"moreMovies moreMovies__hidden",onClick:e.onMoreMoviesClick,children:"\u0415\u0449\u0451"})},N=(s(37),function(){return Object(h.jsx)("div",{className:"preloader",children:Object(h.jsx)("div",{className:"preloader__container",children:Object(h.jsx)("span",{className:"preloader__round"})})})});var k=function(e){return Object(h.jsxs)("div",{className:"main",children:[Object(h.jsx)(m,{className:"main__header",onSize:e.onSize}),Object(h.jsx)(p,{onSize:e.onSize,onSearchClick:e.onSearchClick,renderMovies:e.renderMovies,moreMoviesVisibilityCheck:e.moreMoviesVisibilityCheck,isLoading:e.isLoading,onTypeSwitch:e.onTypeSwitch,isSwitched:e.isSwitched}),e.isLoading?Object(h.jsx)(N,{}):Object(h.jsx)(v,{movieCards:e.filteredMovies,isSearched:e.isSearched,onCardClick:e.onCardClick,onLike:e.onLike,savedMovies:e.savedMovies,onDislikeClick:e.onDislikeClick}),Object(h.jsx)(g,{isShowed:e.isShowed,onMoreMoviesClick:e.onMoreMoviesClick}),Object(h.jsx)(b,{})]})},S=s.p+"static/media/promo-logo.e4c6967f.svg";var C=function(){return Object(h.jsxs)("section",{className:"promo",children:[Object(h.jsx)("img",{src:S,className:"promo__logo",alt:"\u0420\u0430\u0441\u0442\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430"}),Object(h.jsx)("h1",{className:"promo__text",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]})};var y=function(){return Object(h.jsx)("section",{className:"navTab",children:Object(h.jsxs)("nav",{className:"navTab__container",children:[Object(h.jsx)("a",{href:"#project",className:"navTab__link",alt:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(h.jsx)("a",{href:"#techs",className:"navTab__link",alt:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(h.jsx)("a",{href:"#student",className:"navTab__link",alt:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})]})})};var w=function(){return Object(h.jsxs)("section",{className:"aboutProject",id:"project",children:[Object(h.jsx)("h2",{className:"aboutProject__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(h.jsxs)("div",{className:"aboutProject__steps",children:[Object(h.jsxs)("div",{className:"aboutProject__textContainer",children:[Object(h.jsx)("h3",{className:"aboutProject__step-title",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(h.jsx)("p",{className:"aboutProject__step-description",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(h.jsxs)("div",{className:"aboutProject__textContainer",children:[Object(h.jsx)("h3",{className:"aboutProject__step-title",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(h.jsx)("p",{className:"aboutProject__step-description",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(h.jsxs)("div",{className:"aboutProject__progressRow",children:[Object(h.jsxs)("div",{className:"aboutProject__backend",children:[Object(h.jsx)("p",{className:"aboutProject__progress aboutProject__progress-backend",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(h.jsx)("p",{className:"aboutProject__progress-title",children:"Back-end"})]}),Object(h.jsxs)("div",{className:"aboutProject__frontend",children:[Object(h.jsx)("p",{className:"aboutProject__progress aboutProject__progress-frontend",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(h.jsx)("p",{className:"aboutProject__progress-title",children:"Front-end"})]})]})]})};var M=function(){return Object(h.jsxs)("section",{className:"techs",id:"techs",children:[Object(h.jsx)("h2",{className:"techs__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(h.jsxs)("div",{className:"techs__textContainer",children:[Object(h.jsx)("h3",{className:"techs__subtitle",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(h.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."})]}),Object(h.jsxs)("ul",{className:"techs__list",children:[Object(h.jsx)("li",{className:"techs__technology",children:Object(h.jsx)("p",{className:"techs__name",children:"HTML"})}),Object(h.jsx)("li",{className:"techs__technology",children:Object(h.jsx)("p",{className:"techs__name",children:"CSS"})}),Object(h.jsx)("li",{className:"techs__technology",children:Object(h.jsx)("p",{className:"techs__name",children:"JS"})}),Object(h.jsx)("li",{className:"techs__technology",children:Object(h.jsx)("p",{className:"techs__name",children:"React"})}),Object(h.jsx)("li",{className:"techs__technology",children:Object(h.jsx)("p",{className:"techs__name",children:"Git"})}),Object(h.jsx)("li",{className:"techs__technology",children:Object(h.jsx)("p",{className:"techs__name",children:"Express.js"})}),Object(h.jsx)("li",{className:"techs__technology",children:Object(h.jsx)("p",{className:"techs__name",children:"mongoDB"})})]})]})},L=s.p+"static/media/studentFoto.3f31b05b.png",P=s.p+"static/media/linkArrow.fb3c35df.svg";var T=function(e){return Object(h.jsxs)("section",{className:"aboutMe",id:"student",children:[Object(h.jsx)("h3",{className:"aboutMe__title",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),e.onSize>=767?Object(h.jsxs)("div",{className:"aboutMe__student",children:[Object(h.jsxs)("div",{className:"aboutMe__container",children:[Object(h.jsx)("p",{className:"aboutMe__name",children:"\u042e\u0440\u0438\u0439"}),Object(h.jsx)("p",{className:"aboutMe__job",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a"}),Object(h.jsx)("p",{className:"aboutMe__about",children:"\u042f \u0438\u0437 \u0433\u043e\u0440\u043e\u0434\u0430 \u041b\u044b\u0442\u043a\u0430\u0440\u0438\u043d\u043e. \u0417\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c \u0420\u043e\u0441\u041d\u041e\u0423.\u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c \u0438 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u044b\u043c\u0438 \u0438\u0433\u0440\u0430\u043c\u0438. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2018 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u044e \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xabNielsen\xbb. \u0421\u0435\u0439\u0447\u0430\u0441 \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0441\u044c \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u043f\u043e\u043c\u043e\u0433\u0430\u044e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430\u043c \u042f\u043d\u0434\u0435\u043a\u0441 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430."})]}),Object(h.jsx)("img",{className:"aboutMe__foto",alt:"\u0424\u043e\u0442\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430",src:L})]}):Object(h.jsx)("div",{className:"aboutMe__student",children:Object(h.jsxs)("div",{className:"aboutMe__container",children:[Object(h.jsx)("img",{className:"aboutMe__foto",alt:"\u0424\u043e\u0442\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430",src:L}),Object(h.jsx)("p",{className:"aboutMe__name",children:"\u042e\u0440\u0438\u0439"}),Object(h.jsx)("p",{className:"aboutMe__job",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a"}),Object(h.jsx)("p",{className:"aboutMe__about",children:"\u042f \u0438\u0437 \u0433\u043e\u0440\u043e\u0434\u0430 \u041b\u044b\u0442\u043a\u0430\u0440\u0438\u043d\u043e. \u0417\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c \u0420\u043e\u0441\u041d\u041e\u0423.\u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c \u0438 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u044b\u043c\u0438 \u0438\u0433\u0440\u0430\u043c\u0438. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2018 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u044e \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xabNielsen\xbb. \u0421\u0435\u0439\u0447\u0430\u0441 \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0441\u044c \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u043f\u043e\u043c\u043e\u0433\u0430\u044e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430\u043c \u042f\u043d\u0434\u0435\u043a\u0441 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430."})]})}),Object(h.jsxs)("div",{className:"aboutMe__socialLinks",children:[Object(h.jsx)("a",{className:"aboutMe__socialLink link",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://www.facebook.com",children:"Facebook"}),Object(h.jsx)("a",{className:"aboutMe__socialLink link",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://github.com/xenoxil",children:"Github"})]}),Object(h.jsxs)("ul",{className:"aboutMe__portfolio",children:[Object(h.jsx)("p",{className:"aboutMe__subtitle",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(h.jsxs)("li",{className:"aboutMe__portfolio-site",children:[Object(h.jsx)("p",{className:"aboutMe__portfolio-siteDescription",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(h.jsx)("a",{className:"aboutMe__portfolio-siteLink",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://www.facebook.com",children:Object(h.jsx)("img",{src:P,alt:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442",className:"aboutMe__linkArrow"})})]}),Object(h.jsxs)("li",{className:"aboutMe__portfolio-site",children:[Object(h.jsx)("p",{className:"aboutMe__portfolio-siteDescription",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(h.jsx)("a",{className:"aboutMe__portfolio-siteLink",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://www.facebook.com",children:Object(h.jsx)("img",{src:P,alt:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442",className:"aboutMe__linkArrow"})})]}),Object(h.jsxs)("li",{className:"aboutMe__portfolio-site",children:[Object(h.jsx)("p",{className:"aboutMe__portfolio-siteDescription",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(h.jsx)("a",{className:"aboutMe__portfolio-siteLink",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://www.facebook.com",children:Object(h.jsx)("img",{src:P,alt:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442",className:"aboutMe__linkArrow"})})]})]})]})};var E=function(e){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(m,{loggedInState:e.loggedInState}),Object(h.jsx)(C,{}),Object(h.jsx)(y,{}),Object(h.jsx)(w,{}),Object(h.jsx)(M,{id:"techs"}),Object(h.jsx)(T,{id:"student",onSize:e.onSize}),Object(h.jsx)(b,{})]})};var F=function(e){return console.log(e.isSavedSearched),Object(h.jsxs)("div",{className:"savedMovies",children:[Object(h.jsx)(m,{className:"main__header",onSize:e.onSize}),Object(h.jsx)(p,{onSize:e.onSize,isSwitched:e.isSwitched,onSearch:e.onSearch,onTypeSwitch:e.onTypeSwitch}),Object(h.jsx)(v,{movieCards:e.isSavedSearched&&e.filteredMovies.length>0?e.filteredMovies:e.savedMovies,savedMovies:e.savedMovies,isSearched:!0,onLike:e.onLikeClick,onDislikeClick:e.onDislikeClick}),Object(h.jsx)("div",{className:"savedMovies__separator"}),Object(h.jsx)(b,{})]})},B=n.a.createContext();var D=function(e){var t=n.a.useRef(),s=n.a.useRef(),c=n.a.useContext(B);return Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)(m,{className:"main__header"}),Object(h.jsxs)("p",{className:"profile__greetings",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",c.data.name,"!"]}),Object(h.jsxs)("form",{className:"profile__form",children:[Object(h.jsxs)("div",{className:"profile__container",children:[Object(h.jsx)("p",{className:"profile__text",children:"\u0418\u043c\u044f"}),Object(h.jsx)("input",{className:"profile__input",placeholder:"\u0418\u043c\u044f",defaultValue:c.data.name,ref:t})]}),Object(h.jsxs)("div",{className:"profile__container",children:[Object(h.jsx)("p",{className:"profile__text",children:"E-mail"}),Object(h.jsx)("input",{className:"profile__input",placeholder:"\u041f\u043e\u0447\u0442\u0430",defaultValue:c.data.email,ref:s})]}),Object(h.jsx)("button",{className:"profile__edit",type:"submit",onClick:function(c){c.preventDefault(),e.onEditClick(t.current.value,s.current.value)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),Object(h.jsx)("button",{className:"profile__logout",type:"button",onClick:e.onLogoutClick,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})},U=s(9),z=s(10),R=function(){function e(t,s){Object(U.a)(this,e),this._config=t,this._form=s,this._btn=this._form.querySelector(t.submitButtonSelector)}return Object(z.a)(e,[{key:"_showError",value:function(e){this._form.querySelector("#".concat(e.id,"-error")).textContent=e.validationMessage,e.classList.add(this._config.errorClass)}},{key:"_hideError",value:function(e){this._form.querySelector("#".concat(e.id,"-error")).textContent="",e.classList.remove(this._config.errorClass)}},{key:"_isValid",value:function(e){e.validity.valid?this._hideError(e):this._showError(e)}},{key:"setSubmitBtnState",value:function(e){e?(this._btn.classList.remove(this._config.inactiveButtonClass),this._btn.disabled=!1):(this._btn.classList.add(this._config.inactiveButtonClass),this._btn.disabled=!0)}},{key:"setErrorListener",value:function(){var e=this,t=this._form.querySelectorAll(this._config.inputSelector);t.forEach((function(s){s.addEventListener("input",(function(){e._isValid(s),e.setSubmitBtnState(e._form.checkValidity())})),e._form.addEventListener("reset",(function(){t.forEach((function(t){e._hideError(t),e.setSubmitBtnState(!1)}))}))}))}},{key:"enableValidation",value:function(){this.setErrorListener(),this.setSubmitBtnState(this._form.checkValidity()),this._form.addEventListener("submit",(function(e){e.preventDefault()}))}}]),e}(),I=(document.querySelector(".popupImage"),{formSelector:".register__form",inputSelector:".register__input",submitButtonSelector:".register__button",inactiveButtonClass:"register__submitbtn_status_inactive",errorClass:"register__input_state_invalid"}),V={formSelector:".login__form",inputSelector:".login__input",submitButtonSelector:".login__button",inactiveButtonClass:"login__submitbtn_status_inactive",errorClass:"login__input_state_invalid"};var q=function(e){var t=Object(c.useRef)(),s=Object(c.useRef)();return n.a.useEffect((function(){var e=document.getElementById("loginForm");new R(V,e).enableValidation()}),[]),Object(h.jsxs)("div",{className:"login",children:[Object(h.jsx)("img",{src:j,className:"login__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(h.jsx)("p",{className:"login__greetings",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(h.jsxs)("form",{className:"login__form",id:"loginForm",children:[Object(h.jsx)("p",{className:"login__formText",children:"E-mail"}),Object(h.jsx)("input",{className:"login__input",ref:t,type:"email",id:"loginEmail",required:!0,minLength:2,maxLength:40,autoComplete:"off"}),Object(h.jsx)("span",{className:"error",id:"loginEmail-error"}),Object(h.jsx)("p",{className:"login__formText",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(h.jsx)("input",{className:"login__input",ref:s,type:"password",id:"loginPassword",required:!0,minLength:8,maxLength:30,autoComplete:"off"}),Object(h.jsx)("span",{className:"error",id:"loginPassword-error"}),Object(h.jsx)("button",{className:"login__button",type:"submit",onClick:function(c){c.preventDefault(),e.onLogin(t.current.value,s.current.value)},children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(h.jsxs)("p",{className:"login__register",children:["\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(h.jsx)("a",{className:"login__registerLink",href:"/signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})};var A=function(e){var t=Object(c.useRef)(),s=Object(c.useRef)(),i=Object(c.useRef)();return n.a.useEffect((function(){var e=document.getElementById("registerForm");new R(I,e).enableValidation()}),[]),Object(h.jsxs)("section",{className:"register",children:[Object(h.jsx)("img",{src:j,className:"register__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(h.jsx)("h2",{className:"register__greetings",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(h.jsxs)("form",{className:"register__form",id:"registerForm",autoComplete:"off",onSubmit:function(c){c.preventDefault(),e.onRegisterClick(s.current.value,i.current.value,t.current.value)},children:[Object(h.jsx)("p",{className:"register__formText",children:"\u0418\u043c\u044f"}),Object(h.jsx)("input",{className:"register__input",type:"text",ref:t,required:!0,minLength:2,id:"registerName",autocomplete:"off"}),Object(h.jsx)("span",{className:"error",id:"registerName-error"}),Object(h.jsx)("p",{className:"register__formText",children:"E-mail"}),Object(h.jsx)("input",{className:"register__input",autocomplete:"off",ref:s,type:"email",id:"registerEmail",required:!0,minLength:2,maxLength:40}),Object(h.jsx)("span",{className:"error",id:"registerEmail-error"}),Object(h.jsx)("p",{className:"register__formText",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(h.jsx)("input",{className:"register__input",autocomplete:"off",ref:i,required:!0,minLength:8,maxLength:30,id:"registerPassword",type:"password"}),Object(h.jsx)("span",{className:"error",id:"registerPassword-error"}),Object(h.jsx)("button",{className:"register__button",type:"submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(h.jsxs)("p",{className:"login__register",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(h.jsx)(a.b,{to:"/signin",className:"login__registerLink",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})};var J=function(){var e=Object(d.g)();return Object(h.jsxs)("section",{className:"pageNotFound",id:"404",children:[Object(h.jsx)("h3",{className:"pageNotFound_error",children:"404"}),Object(h.jsx)("p",{className:"pageNotFound_message",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(h.jsx)("p",{className:"pageNotFound_return",onClick:function(){e.goBack()},children:"\u041d\u0430\u0437\u0430\u0434"})]})},G=s(23),W=s(24),H=function(e){var t=e.component,s=(e.path,Object(W.a)(e,["component","path"]));return Object(h.jsx)(d.b,{children:function(){return s.loggedIn?Object(h.jsx)(t,Object(G.a)({},s)):Object(h.jsx)(d.a,{to:"/signin"})}})},K=new(function(){function e(t){Object(U.a)(this,e),this._options=t,this._headers=this._options.headers}return Object(z.a)(e,[{key:"register",value:function(e,t,s){return fetch("".concat(this._options.baseUrl,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:s})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"login",value:function(e,t){return fetch("".concat(this._options.baseUrl,"/signin"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"logout",value:function(){return fetch("".concat(this._options.baseUrl,"/signout"),{method:"delete",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}}]),e}())({baseUrl:"https://xenoxil.movie-explorer.nomoreparties.sbs",headers:{"Content-Type":"application/json"}}),Q=new(function(){function e(t){Object(U.a)(this,e),this._options=t,this._headers=this._options.headers}return Object(z.a)(e,[{key:"getProfile",value:function(){return fetch("".concat(this._options.baseUrl,"/users/me"),{headers:this._options.headers,credentials:"include"}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"editProfile",value:function(e,t){return fetch("".concat(this._options.baseUrl,"/users/me"),{method:"PATCH",credentials:"include",headers:this._options.headers,body:JSON.stringify({name:e,email:t})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"changeLikeCardStatus",value:function(e,t){return fetch("".concat(this._options.baseUrl,"/movies"),{method:t?"PUT":"DELETE",credentials:"include",headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"saveMovie",value:function(e){var t=e.country,s=e.director,c=e.duration,n=e.year,i=e.description,o=e.trailerLink,a=e.nameEN,r=e.nameRU,l=e.id,j=e.src,d=e.image;return fetch("".concat(this._options.baseUrl,"/movies/"),{method:"POST",credentials:"include",headers:this._options.headers,body:JSON.stringify({country:t||"##",director:s,duration:c,year:n,description:i,image:j,trailer:o||"https://xenoxil.movies-explorer.nomoreparties.sbs/404",nameRU:r,nameEN:a||r,thumbnail:"https://api.nomoreparties.co".concat(d.formats.thumbnail.url),movieId:l})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u0430: ".concat(e.status))})).catch((function(){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u0430")}))}},{key:"getSavedMovies",value:function(){return fetch("".concat(this._options.baseUrl,"/movies"),{method:"get",credentials:"include",headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432: ".concat(e.status))})).catch((function(){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432:")}))}},{key:"removeMovie",value:function(e){return fetch("".concat(this._options.baseUrl,"/movies/").concat(e),{method:"DELETE",credentials:"include",headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043b\u0430\u0439\u043a\u0430: ".concat(e.status))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043b\u0430\u0439\u043a\u0430 ".concat(e))}))}}]),e}())({baseUrl:"https://xenoxil.movie-explorer.nomoreparties.sbs",headers:{"Content-Type":"application/json"}}),X=new(function(){function e(t){Object(U.a)(this,e),this._options=t,this._headers=this._options.headers}return Object(z.a)(e,[{key:"getMovies",value:function(){return fetch("".concat(this._options.baseUrl,"/"),{headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}}]),e}())({baseUrl:"https://api.nomoreparties.co/beatfilm-movies",headers:{"Content-Type":"application/json"}});var Y=function(){var e=Object(c.useState)(window.innerWidth),t=Object(l.a)(e,2),s=t[0],i=t[1],o=[],a=Object(c.useState)([]),j=Object(l.a)(a,2),u=j[0],m=j[1];Object(c.useEffect)((function(){return window.addEventListener("resize",(function(){setTimeout(i(window.innerWidth),1e3)})),function(){window.removeEventListener("resize",(function(){setTimeout(i(window.innerWidth),1e3)}))}}),[]);var b=n.a.useState({name:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",email:"pochta@ya.ru"}),_=Object(l.a)(b,2),f=_[0],p=_[1],O=n.a.useState(!1),x=Object(l.a)(O,2),v=x[0],g=x[1],N=Object(d.g)(),S=n.a.useState([]),C=Object(l.a)(S,2),y=C[0],w=C[1],M=n.a.useState(!1),L=Object(l.a)(M,2),P=L[0],T=L[1],U=n.a.useState(!1),z=Object(l.a)(U,2),R=z[0],I=z[1],V=n.a.useState([]),G=Object(l.a)(V,2),W=G[0],Y=G[1],Z=n.a.useState(0),$=Object(l.a)(Z,2),ee=$[0],te=$[1],se=n.a.useState(!1),ce=Object(l.a)(se,2),ne=ce[0],ie=ce[1],oe=n.a.useState(4),ae=Object(l.a)(oe,2),re=ae[0],le=ae[1],je=n.a.useState([]),de=Object(l.a)(je,2),he=de[0],ue=de[1],me=Object(c.useState)(!1),be=Object(l.a)(me,2),_e=be[0],fe=be[1],pe=Object(c.useState)(!0),Oe=Object(l.a)(pe,2),xe=Oe[0],ve=Oe[1],ge=Object(c.useState)(!0),Ne=Object(l.a)(ge,2),ke=Ne[0],Se=Ne[1];function Ce(e){return xe?e.filter((function(e){return e.duration>40})):e.filter((function(e){return e.duration<=40}))}function ye(e,t){var s=e.filter((function(e){return e.nameRU&&e.nameEN?e.nameRU.toLowerCase().includes(t.toLowerCase())||e.nameEN.toLowerCase().includes(t.toLowerCase()):e.nameRU.toLowerCase().includes(t.toLowerCase())}));return console.log("\u043c\u0430\u0441\u0441\u0438\u0432 \u043e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u043e \u0445\u0440\u043e\u043d\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u0443 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"),console.log(Ce(s)),Ce(s)}function we(){ve(!xe)}function Me(e,t){K.login(e,t).then((function(){g(!0),N.push("/movies")})).then((function(){Q.getProfile().then((function(e){p(e)}))})).catch((function(e){401===e?console.log("401 - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 email \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"):400===e?console.log("400 - \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439 "):console.log(e)}))}function Le(){ee<W.length?ie(!0):ie(!1)}function Pe(e){Q.saveMovie(e).then((function(e){m([e].concat(Object(r.a)(u))),console.log(e)})).catch((function(e){console.log(e)}))}function Te(e){var t=u.find((function(t){return t.movieId===e.id}))._id;Q.removeMovie(t).then((function(){var t=[];u.forEach((function(s){s.movieId!==e.id&&t.push(s)})),m(t)})).catch((function(e){console.log(e)}))}return Object(c.useEffect)((function(){s<768?(te(5),le(5)):s<1280&&s>=768?(te(8),le(2)):(te(16),le(4))}),[]),Object(c.useEffect)((function(){Le()}),[he]),n.a.useEffect((function(){Q.getProfile().then((function(e){if(!e)return Promise.reject("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f");g(!0),p(e),N.push("/movies")})).then((function(){Q.getSavedMovies().then((function(e){return e.data.map((function(e){return e.src=e.image,o.push(e)})),m(o),u}))})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430:",e)}))}),[]),Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(B.Provider,{value:f,children:Object(h.jsxs)(d.d,{children:[Object(h.jsx)(d.b,{path:"/landing",children:Object(h.jsx)(E,{onSize:s,loggedInState:v})}),Object(h.jsx)(H,{component:F,loggedIn:v,filteredMovies:he,onSearch:function(e){fe(!0),I(!0);var t=ye(u,e);Y(t),ue(t.slice(0,ee)),fe(!1)},onTypeSwitch:we,isSwitched:xe,savedMovies:u,isSavedSearched:R,onLikeClick:Pe,onDislikeClick:Te,exact:!0,path:"/savedMovies",onSize:s}),Object(h.jsx)(H,{component:D,loggedIn:v,onLogoutClick:function(){g(!1),K.logout().catch((function(e){console.log(e)}))},onEditClick:function(e,t){Q.editProfile(e,t).then((function(e){p(e)})).catch((function(e){console.log(e)}))},exact:!0,path:"/profile"}),Object(h.jsx)(d.b,{path:"/signin",children:Object(h.jsx)(q,{onLogin:Me})}),Object(h.jsx)(d.b,{path:"/signup",children:Object(h.jsx)(A,{onRegisterClick:function(e,t,s){K.register(e,t,s).then((function(){Me(e,t)})).catch((function(e){"400"===e?console.log("400 - \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439"):console.log("\u041e\u0448\u0438\u0431\u043a\u0430:",e),g(!1)}))}})}),Object(h.jsx)(H,{component:k,isSwitched:xe,loggedIn:v,filteredMovies:he,onSearchClick:function(e){var t=[];P?(t=ye(y,e),Y(t),Se(t),ue(t.slice(0,ee))):(fe(!0),X.getMovies().then((function(s){w(s),T(!0),s.forEach((function(e){e.src="https://api.nomoreparties.co/".concat(e.image.url)})),t=ye(s,e),Y(t),ue(t.slice(0,ee)),fe(!1)})).catch((function(e){console.log(e)})))},isSearched:P,isShowed:ne,onMoreMoviesClick:function(){te(ee+re),ue(W.slice(0,ee+re))},moreMoviesVisibilityCheck:Le,renderMovies:function(){ue(W.slice(0,ee))},isLoading:_e,onLike:Pe,onDislikeClick:Te,savedMovies:u,onTypeSwitch:we,lastSearch:ke,exact:!0,path:"/movies",onSize:s}),Object(h.jsx)(d.b,{path:"/",children:Object(h.jsx)(J,{})})]})})})},Z=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,39)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,o=t.getTTFB;s(e),c(e),n(e),i(e),o(e)}))};o.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(a.a,{children:Object(h.jsx)(Y,{})})}),document.getElementById("root")),Z()}},[[38,1,2]]]);
//# sourceMappingURL=main.eedc4c10.chunk.js.map