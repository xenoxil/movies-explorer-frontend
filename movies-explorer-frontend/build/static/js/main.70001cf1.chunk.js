(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],{29:function(e,t,s){},30:function(e,t,s){},37:function(e,t,s){},38:function(e,t,s){"use strict";s.r(t);var i=s(1),n=s.n(i),c=s(20),a=s.n(c),o=s(2),r=(s(29),s(22)),l=s(4),j=(s(30),s.p+"static/media/header-logo.6e5df113.svg"),d=s(3),u=s(0);var h=function(e){return Object(u.jsxs)("section",{className:e.isVisible?"menu menu__visible":"menu",children:[Object(u.jsxs)("div",{className:"menu__link-container",children:[Object(u.jsx)(o.b,{to:"/landing",className:"menu__link link",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(u.jsx)(o.b,{to:"/movies",className:"menu__link link",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(u.jsx)(o.b,{to:"/savedMovies",className:"menu__link link",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(u.jsx)(o.b,{to:"/profile",className:"menu__accLink",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]}),Object(u.jsx)("button",{type:"button",className:"menu__closeBtn",onClick:e.onCloseClick})]})};var b=function(e){var t=Object(i.useState)(!1),s=Object(l.a)(t,2),n=s[0],c=s[1];return Object(u.jsxs)(d.d,{children:[Object(u.jsx)(d.b,{path:"/landing",children:Object(u.jsxs)("header",{className:"header header_landingColor",children:[Object(u.jsx)("img",{src:j,className:"header__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),e.loggedInState?Object(u.jsxs)("div",{className:"header__container",children:[Object(u.jsx)(o.b,{to:"/movies",className:"header__link link header__landingLink",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(u.jsx)(o.b,{to:"/savedMovies",className:"header__link link header__landingLink",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(u.jsx)(o.b,{to:"/profile",className:"header__accBtn",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]}):Object(u.jsxs)("div",{className:"header__container",children:[Object(u.jsx)(o.b,{to:"/signup",className:"header__registration",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(u.jsx)(o.b,{to:"/signin",className:"header__loginBtn",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}),Object(u.jsx)(d.b,{path:"/",children:Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("img",{src:j,className:"header__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),e.onSize>=1280?Object(u.jsxs)("div",{className:"header__container",children:[Object(u.jsx)(o.b,{to:"/movies",className:"header__link link",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(u.jsx)(o.b,{to:"/savedMovies",className:"header__link link",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(u.jsx)(o.b,{to:"/profile",className:"header__accBtn",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]}):Object(u.jsx)("div",{className:"header__container",children:Object(u.jsx)("button",{className:"header__humburgerBtn",onClick:function(){return c(!0)}})}),Object(u.jsx)(h,{isVisible:n,onCloseClick:function(){return c(!1)}})]})})]})};var m=function(e){return Object(u.jsxs)("section",{className:"footer",children:[Object(u.jsx)("p",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),e.onSize>=768?Object(u.jsxs)("div",{className:"footer__container",children:[Object(u.jsx)("p",{className:"footer__copyright",children:"\xa92022.\u042e\u0440\u0438\u0439 \u0421\u0442\u0435\u043f\u0430\u043d\u043e\u0432"}),Object(u.jsx)("nav",{className:"footer__navigation",children:Object(u.jsxs)("ul",{className:"footer__links",children:[Object(u.jsx)("li",{className:"footer__link",children:Object(u.jsx)("a",{href:"https://practicum.yandex.ru/",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(u.jsx)("li",{className:"footer__link",children:Object(u.jsx)("a",{href:"https://github.com/xenoxil",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Github"})}),Object(u.jsx)("li",{className:"footer__link",children:Object(u.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Facebook"})})]})})]}):Object(u.jsxs)("div",{className:"footer__container",children:[Object(u.jsx)("nav",{className:"footer__navigation",children:Object(u.jsxs)("ul",{className:"footer__links",children:[Object(u.jsx)("li",{className:"footer__link",children:Object(u.jsx)("a",{href:"https://practicum.yandex.ru/",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(u.jsx)("li",{className:"footer__link",children:Object(u.jsx)("a",{href:"https://github.com/xenoxil",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Github"})}),Object(u.jsx)("li",{className:"footer__link",children:Object(u.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"nofollow noopener noreferrer",className:"link",children:"Facebook"})})]})}),Object(u.jsx)("p",{className:"footer__copyright",children:"\xa92022"})]})]})},_=s.p+"static/media/loupePic.99b6633d.svg",f=s.p+"static/media/searchBtn.bd527758.svg";var p=function(e){var t="/movies"===Object(d.g)().location.pathname;function s(t){e.SwitchMovieTypeHandler(t)}function i(t){e.SwitchSavedMovieTypeHandler(t)}return Object(u.jsx)("section",{className:"movieTypeContainer",children:e.isSwitched?Object(u.jsxs)("div",{className:"searchForm__movieType-container",children:[Object(u.jsx)("button",{className:"searchForm__movieTypeBtn",onClick:t?s:i}),Object(u.jsx)("p",{className:"searchForm__movieType",children:"\u041f\u043e\u043b\u043d\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]}):Object(u.jsxs)("div",{className:"searchForm__movieType-container",children:[Object(u.jsx)("button",{className:"searchForm__movieTypeBtn searchForm__movieTypeShort",onClick:t?s:i}),Object(u.jsx)("p",{className:"searchForm__movieType",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})})};var O=function(e){var t=n.a.useRef(),s="/movies"===Object(d.g)().location.pathname,c=localStorage.getItem("moviesSearchInputValue");function a(s){s.preventDefault(),e.onSearchClick(t.current.value)}function o(s){s.preventDefault(),e.onSearch(t.current.value)}function r(t){t.preventDefault(),e.onTypeSwitch()}function l(t){t.preventDefault(),e.onTypeSwitch()}return Object(i.useEffect)((function(){null!==c&&s&&(t.current.value=c)}),[]),Object(i.useEffect)((function(){void 0!==e.isSwitched&&(s?e.onSearchClick(t.current.value):e.onSearch(t.current.value))}),[e.isSwitched]),Object(u.jsx)("section",{className:"searchSection",children:e.onSize>=768?Object(u.jsxs)("div",{children:[Object(u.jsxs)("form",{className:"searchForm",children:[Object(u.jsx)("img",{src:_,alt:"\u0417\u043d\u0430\u0447\u043e\u043a \u043b\u0443\u043f\u044b",className:"searchForm__loupePic"}),Object(u.jsx)("input",{className:"searchForm__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",ref:t,required:!0}),Object(u.jsx)("button",{className:"searchForm__searchBtn",onClick:s?a:o,disabled:e.isLoading,children:Object(u.jsx)("img",{src:f,alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"})}),Object(u.jsx)(p,{isSwitched:e.isSwitched,onTypeSwitch:e.onTypeSwitch,SwitchSavedMovieTypeHandler:l,SwitchMovieTypeHandler:r})]}),Object(u.jsx)("div",{className:"search__bottomString"})]}):Object(u.jsxs)("div",{children:[Object(u.jsxs)("form",{className:"searchForm",children:[Object(u.jsx)("input",{className:"searchForm__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",ref:t,required:!0}),Object(u.jsx)("button",{className:"searchForm__searchBtn",onClick:s?a:o,disabled:e.isLoading,children:Object(u.jsx)("img",{src:f,alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"})})]}),Object(u.jsx)(p,{isSwitched:e.isSwitched,onTypeSwitch:e.onTypeSwitch,SwitchSavedMovieTypeHandler:l,SwitchMovieTypeHandler:r}),Object(u.jsx)("div",{className:"search__bottomString"})]})})};var x=function(e){var t=e.savedMovies.some((function(t){return t.movieId===e.cardObj.id})),s=function(e){var t=Math.trunc(e/60),s=e%60;return t>0?t+"\u0447 "+s+"\u043c":s+"\u043c"}(e.duration);return Object(u.jsxs)("li",{className:"moviesCard",children:[Object(u.jsx)("a",{href:e.cardObj.trailerLink,target:"_blank",rel:"noreferrer",children:Object(u.jsx)("img",{src:e.cardPic,alt:e.name,className:"moviesCard__pic"})}),Object(u.jsxs)("div",{className:"moviesCard__container",children:[Object(u.jsx)("p",{className:"moviesCard__name",children:e.movieName}),Object(u.jsx)("button",{className:e.savedMoviesPage?"moviesCard__deleteButton":t?"moviesCard__likeBtn ":"moviesCard__likeBtn_active","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u043b\u0430\u0439\u043a",type:"button",onClick:t?function(){e.onDislikeClick(e.cardObj)}:function(){e.onLike(e.cardObj)},children:" "})]}),Object(u.jsx)("p",{className:"moviesCard__duration",children:s})]})},v=s.p+"static/media/defaultMovie.725aa4f1.jpg";var g=function(e){return e.isStorageFull||e.isSearched?e.movieCards.length>0?Object(u.jsx)("ul",{className:"moviesCardList",children:e.movieCards.map((function(t){return t.src||(t.src=t.image),t.id||(t.id=t.movieId),Object(u.jsx)(x,{cardObj:t,savedMoviesPage:e.savedMoviesPage,cardPic:t.src?t.src:v,name:t.nameRU,movieName:t.nameRU,duration:t.duration,savedMovies:e.savedMovies,onCardClick:e.onCardClick,onLike:e.onLike,onDislikeClick:e.onDislikeClick},t.id)}))}):Object(u.jsx)("p",{className:"moviesCardList__empty",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u203f\ufe35\u203f\u30fd(\xb0\u25a1\xb0 )\u30ce\ufe35\u203f\ufe35"}):Object(u.jsx)("ul",{})};var N=function(e){return Object(u.jsx)("button",{className:e.isShowed?"moreMovies":"moreMovies moreMovies__hidden",onClick:e.onMoreMoviesClick,children:"\u0415\u0449\u0451"})},k=(s(37),function(){return Object(u.jsx)("div",{className:"preloader",children:Object(u.jsx)("div",{className:"preloader__container",children:Object(u.jsx)("span",{className:"preloader__round"})})})});var S=function(e){return Object(u.jsx)("div",{className:e.isVisible?"notification__container notification__container_visible":"notification__container",children:Object(u.jsx)("span",{className:"notification__message",children:e.notificationMessage})})};var y=function(e){return Object(u.jsxs)("div",{className:"main",children:[Object(u.jsx)(b,{className:"main__header",onSize:e.onSize}),Object(u.jsx)(O,{onSize:e.onSize,onSearchClick:e.onSearchClick,renderMovies:e.renderMovies,moreMoviesVisibilityCheck:e.moreMoviesVisibilityCheck,isLoading:e.isLoading,onTypeSwitch:e.onTypeSwitch,isSwitched:e.isSwitched}),e.isLoading?Object(u.jsx)(k,{}):Object(u.jsx)(g,{movieCards:e.filteredMovies,isSearched:e.isSearched,isStorageFull:e.isStorageFull,onCardClick:e.onCardClick,onLike:e.onLike,savedMovies:e.savedMovies,onDislikeClick:e.onDislikeClick}),Object(u.jsx)(N,{isShowed:e.isShowed,onMoreMoviesClick:e.onMoreMoviesClick}),Object(u.jsx)(m,{}),Object(u.jsx)(S,{isVisible:e.isNotificationVisible,notificationMessage:e.notificationMessage})]})},M=s.p+"static/media/promo-logo.e4c6967f.svg";var C=function(){return Object(u.jsxs)("section",{className:"promo",children:[Object(u.jsx)("img",{src:M,className:"promo__logo",alt:"\u0420\u0430\u0441\u0442\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430"}),Object(u.jsx)("h1",{className:"promo__text",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]})};var w=function(){return Object(u.jsx)("section",{className:"navTab",children:Object(u.jsxs)("nav",{className:"navTab__container",children:[Object(u.jsx)("a",{href:"#project",className:"navTab__link",alt:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(u.jsx)("a",{href:"#techs",className:"navTab__link",alt:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(u.jsx)("a",{href:"#student",className:"navTab__link",alt:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})]})})};var L=function(){return Object(u.jsxs)("section",{className:"aboutProject",id:"project",children:[Object(u.jsx)("h2",{className:"aboutProject__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(u.jsxs)("div",{className:"aboutProject__steps",children:[Object(u.jsxs)("div",{className:"aboutProject__textContainer",children:[Object(u.jsx)("h3",{className:"aboutProject__step-title",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(u.jsx)("p",{className:"aboutProject__step-description",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(u.jsxs)("div",{className:"aboutProject__textContainer",children:[Object(u.jsx)("h3",{className:"aboutProject__step-title",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(u.jsx)("p",{className:"aboutProject__step-description",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(u.jsxs)("div",{className:"aboutProject__progressRow",children:[Object(u.jsxs)("div",{className:"aboutProject__backend",children:[Object(u.jsx)("p",{className:"aboutProject__progress aboutProject__progress-backend",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(u.jsx)("p",{className:"aboutProject__progress-title",children:"Back-end"})]}),Object(u.jsxs)("div",{className:"aboutProject__frontend",children:[Object(u.jsx)("p",{className:"aboutProject__progress aboutProject__progress-frontend",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(u.jsx)("p",{className:"aboutProject__progress-title",children:"Front-end"})]})]})]})};var T=function(){return Object(u.jsxs)("section",{className:"techs",id:"techs",children:[Object(u.jsx)("h2",{className:"techs__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(u.jsxs)("div",{className:"techs__textContainer",children:[Object(u.jsx)("h3",{className:"techs__subtitle",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(u.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."})]}),Object(u.jsxs)("ul",{className:"techs__list",children:[Object(u.jsx)("li",{className:"techs__technology",children:Object(u.jsx)("p",{className:"techs__name",children:"HTML"})}),Object(u.jsx)("li",{className:"techs__technology",children:Object(u.jsx)("p",{className:"techs__name",children:"CSS"})}),Object(u.jsx)("li",{className:"techs__technology",children:Object(u.jsx)("p",{className:"techs__name",children:"JS"})}),Object(u.jsx)("li",{className:"techs__technology",children:Object(u.jsx)("p",{className:"techs__name",children:"React"})}),Object(u.jsx)("li",{className:"techs__technology",children:Object(u.jsx)("p",{className:"techs__name",children:"Git"})}),Object(u.jsx)("li",{className:"techs__technology",children:Object(u.jsx)("p",{className:"techs__name",children:"Express.js"})}),Object(u.jsx)("li",{className:"techs__technology",children:Object(u.jsx)("p",{className:"techs__name",children:"mongoDB"})})]})]})},P=s.p+"static/media/studentFoto.3f31b05b.png",E=s.p+"static/media/linkArrow.fb3c35df.svg";var F=function(e){return Object(u.jsxs)("section",{className:"aboutMe",id:"student",children:[Object(u.jsx)("h3",{className:"aboutMe__title",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),e.onSize>=767?Object(u.jsxs)("div",{className:"aboutMe__student",children:[Object(u.jsxs)("div",{className:"aboutMe__container",children:[Object(u.jsx)("p",{className:"aboutMe__name",children:"\u042e\u0440\u0438\u0439"}),Object(u.jsx)("p",{className:"aboutMe__job",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a"}),Object(u.jsx)("p",{className:"aboutMe__about",children:"\u042f \u0438\u0437 \u0433\u043e\u0440\u043e\u0434\u0430 \u041b\u044b\u0442\u043a\u0430\u0440\u0438\u043d\u043e. \u0417\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c \u0420\u043e\u0441\u041d\u041e\u0423.\u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c \u0438 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u044b\u043c\u0438 \u0438\u0433\u0440\u0430\u043c\u0438. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2018 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u044e \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xabNielsen\xbb. \u0421\u0435\u0439\u0447\u0430\u0441 \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0441\u044c \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u043f\u043e\u043c\u043e\u0433\u0430\u044e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430\u043c \u042f\u043d\u0434\u0435\u043a\u0441 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430."})]}),Object(u.jsx)("img",{className:"aboutMe__foto",alt:"\u0424\u043e\u0442\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430",src:P})]}):Object(u.jsx)("div",{className:"aboutMe__student",children:Object(u.jsxs)("div",{className:"aboutMe__container",children:[Object(u.jsx)("img",{className:"aboutMe__foto",alt:"\u0424\u043e\u0442\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430",src:P}),Object(u.jsx)("p",{className:"aboutMe__name",children:"\u042e\u0440\u0438\u0439"}),Object(u.jsx)("p",{className:"aboutMe__job",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a"}),Object(u.jsx)("p",{className:"aboutMe__about",children:"\u042f \u0438\u0437 \u0433\u043e\u0440\u043e\u0434\u0430 \u041b\u044b\u0442\u043a\u0430\u0440\u0438\u043d\u043e. \u0417\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c \u0420\u043e\u0441\u041d\u041e\u0423.\u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c \u0438 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u044b\u043c\u0438 \u0438\u0433\u0440\u0430\u043c\u0438. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2018 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u044e \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xabNielsen\xbb. \u0421\u0435\u0439\u0447\u0430\u0441 \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0441\u044c \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u043f\u043e\u043c\u043e\u0433\u0430\u044e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430\u043c \u042f\u043d\u0434\u0435\u043a\u0441 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430."})]})}),Object(u.jsxs)("div",{className:"aboutMe__socialLinks",children:[Object(u.jsx)("a",{className:"aboutMe__socialLink link",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://www.facebook.com",children:"Facebook"}),Object(u.jsx)("a",{className:"aboutMe__socialLink link",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://github.com/xenoxil",children:"Github"})]}),Object(u.jsxs)("ul",{className:"aboutMe__portfolio",children:[Object(u.jsx)("p",{className:"aboutMe__subtitle",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(u.jsxs)("li",{className:"aboutMe__portfolio-site",children:[Object(u.jsx)("p",{className:"aboutMe__portfolio-siteDescription",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(u.jsx)("a",{className:"aboutMe__portfolio-siteLink",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://how-to-learn-smoky.vercel.app/",children:Object(u.jsx)("img",{src:E,alt:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442",className:"aboutMe__linkArrow"})})]}),Object(u.jsxs)("li",{className:"aboutMe__portfolio-site",children:[Object(u.jsx)("p",{className:"aboutMe__portfolio-siteDescription",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(u.jsx)("a",{className:"aboutMe__portfolio-siteLink",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://russian-travel-nine.vercel.app/",children:Object(u.jsx)("img",{src:E,alt:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442",className:"aboutMe__linkArrow"})})]}),Object(u.jsxs)("li",{className:"aboutMe__portfolio-site",children:[Object(u.jsx)("p",{className:"aboutMe__portfolio-siteDescription",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(u.jsx)("a",{className:"aboutMe__portfolio-siteLink",target:"_blank",rel:"nofollow noopener noreferrer",href:"https://https://xenoxil.mesto.nomoreparties.sbs/",children:Object(u.jsx)("img",{src:E,alt:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442",className:"aboutMe__linkArrow"})})]})]})]})};var B=function(e){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(b,{loggedInState:e.loggedInState}),Object(u.jsx)(C,{}),Object(u.jsx)(w,{}),Object(u.jsx)(L,{}),Object(u.jsx)(T,{id:"techs"}),Object(u.jsx)(F,{id:"student",onSize:e.onSize}),Object(u.jsx)(m,{})]})};var I=function(e){return Object(u.jsxs)("div",{className:"savedMovies",children:[Object(u.jsx)(b,{className:"main__header",onSize:e.onSize}),Object(u.jsx)(O,{onSize:e.onSize,isSwitched:e.isSwitched,onSearch:e.onSearch,onTypeSwitch:e.onTypeSwitch}),Object(u.jsx)(g,{movieCards:e.filteredMovies,savedMovies:e.savedMovies,isSearched:!0,onLike:e.onLikeClick,onDislikeClick:e.onDislikeClick,savedMoviesPage:!0}),Object(u.jsx)("div",{className:"savedMovies__separator"}),Object(u.jsx)(m,{}),Object(u.jsx)(S,{isVisible:e.isNotificationVisible,notificationMessage:e.notificationMessage})]})},V=n.a.createContext();var D=function(e){var t=n.a.useRef(),s=n.a.useRef(),i=n.a.useContext(V);return Object(u.jsxs)("div",{className:"profile",children:[Object(u.jsx)(b,{className:"main__header",onSize:e.onSize}),Object(u.jsxs)("p",{className:"profile__greetings",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",i.data.name,"!"]}),Object(u.jsxs)("form",{className:"profile__form",children:[Object(u.jsxs)("div",{className:"profile__container",children:[Object(u.jsx)("p",{className:"profile__text",children:"\u0418\u043c\u044f"}),Object(u.jsx)("input",{className:"profile__input",placeholder:"\u0418\u043c\u044f",defaultValue:i.data.name,ref:t})]}),Object(u.jsxs)("div",{className:"profile__container",children:[Object(u.jsx)("p",{className:"profile__text",children:"E-mail"}),Object(u.jsx)("input",{className:"profile__input",placeholder:"\u041f\u043e\u0447\u0442\u0430",defaultValue:i.data.email,ref:s})]}),Object(u.jsx)("button",{className:"profile__edit",type:"submit",onClick:function(i){i.preventDefault(),e.onEditClick(t.current.value,s.current.value)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),Object(u.jsx)("button",{className:"profile__logout",type:"button",onClick:e.onLogoutClick,disable:e.buttonDisableState,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"}),Object(u.jsx)(S,{isVisible:e.isNotificationVisible,notificationMessage:e.notificationMessage})]})},z=s(9),U=s(10),R=function(){function e(t,s){Object(z.a)(this,e),this._config=t,this._form=s,this._btn=this._form.querySelector(t.submitButtonSelector)}return Object(U.a)(e,[{key:"_showError",value:function(e){this._form.querySelector("#".concat(e.id,"-error")).textContent=e.validationMessage,e.classList.add(this._config.errorClass)}},{key:"_hideError",value:function(e){this._form.querySelector("#".concat(e.id,"-error")).textContent="",e.classList.remove(this._config.errorClass)}},{key:"_isValid",value:function(e){e.validity.valid?this._hideError(e):this._showError(e)}},{key:"setSubmitBtnState",value:function(e){e?(this._btn.classList.remove(this._config.inactiveButtonClass),this._btn.disabled=!1):(this._btn.classList.add(this._config.inactiveButtonClass),this._btn.disabled=!0)}},{key:"setErrorListener",value:function(){var e=this,t=this._form.querySelectorAll(this._config.inputSelector);t.forEach((function(s){s.addEventListener("input",(function(){e._isValid(s),e.setSubmitBtnState(e._form.checkValidity())})),e._form.addEventListener("reset",(function(){t.forEach((function(t){e._hideError(t),e.setSubmitBtnState(!1)}))}))}))}},{key:"enableValidation",value:function(){this.setErrorListener(),this.setSubmitBtnState(this._form.checkValidity()),this._form.addEventListener("submit",(function(e){e.preventDefault()}))}}]),e}(),q=(document.querySelector(".popupImage"),{formSelector:".register__form",inputSelector:".register__input",submitButtonSelector:".register__button",inactiveButtonClass:"register__submitbtn_status_inactive",errorClass:"register__input_state_invalid"}),J={formSelector:".login__form",inputSelector:".login__input",submitButtonSelector:".login__button",inactiveButtonClass:"login__submitbtn_status_inactive",errorClass:"login__input_state_invalid"};var A=function(e){var t=Object(i.useRef)(),s=Object(i.useRef)();return n.a.useEffect((function(){var e=document.getElementById("loginForm");new R(J,e).enableValidation()}),[]),Object(u.jsxs)("div",{className:"login",children:[Object(u.jsx)("img",{src:j,className:"login__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(u.jsx)("p",{className:"login__greetings",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(u.jsxs)("form",{className:"login__form",id:"loginForm",children:[Object(u.jsx)("p",{className:"login__formText",children:"E-mail"}),Object(u.jsx)("input",{className:"login__input",ref:t,type:"email",id:"loginEmail",required:!0,minLength:2,maxLength:40,autoComplete:"off"}),Object(u.jsx)("span",{className:"error",id:"loginEmail-error"}),Object(u.jsx)("p",{className:"login__formText",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsx)("input",{className:"login__input",ref:s,type:"password",id:"loginPassword",required:!0,minLength:8,maxLength:30,autoComplete:"off"}),Object(u.jsx)("span",{className:"error",id:"loginPassword-error"}),Object(u.jsx)("button",{className:"login__button",type:"submit",onClick:function(i){i.preventDefault(),e.onLogin(t.current.value,s.current.value)},disabled:e.buttonDisableState,children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(u.jsxs)("p",{className:"login__register",children:["\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"," ",Object(u.jsx)("a",{className:"login__registerLink",href:"/signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]}),Object(u.jsx)(S,{isVisible:e.isNotificationVisible,notificationMessage:e.notificationMessage})]})};var H=function(e){var t=Object(i.useRef)(),s=Object(i.useRef)(),c=Object(i.useRef)();return n.a.useEffect((function(){var e=document.getElementById("registerForm");new R(q,e).enableValidation()}),[]),Object(u.jsxs)("section",{className:"register",children:[Object(u.jsx)("img",{src:j,className:"register__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(u.jsx)("h2",{className:"register__greetings",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(u.jsxs)("form",{className:"register__form",id:"registerForm",autoComplete:"off",onSubmit:function(i){i.preventDefault(),e.onRegisterClick(s.current.value,c.current.value,t.current.value)},children:[Object(u.jsx)("p",{className:"register__formText",children:"\u0418\u043c\u044f"}),Object(u.jsx)("input",{className:"register__input",type:"text",ref:t,required:!0,minLength:2,id:"registerName",autocomplete:"off"}),Object(u.jsx)("span",{className:"error",id:"registerName-error"}),Object(u.jsx)("p",{className:"register__formText",children:"E-mail"}),Object(u.jsx)("input",{className:"register__input",autocomplete:"off",ref:s,type:"email",id:"registerEmail",required:!0,minLength:2,maxLength:40}),Object(u.jsx)("span",{className:"error",id:"registerEmail-error"}),Object(u.jsx)("p",{className:"register__formText",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsx)("input",{className:"register__input",autocomplete:"off",ref:c,required:!0,minLength:8,maxLength:30,id:"registerPassword",type:"password"}),Object(u.jsx)("span",{className:"error",id:"registerPassword-error"}),Object(u.jsx)("button",{className:"register__button",type:"submit",disabled:e.buttonDisableState,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(u.jsxs)("p",{className:"login__register",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"," ",Object(u.jsx)(o.b,{to:"/signin",className:"login__registerLink",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(u.jsx)(S,{isVisible:e.isNotificationVisible,notificationMessage:e.notificationMessage})]})};var G=function(){var e=Object(d.g)();return Object(u.jsxs)("section",{className:"pageNotFound",id:"404",children:[Object(u.jsx)("h3",{className:"pageNotFound_error",children:"404"}),Object(u.jsx)("p",{className:"pageNotFound_message",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(u.jsx)("p",{className:"pageNotFound_return",onClick:function(){e.goBack()},children:"\u041d\u0430\u0437\u0430\u0434"})]})},W=s(23),K=s(24),Q=function(e){var t=e.component,s=(e.path,Object(K.a)(e,["component","path"]));return Object(u.jsx)(d.b,{children:function(){return s.loggedIn?Object(u.jsx)(t,Object(W.a)({},s)):Object(u.jsx)(d.a,{to:"/signin"})}})},X=new(function(){function e(t){Object(z.a)(this,e),this._options=t,this._headers=this._options.headers}return Object(U.a)(e,[{key:"register",value:function(e,t,s){return fetch("".concat(this._options.baseUrl,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:s})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"login",value:function(e,t){return fetch("".concat(this._options.baseUrl,"/signin"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"logout",value:function(){return fetch("".concat(this._options.baseUrl,"/signout"),{method:"delete",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}}]),e}())({baseUrl:"https://xenoxil.movie-explorer.nomoreparties.sbs",headers:{"Content-Type":"application/json"}}),Y=function(){function e(t){Object(z.a)(this,e),this._options=t,this._headers=this._options.headers}return Object(U.a)(e,[{key:"getProfile",value:function(){return fetch("".concat(this._options.baseUrl,"/users/me"),{headers:this._options.headers,credentials:"include"}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"editProfile",value:function(e,t){return fetch("".concat(this._options.baseUrl,"/users/me"),{method:"PATCH",credentials:"include",headers:this._options.headers,body:JSON.stringify({name:e,email:t})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"changeLikeCardStatus",value:function(e,t){return fetch("".concat(this._options.baseUrl,"/movies"),{method:t?"PUT":"DELETE",credentials:"include",headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"saveMovie",value:function(e){var t=e.country,s=e.director,i=e.duration,n=e.year,c=e.description,a=e.trailerLink,o=e.nameEN,r=e.nameRU,l=e.id,j=e.src,d=e.image;return fetch("".concat(this._options.baseUrl,"/movies/"),{method:"POST",credentials:"include",headers:this._options.headers,body:JSON.stringify({country:t||"##",director:s,duration:i,year:n,description:c,image:j,trailer:a||"https://xenoxil.movies-explorer.nomoreparties.sbs/404",nameRU:r,nameEN:o||r,thumbnail:"https://api.nomoreparties.co".concat(d.formats.thumbnail.url),movieId:l})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u0430: ".concat(e.status))}))}},{key:"getSavedMovies",value:function(){return fetch("".concat(this._options.baseUrl,"/movies"),{method:"get",credentials:"include",headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432: ".concat(e.status))})).catch((function(){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432:")}))}},{key:"removeMovie",value:function(e){return fetch("".concat(this._options.baseUrl,"/movies/").concat(e),{method:"DELETE",credentials:"include",headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043b\u0430\u0439\u043a\u0430: ".concat(e.status))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043b\u0430\u0439\u043a\u0430 ".concat(e))}))}}]),e}(),Z=new Y({baseUrl:"https://xenoxil.movie-explorer.nomoreparties.sbs",headers:{"Content-Type":"application/json"}}),$=new(function(){function e(t){Object(z.a)(this,e),this._options=t,this._headers=this._options.headers}return Object(U.a)(e,[{key:"getMovies",value:function(){return fetch("".concat(this._options.baseUrl,"/"),{headers:this._options.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}}]),e}())({baseUrl:"https://api.nomoreparties.co/beatfilm-movies",headers:{"Content-Type":"application/json"}});var ee=function(){var e=Object(i.useState)(window.innerWidth),t=Object(l.a)(e,2),s=t[0],c=t[1],a=[],o=Object(i.useState)([]),j=Object(l.a)(o,2),h=j[0],b=j[1],m=function(){setTimeout(c(window.innerWidth),1e3)};Object(i.useEffect)((function(){return window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}}),[]);var _=n.a.useState({name:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",email:"pochta@ya.ru"}),f=Object(l.a)(_,2),p=f[0],O=f[1],x=n.a.useState(!1),v=Object(l.a)(x,2),g=v[0],N=v[1],k=Object(d.g)(),S=n.a.useState([]),M=Object(l.a)(S,2),C=M[0],w=M[1],L=n.a.useState(!1),T=Object(l.a)(L,2),P=T[0],E=T[1],F=n.a.useState([]),z=Object(l.a)(F,2),U=z[0],R=z[1],q=n.a.useState(0),J=Object(l.a)(q,2),W=J[0],K=J[1],Y=n.a.useState(!1),ee=Object(l.a)(Y,2),te=ee[0],se=ee[1],ie=n.a.useState(4),ne=Object(l.a)(ie,2),ce=ne[0],ae=ne[1],oe=n.a.useState([]),re=Object(l.a)(oe,2),le=re[0],je=re[1],de=Object(i.useState)(!1),ue=Object(l.a)(de,2),he=ue[0],be=ue[1],me=Object(i.useState)(),_e=Object(l.a)(me,2),fe=_e[0],pe=_e[1],Oe=Object(i.useState)(!1),xe=Object(l.a)(Oe,2),ve=xe[0],ge=xe[1],Ne=Object(i.useState)(""),ke=Object(l.a)(Ne,2),Se=ke[0],ye=ke[1],Me=Object(i.useState)(!1),Ce=Object(l.a)(Me,2),we=Ce[0],Le=Ce[1],Te=Object(i.useState)(!1),Pe=Object(l.a)(Te,2),Ee=Pe[0],Fe=Pe[1],Be=n.a.useState(!1),Ie=Object(l.a)(Be,2),Ve=Ie[0],De=Ie[1];function ze(e,t){localStorage.setItem("moviesSearchInputValue",e),localStorage.setItem("moviesTypeFull",fe),localStorage.setItem("moviesObjects",t)}function Ue(e,t){var s,i=e.filter((function(e){return e.nameRU&&e.nameEN?e.nameRU.toLowerCase().includes(t.toLowerCase())||e.nameEN.toLowerCase().includes(t.toLowerCase()):e.nameRU.toLowerCase().includes(t.toLowerCase())}));return s=i,fe?s.filter((function(e){return e.duration>40})):s.filter((function(e){return e.duration<=40}))}function Re(){pe(!fe)}function qe(e,t){Le(!0),X.login(e,t).then((function(){Je("\u0412\u0445\u043e\u0434 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d"),N(!0),k.push("/movies")})).then((function(){Z.getProfile().then((function(e){O(e)}))})).catch((function(e){401===e?(console.log("401 - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 email \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),Je("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435: 401 - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 email \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")):400===e?(console.log("400 - \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439 "),Je("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435: 400 - \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439 \u0438\u043b\u0438 \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439 \u043d\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u043e")):(console.log(e),Je("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435: ".concat(e)))})).finally((function(){Le(!1)}))}function Je(e){ye(e),ge(!0),setTimeout((function(){ge(!1)}),5e3)}function Ae(){W<U.length?se(!0):se(!1)}function He(e){je(e.slice(0,W))}function Ge(e){Z.saveMovie(e).then((function(e){b([e].concat(Object(r.a)(h))),Je("\u0424\u0438\u043b\u044c\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d")})).catch((function(e){console.log(e),400===e.statusCode&&Je("".concat(e.message)),Je("".concat(e))}))}return Object(i.useEffect)((function(){s<768?(K(5),ae(5)):s<1280&&s>=768?(K(8),ae(2)):(K(16),ae(4))}),[]),Object(i.useEffect)((function(){Ae()}),[le]),Object(i.useEffect)((function(){null!==localStorage.getItem("moviesObjects")&&localStorage.getItem("moviesObjects")!==[]&&(je(JSON.parse(localStorage.getItem("moviesObjects"))),Fe(!0)),null!==localStorage.getItem("moviesTypeFull")&&("true"===localStorage.getItem("moviesTypeFull")?pe(!0):"false"===localStorage.getItem("moviesTypeFull")&&pe(!1))}),[]),n.a.useEffect((function(){document.title="Movies-explorer",Z.getProfile().then((function(e){if(!e)return Promise.reject("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f");N(!0),O(e),k.push("/movies")})).then((function(){Z.getSavedMovies().then((function(e){return e.data.map((function(e){return e.src=e.image,a.push(e)})),b(a),h}))})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430:",e)}))}),[]),Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(V.Provider,{value:p,children:Object(u.jsxs)(d.d,{children:[Object(u.jsx)(d.b,{exact:!0,path:"/landing",children:Object(u.jsx)(B,{onSize:s,loggedInState:g})}),Object(u.jsx)(Q,{component:I,loggedIn:g,filteredMovies:le,onSearch:function(e){be(!0),De(!0);var t=Ue(h,e);R(t),je(t.slice(0,W)),be(!1)},onTypeSwitch:Re,isSwitched:fe,savedMovies:h,isSavedSearched:Ve,onLikeClick:Ge,onDislikeClick:function(e){var t=h.find((function(t){return t.movieId===e.id}))._id;Z.removeMovie(t).then((function(){var t=[];U.forEach((function(s){s.movieId!==e.id&&t.push(s)})),R(t),He(t),b(t),Je("\u0424\u0438\u043b\u044c\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0451\u043d")})).catch((function(e){console.log(e),Je("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u0430 ".concat(e))}))},isNotificationVisible:ve,notificationMessage:Se,exact:!0,path:"/savedMovies",onSize:s}),Object(u.jsx)(Q,{component:D,loggedIn:g,onLogoutClick:function(){N(!1),X.logout().catch((function(e){console.log(e)}))},onEditClick:function(e,t){e!==p.data.name||t!==p.data.email?(Le(!0),Z.editProfile(e,t).then((function(e){O(e),Je("\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b")})).catch((function(e){console.log(e),Je("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f: ".concat(e))})).finally((function(){Le(!1)}))):Je('\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u0435\u0440\u0435\u0434 \u043d\u0430\u0436\u0430\u0442\u0438\u0435\u043c \u043a\u043d\u043e\u043f\u043a\u0438 "\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"')},isNotificationVisible:ve,notificationMessage:Se,buttonDisableState:we,onSize:s,exact:!0,path:"/profile"}),Object(u.jsx)(d.b,{exact:!0,path:"/signin",children:Object(u.jsx)(A,{onLogin:qe,isNotificationVisible:ve,notificationMessage:Se,buttonDisableState:we})}),Object(u.jsx)(d.b,{exact:!0,path:"/signup",children:Object(u.jsx)(H,{onRegisterClick:function(e,t,s){Le(!0),X.register(e,t,s).then((function(){qe(e,t),Je("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e")})).catch((function(e){"400"===e?(console.log("400 - \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439"),Je("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 400 - \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439")):(console.log("\u041e\u0448\u0438\u0431\u043a\u0430:",e),Je("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: ".concat(e))),N(!1)})).finally((function(){Le(!1)}))},isNotificationVisible:ve,notificationMessage:Se,buttonDisableState:we})}),Object(u.jsx)(Q,{component:y,isSwitched:fe,loggedIn:g,filteredMovies:le,onSearchClick:function(e){var t=[];P?(t=Ue(C,e),R(t),ze(e,JSON.stringify(t.slice(0,W))),je(t.slice(0,W))):(be(!0),$.getMovies().then((function(s){w(s),E(!0),s.forEach((function(e){e.src="https://api.nomoreparties.co/".concat(e.image.url)})),t=Ue(s,e),R(t),ze(e,JSON.stringify(t.slice(0,W))),je(t.slice(0,W)),be(!1)})).catch((function(e){console.log(e)})))},isSearched:P,isShowed:te,onMoreMoviesClick:function(){K(W+ce),je(U.slice(0,W+ce))},moreMoviesVisibilityCheck:Ae,renderMovies:He,isLoading:he,onLike:Ge,onDislikeClick:function(e){var t=h.find((function(t){return t.movieId===e.id}))._id;Z.removeMovie(t).then((function(){var t=[];h.forEach((function(s){s.movieId!==e.id&&t.push(s)})),b(t),Je("\u0424\u0438\u043b\u044c\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0451\u043d")})).catch((function(e){console.log(e),Je("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u0430 ".concat(e))}))},savedMovies:h,onTypeSwitch:Re,isNotificationVisible:ve,notificationMessage:Se,isStorageFull:Ee,exact:!0,path:"/movies",onSize:s}),Object(u.jsx)(d.b,{exact:!0,path:"/",children:Object(u.jsx)(d.a,{to:"/landing"})}),Object(u.jsx)(d.b,{path:"*",children:Object(u.jsx)(G,{})})]})})})},te=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,39)).then((function(t){var s=t.getCLS,i=t.getFID,n=t.getFCP,c=t.getLCP,a=t.getTTFB;s(e),i(e),n(e),c(e),a(e)}))};a.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(o.a,{children:Object(u.jsx)(ee,{})})}),document.getElementById("root")),te()}},[[38,1,2]]]);
//# sourceMappingURL=main.70001cf1.chunk.js.map