{"version":3,"sources":["images/header-logo.svg","components/Menu/Menu.js","components/Header/Header.js","components/Footer/Footer.js","images/loupePic.svg","images/searchBtn.svg","components/SearchForm/SearchForm.js","components/MoviesCard/MoviesCard.js","images/defaultMovie.jpg","components/MoviesCardList/MoviesCardList.js","components/moreMovies/moreMovies.js","components/Preloader/Preloader.js","components/Main/Main.js","images/promo-logo.svg","components/Promo/Promo.js","components/NavTab/NavTab.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/studentFoto.png","images/linkArrow.svg","components/AboutMe/AboutMe.js","components/Landing/Landing.js","components/SavedMovies/SavedMovies.js","contexts/CurrentUserContext.js","components/Profile/Profile.js","components/FormValidator.js","utils/constants.js","components/Login/Login.js","components/Register/Register.js","components/PageNotFound/PageNotFound.js","components/ProtectedRoute/ProtectedRoute.js","utils/auth.js","utils/mainApi.js","utils/MoviesApi.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["Menu","props","className","isVisible","to","type","onClick","onCloseClick","Header","useState","isMenuOpen","setMenuState","path","src","HeaderLogo","alt","loggedInState","onSize","Footer","href","target","rel","SearchForm","searchRef","React","useRef","isMatchedPath","useHistory","location","pathname","searchClickMovies","e","preventDefault","onSearchClick","current","value","searchSavedMovies","onSearch","SwitchMovieTypeHandler","onTypeSwitch","SwitchSavedMovieTypeHandler","loupePic","placeholder","ref","required","disabled","isLoading","searchBtn","isSwitched","MoviesCard","isLiked","savedMovies","some","i","movieId","cardObj","id","timeDuration","mins","hours","Math","trunc","minutes","getTimeFromMins","duration","trailerLink","cardPic","name","movieName","aria-label","onDislikeClick","onLike","MoviesCardList","console","log","isSearched","movieCards","length","map","item","defaultPic","nameRU","onCardClick","moreMovies","isShowed","onMoreMoviesClick","Preloader","Main","renderMovies","moreMoviesVisibilityCheck","filteredMovies","Promo","promoPic","NavTab","AboutProject","Techs","AboutMe","myFoto","linkArrow","Landing","SavedMovies","isSavedSearched","CurrentUserContext","createContext","Profile","nameRef","emailRef","userProfile","useContext","data","defaultValue","email","onEditClick","onLogoutClick","FormValidator","config","formElem","this","_config","_form","_btn","querySelector","submitButtonSelector","input","textContent","validationMessage","classList","add","errorClass","remove","validity","valid","_hideError","_showError","validationStatus","inactiveButtonClass","inputList","querySelectorAll","inputSelector","forEach","addEventListener","_isValid","setSubmitBtnState","checkValidity","inputElement","setErrorListener","evt","registerConfig","document","formSelector","loginConfig","Login","password","useEffect","loginForm","getElementById","enableValidation","minLength","maxLength","autoComplete","onLogin","Register","registerForm","onSubmit","onRegisterClick","autocomplete","PageNotFound","history","goBack","ProtectedRoute","Component","component","loggedIn","auth","options","_options","_headers","headers","fetch","baseUrl","method","body","JSON","stringify","then","res","ok","json","Promise","reject","status","credentials","userApi","catch","err","newName","newEmail","country","director","year","description","nameEN","image","trailer","thumbnail","formats","url","moviesListApi","App","window","innerWidth","screenWidth","setScreenWidth","savedMoviesArray","setSavedMovies","setTimeout","removeEventListener","currentUser","setCurrentUser","setLoggedInState","cards","setCards","setSearched","setSavedSearched","filteredArray","setFiltered","currentMovies","setCurrentMovies","isMoreMoviesVisible","setMoreMoviesVisibility","addMovies","setAddMovies","showedMovies","setShowedMovies","setIsLoading","setSwitchState","typeFiltering","moviesList","filter","searchFilter","moviesArray","requiredMovie","newArray","movieObj","toLowerCase","includes","SwitchMovieType","handleLoginClick","login","push","getProfile","profileObj","getSavedMovies","Provider","movie","fArray","slice","exact","logout","editProfile","register","getMovies","card","saveMovie","deleteId","find","_id","removeMovie","deletedCard","arrayWithoutDeletedMovie","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.a543c146.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.6e5df113.svg\";","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n    \r\n\r\nfunction Menu(props) {\r\n    return (              \r\n              <section className= {props.isVisible ? 'menu menu__visible' : 'menu'}>\r\n                <div className='menu__link-container'>\r\n                <Link to='/landing' className='menu__link link'>Главная</Link>\r\n              <Link to='/movies' className='menu__link link'>Фильмы</Link>\r\n              <Link to='/savedMovies' className='menu__link link'>Сохранённые фильмы</Link>\r\n              <Link to='/profile' className='menu__accLink' >Аккаунт</Link>\r\n              </div>\r\n              <button type='button' className='menu__closeBtn' onClick={props.onCloseClick}/> \r\n                                        \r\n                </section>                 \r\n    )\r\n}\r\n\r\nexport default Menu","import React,{useState} from 'react'\r\nimport HeaderLogo from '../../images/header-logo.svg'\r\nimport {Link,Route,Switch} from 'react-router-dom'\r\nimport Menu from '../Menu/Menu';\r\n    \r\n\r\nfunction Header(props) {\r\n  const[isMenuOpen,setMenuState]=useState(false);\r\n  \r\n    return (              \r\n            <Switch>\r\n              <Route path='/landing'>                \r\n              <header className='header header_landingColor'>\r\n                <img src={HeaderLogo} className='header__logo' alt='Логотип проектной работы' />\r\n                {props.loggedInState ? \r\n                (<div className='header__container'>               \r\n                <Link to='/movies' className='header__link link header__landingLink'>Фильмы</Link>\r\n                <Link to='/savedMovies' className='header__link link header__landingLink'>Сохранённые фильмы</Link>\r\n                <Link to='/profile' className='header__accBtn' >Аккаунт</Link>\r\n              </div>)\r\n              : \r\n            (<div className='header__container'>               \r\n            <Link to='/signup' className='header__registration'>Регистрация</Link>\r\n            <Link to='/signin' className='header__loginBtn'>Войти</Link>                  \r\n          </div>)\r\n               }\r\n                \r\n                </header>\r\n              </Route>\r\n              <Route path='/'>\r\n              <header className='header'>\r\n              <img src={HeaderLogo} className='header__logo' alt='Логотип проектной работы' />\r\n              {props.onSize>=1280\r\n              ? (<div className='header__container'>               \r\n              <Link to='/movies' className='header__link link'>Фильмы</Link>\r\n              <Link to='/savedMovies' className='header__link link'>Сохранённые фильмы</Link>\r\n              <Link to='/profile' className='header__accBtn' >Аккаунт</Link>\r\n            </div>)\r\n            :  (<div className='header__container'>\r\n                  <button className='header__humburgerBtn' onClick={()=>setMenuState(true)}/>\r\n                </div>\r\n            )\r\n          }   \r\n          <Menu isVisible={isMenuOpen} onCloseClick={()=>setMenuState(false)}/>              \r\n                </header>  \r\n              </Route>\r\n              </Switch>               \r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\n\r\n\r\nfunction Footer(props) {\r\n    return (\r\n        <section className='footer'>\r\n            <p className='footer__title'>Учебный проект Яндекс.Практикум х BeatFilm.</p>\r\n            {props.onSize>=768 ?\r\n            (<div className='footer__container'>\r\n              <p className=\"footer__copyright\">&copy;2022.Юрий Степанов</p>\r\n              <nav className='footer__navigation'>\r\n                 <ul className='footer__links'>\r\n                     <li className='footer__link'><a href='https://practicum.yandex.ru/'  target=\"_blank\" rel='nofollow noopener noreferrer'  className='link' >Яндекс.Практикум</a></li>\r\n                     <li className='footer__link'><a href='https://github.com/xenoxil' target=\"_blank\" rel='nofollow noopener noreferrer'  className='link'>Github</a></li>\r\n                     <li className='footer__link'><a href='https://www.facebook.com' target=\"_blank\" rel='nofollow noopener noreferrer'  className='link'>Facebook</a></li> \r\n                 </ul>\r\n              </nav>\r\n            </div>)\r\n            : (<div className='footer__container'>            \r\n            <nav className='footer__navigation'>\r\n               <ul className='footer__links'>\r\n                   <li className='footer__link'><a href='https://practicum.yandex.ru/' target=\"_blank\" rel='nofollow noopener noreferrer'  className='link' >Яндекс.Практикум</a></li>\r\n                   <li className='footer__link'><a href='https://github.com/xenoxil' target=\"_blank\" rel='nofollow noopener noreferrer'  className='link'>Github</a></li>\r\n                   <li className='footer__link'><a href='https://www.facebook.com' target=\"_blank\" rel='nofollow noopener noreferrer'  className='link'>Facebook</a></li> \r\n               </ul>\r\n            </nav>\r\n            <p className=\"footer__copyright\">&copy;2022</p>\r\n          </div>)}     \r\n        </section>        \r\n    )\r\n}\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/loupePic.99b6633d.svg\";","export default __webpack_public_path__ + \"static/media/searchBtn.bd527758.svg\";","import React from 'react'\r\nimport loupePic from '../../images/loupePic.svg'\r\nimport searchBtn from '../../images/searchBtn.svg'\r\nimport { useHistory } from 'react-router-dom';\r\n    \r\n\r\nfunction SearchForm(props) { \r\n  const searchRef = React.useRef();\r\n  const history = useHistory();  \r\n  let isMatchedPath=history.location.pathname==='/movies';\r\n  \r\n\r\n  function searchClickMovies(e){\r\n   e.preventDefault();\r\n  props.onSearchClick(searchRef.current.value)   \r\n  } \r\n\r\n  function searchSavedMovies(e){\r\n    e.preventDefault();\r\n    props.onSearch(searchRef.current.value);\r\n  }\r\n\r\n  function SwitchMovieTypeHandler(e){    \r\n    props.onTypeSwitch();\r\n    searchClickMovies(e);        \r\n  }\r\n\r\n  function SwitchSavedMovieTypeHandler(e){\r\n    props.onTypeSwitch();\r\n    searchSavedMovies(e);\r\n  }\r\n\r\n  \r\n    return (\r\n      <section className='searchSection'>        \r\n        { props.onSize>=768 \r\n        ?\r\n          (<div><form className='searchForm' >\r\n            <img src={loupePic} alt='Значок лупы' className='searchForm__loupePic'/>\r\n            <input className='searchForm__input' placeholder='Фильм' ref={searchRef} required/>\r\n            <button className='searchForm__searchBtn' onClick={isMatchedPath ? searchClickMovies : searchSavedMovies} disabled={props.isLoading}>\r\n              <img src={searchBtn} alt='Кнопка поиска' />\r\n            </button>            \r\n            {props.isSwitched ?\r\n            <div className='searchForm__movieType-container'> \r\n            <button className='searchForm__movieTypeBtn' onClick={isMatchedPath ? SwitchMovieTypeHandler : SwitchSavedMovieTypeHandler }></button>\r\n            <p className='searchForm__movieType'>Полнометражки</p>\r\n            </div> :\r\n            <div className='searchForm__movieType-container'>\r\n            <button className='searchForm__movieTypeBtn searchForm__movieTypeShort' onClick={isMatchedPath ? SwitchMovieTypeHandler : SwitchSavedMovieTypeHandler }></button>\r\n            <p className='searchForm__movieType '>Короткометражки</p>\r\n            </div>}            \r\n          </form>\r\n          <div className='search__bottomString'/>\r\n          </div>)\r\n          :\r\n          (<div><form className='searchForm' >            \r\n            <input className='searchForm__input' placeholder='Фильм' ref={searchRef} required/>\r\n            <button className='searchForm__searchBtn' onClick={isMatchedPath ? searchClickMovies : searchSavedMovies} disabled={props.isLoading} >\r\n              <img src={searchBtn} alt='Кнопка поиска'/>\r\n            </button>            \r\n          </form>\r\n          {props.isSwitched ?\r\n          <div className='searchForm__movieType-container'> \r\n          <button className='searchForm__movieTypeBtn' onClick={isMatchedPath ? SwitchMovieTypeHandler : SwitchSavedMovieTypeHandler }></button>\r\n            <p className='searchForm__movieType'>Полнометражки</p>\r\n            </div> :\r\n            <div className='searchForm__movieType-container'>\r\n            <button className='searchForm__movieTypeBtn searchForm__movieTypeShort' onClick={isMatchedPath ? SwitchMovieTypeHandler : SwitchSavedMovieTypeHandler }></button>\r\n            <p className='searchForm__movieType'>Короткометражки</p>\r\n            </div>          \r\n            }           \r\n          <div className='search__bottomString'/>\r\n          </div>)}\r\n        </section>\r\n         \r\n                          \r\n    )\r\n}\r\n\r\nexport default SearchForm","\r\nfunction MoviesCard(props) {\r\n    \r\n    const isLiked = props.savedMovies.some(i =>  i.movieId === props.cardObj.id);\r\n\r\n\r\n    function handleLikeClick(){\r\n        props.onLike(props.cardObj);\r\n    }\r\n    function handleDislike(){        \r\n        props.onDislikeClick(props.cardObj);\r\n    }\r\n    function getTimeFromMins(mins) {\r\n        let hours = Math.trunc(mins/60);\r\n        let minutes = mins % 60;\r\n        if(hours>0){\r\n            return hours + \"ч \" + minutes + \"м\";\r\n        }\r\n        else{\r\n            return minutes + \"м\";   \r\n        }\r\n    };\r\n\r\n    const timeDuration= getTimeFromMins(props.duration)\r\n   \r\n    \r\n  \r\n    return (\r\n        <li className='moviesCard'>\r\n            <a href={props.cardObj.trailerLink} target=\"_blank\" rel = 'noreferrer'>\r\n            <img src={props.cardPic} alt={props.name} className='moviesCard__pic' /></a>          \r\n          <div className='moviesCard__container'>\r\n              <p className='moviesCard__name'>{props.movieName}</p>\r\n              <button className={isLiked ? 'moviesCard__likeBtn ' : 'moviesCard__likeBtn_active' }\r\n               aria-label='Кнопка лайк' type=\"button\" onClick={isLiked ? handleDislike :handleLikeClick}> </button>    \r\n          </div>\r\n          <p className='moviesCard__duration'>{timeDuration}</p>\r\n        </li>                \r\n    )\r\n}\r\n\r\nexport default MoviesCard","export default __webpack_public_path__ + \"static/media/defaultMovie.725aa4f1.jpg\";","import React from 'react'\r\nimport MoviesCard from '../MoviesCard/MoviesCard'\r\nimport defaultPic from '../../images/defaultMovie.jpg'\r\n\r\n\r\n    \r\n\r\nfunction MoviesCardList(props) { \r\nconsole.log('сохраненные фильмы')\r\nconsole.log(props.savedMovies)\r\n    return (\r\n        props.isSearched ?\r\n        (props.movieCards.length>0 ?\r\n            <ul className='moviesCardList'>\r\n            {\r\n             props.movieCards.map((item)=>{\r\n                 return <MoviesCard cardObj={item} \r\n                 cardPic={item.src ? item.src :  defaultPic} name={item.nameRU}\r\n                  movieName={item.nameRU} duration={item.duration} key={item.id}\r\n                  savedMovies={props.savedMovies}\r\n                    onCardClick={props.onCardClick} onLike={props.onLike} onDislikeClick={props.onDislikeClick}/>\r\n             })\r\n            }\r\n        </ul>\r\n        :\r\n        <p className='moviesCardList__empty'>Ничего не найдено ‿︵‿ヽ(°□° )ノ︵‿︵</p>\r\n        )\r\n        : <ul></ul>                \r\n    )\r\n}\r\n\r\nexport default MoviesCardList","import React from 'react'\r\n\r\n\r\nfunction moreMovies(props) {        \r\n    return (        \r\n        (<button className={props.isShowed ? `moreMovies` : `moreMovies moreMovies__hidden`} onClick={props.onMoreMoviesClick}>\r\n           Ещё\r\n        </button>)\r\n    )\r\n}\r\n\r\nexport default moreMovies","import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = () => {\n    return (\n        <div className=\"preloader\">\n            <div className=\"preloader__container\">\n                <span className=\"preloader__round\"></span>\n            </div>\n        </div>\n    )\n};\n\nexport default Preloader\n","import Header from '../Header/Header';\r\nimport Footer from '../Footer/Footer';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\r\nimport MoreMovies from '../moreMovies/moreMovies';\r\nimport React from 'react';\r\nimport Preloader from '../Preloader/Preloader';\r\n\r\n\r\nfunction Main(props) { \r\n   \r\n    return (\r\n      <div className=\"main\">\r\n        <Header className='main__header' onSize={props.onSize}/>\r\n        <SearchForm onSize={props.onSize} onSearchClick={props.onSearchClick}\r\n         renderMovies={props.renderMovies} moreMoviesVisibilityCheck={props.moreMoviesVisibilityCheck} isLoading={props.isLoading}\r\n          onTypeSwitch={props.onTypeSwitch} isSwitched={props.isSwitched}/>\r\n         {props.isLoading ? <Preloader/> \r\n         : (<MoviesCardList movieCards={props.filteredMovies} isSearched={props.isSearched} onCardClick={props.onCardClick}\r\n           onLike={props.onLike} savedMovies={props.savedMovies} onDislikeClick={props.onDislikeClick}/>\r\n        )} \r\n        <MoreMovies isShowed={props.isShowed} onMoreMoviesClick={props.onMoreMoviesClick}  /> \r\n        <Footer/>   \r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Main;","export default __webpack_public_path__ + \"static/media/promo-logo.e4c6967f.svg\";","import React from 'react'\r\nimport promoPic from '../../images/promo-logo.svg'\r\n\r\n\r\nfunction Promo() {\r\n    return (\r\n        <section className='promo'>\r\n            <img src={promoPic} className='promo__logo' alt='Растерный логотип практикума' />\r\n            <h1 className='promo__text'>Учебный проект студента факультета Веб-разработки.</h1>\r\n        </section>        \r\n    )\r\n}\r\n\r\nexport default Promo","import React from 'react'\r\n\r\nfunction NavTab() {\r\n    return (\r\n        <section className='navTab'>\r\n          <nav className='navTab__container'>\r\n              <a href='#project' className='navTab__link' alt='О проекте' >О проекте</a>\r\n              <a href='#techs' className='navTab__link' alt='Технологии' >Технологии</a>\r\n              <a href='#student' className='navTab__link' alt='Студент' >Студент</a>        \r\n          </nav>\r\n        </section>        \r\n    )\r\n}\r\n\r\nexport default NavTab","import React from 'react'\r\n\r\n\r\nfunction AboutProject() {\r\n    return (\r\n        <section className='aboutProject' id='project'>\r\n            <h2 className='aboutProject__title'>О проекте</h2>\r\n            <div className='aboutProject__steps'>\r\n            <div className='aboutProject__textContainer'>\r\n              <h3 className='aboutProject__step-title'>Дипломный проект включал 5 этапов</h3>\r\n              <p  className='aboutProject__step-description'>Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\r\n            </div>\r\n            <div className='aboutProject__textContainer'>\r\n              <h3 className='aboutProject__step-title'>На выполнение диплома ушло 5 недель</h3>\r\n              <p  className='aboutProject__step-description'>У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\r\n            </div>\r\n            </div>\r\n            <div className='aboutProject__progressRow'>\r\n                <div className='aboutProject__backend'>\r\n                    <p className='aboutProject__progress aboutProject__progress-backend'>1 неделя</p>\r\n                    <p className='aboutProject__progress-title'>Back-end</p>\r\n                </div>\r\n                <div className='aboutProject__frontend'>                \r\n                <p className='aboutProject__progress aboutProject__progress-frontend'>4 недели</p>\r\n                <p className='aboutProject__progress-title'>Front-end</p>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </section>        \r\n    )\r\n}\r\n\r\nexport default AboutProject","import React from 'react'\r\n\r\nfunction Techs() {\r\n    return (\r\n        <section className='techs' id='techs'>\r\n            <h2 className='techs__title'>Технологии</h2>\r\n\r\n            <div className='techs__textContainer'>\r\n              <h3 className='techs__subtitle'>7 технологий</h3>\r\n              <p  className='techs__text'>На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\r\n            </div>\r\n            <ul className='techs__list'>\r\n                <li className='techs__technology'><p className='techs__name'>HTML</p></li>\r\n                <li className='techs__technology'><p className='techs__name'>CSS</p></li>\r\n                <li className='techs__technology'><p className='techs__name'>JS</p></li>\r\n                <li className='techs__technology'><p className='techs__name'>React</p></li>\r\n                <li className='techs__technology'><p className='techs__name'>Git</p></li>\r\n                <li className='techs__technology'><p className='techs__name'>Express.js</p></li>\r\n                <li className='techs__technology'><p className='techs__name'>mongoDB</p></li>\r\n            </ul>            \r\n\r\n        </section>        \r\n    )\r\n}\r\n\r\nexport default Techs","export default __webpack_public_path__ + \"static/media/studentFoto.3f31b05b.png\";","export default __webpack_public_path__ + \"static/media/linkArrow.fb3c35df.svg\";","import React from 'react'\r\nimport myFoto from '../../images/studentFoto.png'\r\n\r\nimport linkArrow from '../../images/linkArrow.svg'\r\n\r\n\r\nfunction AboutMe(props) {  \r\n    return (\r\n        <section className='aboutMe' id='student'>\r\n            <h3 className='aboutMe__title'>Студент</h3>\r\n            {props.onSize>=767 ? \r\n            (<div className='aboutMe__student'>\r\n              <div className='aboutMe__container'>\r\n                <p className='aboutMe__name'>Юрий</p>\r\n                <p className='aboutMe__job'>Фронтенд-разработчик</p>\r\n                <p className='aboutMe__about'>Я из города Лыткарино. Закончил факультет информационных систем РосНОУ.Я люблю слушать музыку, а ещё увлекаюсь бегом и компьютерными играми. Недавно начал кодить. С 2018 года работаю в компании «Nielsen».\r\n Сейчас занимаюсь фриланс-заказами и помогаю студентам Яндекс Практикума.</p>\r\n              </div>\r\n              <img className='aboutMe__foto' alt='Фото студента практикума' src={myFoto}/>\r\n            </div>)\r\n            :\r\n            (<div className='aboutMe__student'>\r\n              <div className='aboutMe__container'>\r\n              <img className='aboutMe__foto' alt='Фото студента практикума' src={myFoto}/>\r\n                <p className='aboutMe__name'>Юрий</p>\r\n                <p className='aboutMe__job'>Фронтенд-разработчик</p>\r\n                <p className='aboutMe__about'>Я из города Лыткарино. Закончил факультет информационных систем РосНОУ.Я люблю слушать музыку, а ещё увлекаюсь бегом и компьютерными играми. Недавно начал кодить. С 2018 года работаю в компании «Nielsen».\r\n Сейчас занимаюсь фриланс-заказами и помогаю студентам Яндекс Практикума.</p>\r\n              </div>\r\n              \r\n            </div>)\r\n             }\r\n            \r\n            <div className='aboutMe__socialLinks'>\r\n                <a className='aboutMe__socialLink link' target=\"_blank\" rel='nofollow noopener noreferrer'  href='https://www.facebook.com'>Facebook</a>\r\n                <a className='aboutMe__socialLink link' target=\"_blank\" rel='nofollow noopener noreferrer'  href='https://github.com/xenoxil'>Github</a>\r\n            </div>\r\n          <ul className='aboutMe__portfolio'>\r\n              <p className='aboutMe__subtitle'>Портфолио</p>\r\n              <li className='aboutMe__portfolio-site'>\r\n                  <p className='aboutMe__portfolio-siteDescription'>Статичный сайт</p>\r\n                  <a className='aboutMe__portfolio-siteLink' target=\"_blank\" rel='nofollow noopener noreferrer'  href='https://www.facebook.com'><img src={linkArrow} alt='Ссылка на сайт' className='aboutMe__linkArrow'/></a>\r\n              </li>\r\n              <li className='aboutMe__portfolio-site'>\r\n                  <p className='aboutMe__portfolio-siteDescription'>Адаптивный сайт</p>\r\n                  <a className='aboutMe__portfolio-siteLink' target=\"_blank\" rel='nofollow noopener noreferrer'  href='https://www.facebook.com'><img src={linkArrow} alt='Ссылка на сайт' className='aboutMe__linkArrow'/></a>\r\n              </li>\r\n              <li className='aboutMe__portfolio-site'>\r\n                  <p className='aboutMe__portfolio-siteDescription'>Одностраничное приложение</p>\r\n                  <a className='aboutMe__portfolio-siteLink' target=\"_blank\" rel='nofollow noopener noreferrer' href='https://www.facebook.com'><img src={linkArrow} alt='Ссылка на сайт' className='aboutMe__linkArrow'/></a>\r\n              </li>\r\n          </ul>\r\n        </section>        \r\n    )\r\n}\r\n\r\nexport default AboutMe","import Header from '../Header/Header';\r\nimport Promo from '../Promo/Promo'\r\nimport NavTab from '../NavTab/NavTab';\r\nimport AboutProject from '../AboutProject/AboutProject';\r\nimport Techs from '../Techs/Techs';\r\nimport AboutMe from '../AboutMe/AboutMe';\r\nimport Footer from '../Footer/Footer';\r\n\r\n\r\nfunction Landing(props) {\r\n    return (\r\n      <div className=\"App\">\r\n        <Header loggedInState={props.loggedInState}/>\r\n        <Promo/>\r\n        <NavTab/>   \r\n        <AboutProject />\r\n        <Techs id='techs'/>\r\n        <AboutMe id='student' onSize={props.onSize}/>\r\n        <Footer/>   \r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Landing;","import Header from '../Header/Header';\r\nimport Footer from '../Footer/Footer';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\r\n\r\n\r\nfunction SavedMovies(props) {\r\n    console.log(props.isSavedSearched);\r\n    return (\r\n      <div className=\"savedMovies\">\r\n        <Header className='main__header' onSize={props.onSize}/>\r\n        <SearchForm onSize={props.onSize} isSwitched={props.isSwitched} onSearch={props.onSearch} onTypeSwitch={props.onTypeSwitch}/>\r\n        <MoviesCardList movieCards={props.isSavedSearched && props.filteredMovies.length>0 ? props.filteredMovies : props.savedMovies} isSearched={true}/>\r\n        <div className='savedMovies__separator'/>               \r\n        <Footer/>   \r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default SavedMovies;","import React from 'react'\r\n\r\n\r\nconst CurrentUserContext = React.createContext()\r\nexport default CurrentUserContext;","import React from 'react'\r\nimport Header from '../Header/Header';\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Profile(props) {\r\n  const nameRef = React.useRef();\r\n  const emailRef = React.useRef();\r\n  const userProfile = React.useContext(CurrentUserContext);\r\n  function editProfile(e){\r\n    e.preventDefault();    \r\n    props.onEditClick(nameRef.current.value, emailRef.current.value)  \r\n  }\r\n\r\n    return (\r\n      <div className='profile'>\r\n        <Header className='main__header'/>\r\n        <p className='profile__greetings'>Привет, {userProfile.data.name}!</p>\r\n        <form className='profile__form'>\r\n           <div className='profile__container'>\r\n               <p className='profile__text'>Имя</p>\r\n               <input className='profile__input' placeholder='Имя' defaultValue={userProfile.data.name} ref={nameRef}/>\r\n           </div>\r\n           <div className='profile__container'>\r\n               <p className='profile__text'>E-mail</p>\r\n               <input className='profile__input' placeholder='Почта' defaultValue={userProfile.data.email} ref={emailRef}/>\r\n           </div>\r\n           <button className='profile__edit' type='submit' onClick={editProfile}>Редактировать</button>             \r\n        </form>\r\n        <button className='profile__logout' type='button' onClick={props.onLogoutClick}>Выйти из аккаунта</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  export default Profile;","export class FormValidator {\r\n    constructor(config, formElem) {\r\n            this._config = config;\r\n            this._form = formElem;                    \r\n            this._btn = this._form.querySelector(config.submitButtonSelector);\r\n        }\r\n        //функция показа ошибки\r\n    _showError(input) {\r\n        const error = this._form.querySelector(`#${input.id}-error`);        \r\n        error.textContent = input.validationMessage;\r\n        input.classList.add(this._config.errorClass);\r\n    }\r\n\r\n    //функция удаления ошибки\r\n    _hideError(input) {\r\n        const error = this._form.querySelector(`#${input.id}-error`);\r\n        error.textContent = '';\r\n        input.classList.remove(this._config.errorClass);\r\n    }\r\n\r\n    //проверка валидности инпута\r\n    _isValid(input) {\r\n        if (input.validity.valid) {\r\n            this._hideError(input);\r\n        } else {\r\n            this._showError(input);\r\n        }\r\n    }\r\n\r\n    //изменение статуса кнопки сабмит \r\n    setSubmitBtnState(validationStatus) {\r\n        if (!validationStatus) {\r\n            this._btn.classList.add(this._config.inactiveButtonClass);\r\n            this._btn.disabled = true;\r\n        } else {\r\n            this._btn.classList.remove(this._config.inactiveButtonClass);\r\n            this._btn.disabled = false;\r\n        }\r\n    }\r\n\r\n    // повесить обработчики на инпуты\r\n    setErrorListener() {\r\n            const inputList = this._form.querySelectorAll(this._config.inputSelector);\r\n            inputList.forEach((input) => {\r\n                input.addEventListener('input', () => {\r\n                    this._isValid(input);\r\n                    this.setSubmitBtnState(this._form.checkValidity());\r\n                })\r\n                this._form.addEventListener('reset', () => {\r\n                    inputList.forEach((inputElement) => {\r\n                        this._hideError(inputElement)\r\n                        this.setSubmitBtnState(false);\r\n                    })\r\n                });\r\n            })\r\n        }\r\n        // включить валидацию по конфигу\r\n    enableValidation() {\r\n        this.setErrorListener();\r\n        this.setSubmitBtnState(this._form.checkValidity());\r\n        this._form.addEventListener('submit', (evt) => {\r\n            evt.preventDefault();\r\n        })\r\n    }\r\n}","export const popupImage = document.querySelector('.popupImage');\r\n\r\nexport const EscBtn = 'Escape';\r\n//конфиг\r\nexport const proccessingText = 'Обработка запроса...';\r\nexport const yesText = 'Да';\r\nexport const saveProccess = 'Сохранение...';\r\nexport const saveText = 'Сохранение';\r\n\r\n\r\n\r\nexport const config = {\r\n        formSelector: '.popup__container',\r\n        inputSelector: '.popup__input',\r\n        submitButtonSelector: '.popup__submitbtn',\r\n        inactiveButtonClass: 'popup__submitbtn_status_inactive',\r\n        errorClass: 'popup__input_state_invalid'\r\n    }\r\n   \r\nexport  const registerConfig = {\r\n      formSelector: '.register__form',\r\n      inputSelector: '.register__input',\r\n      submitButtonSelector: '.register__button',\r\n      inactiveButtonClass: 'register__submitbtn_status_inactive',\r\n      errorClass: 'register__input_state_invalid'\r\n    }\r\n\r\n    export  const loginConfig = {\r\n      formSelector: '.login__form',\r\n      inputSelector: '.login__input',\r\n      submitButtonSelector: '.login__button',\r\n      inactiveButtonClass: 'login__submitbtn_status_inactive',\r\n      errorClass: 'login__input_state_invalid'\r\n    }\r\n   ","import HeaderLogo from '../../images/header-logo.svg'\r\nimport React,{useRef} from'react'\r\nimport {withRouter} from 'react-router-dom' \r\nimport {FormValidator} from '../FormValidator'\r\nimport {loginConfig} from '../../utils/constants'\r\n\r\n\r\nfunction Login(props) {\r\n\r\n    const email=useRef();\r\n    const password=useRef();\r\n\r\n\r\n    React.useEffect(() => {    \r\n        const loginForm=document.getElementById('loginForm');\r\n    const loginFormValidation= new FormValidator(loginConfig,loginForm);\r\n        loginFormValidation.enableValidation();\r\n      }, []);\r\n\r\n      function handleSubmit(e){\r\n        e.preventDefault();\r\n        props.onLogin(email.current.value,password.current.value);\r\n            }\r\n\r\n    return (\r\n      <div className=\"login\">\r\n        <img src={HeaderLogo} className='login__logo' alt='Логотип проектной работы' />\r\n        <p className='login__greetings'>Рады видеть!</p>\r\n        <form className='login__form' id='loginForm'>\r\n            <p className='login__formText'>E-mail</p>\r\n            <input className='login__input'\r\n            ref={email}\r\n            type=\"email\"\r\n            id=\"loginEmail\"               \r\n            required\r\n            minLength={2}\r\n            maxLength={40}\r\n            autoComplete=\"off\" />\r\n            <span className=\"error\" id=\"loginEmail-error\" />\r\n            <p className='login__formText'>Пароль</p>\r\n            <input className='login__input'\r\n            ref={password}\r\n            type=\"password\"\r\n            id=\"loginPassword\"               \r\n            required\r\n            minLength={8}\r\n            maxLength={30}\r\n            autoComplete=\"off\"/>\r\n            <span className=\"error\" id=\"loginPassword-error\" />\r\n            <button className='login__button' type='submit' onClick={handleSubmit}>Войти</button>\r\n        </form>\r\n        <p className='login__register'>Ещё не зарегистрированы? <a className='login__registerLink' href='/signup'>Регистрация</a></p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  export default Login;","import HeaderLogo from '../../images/header-logo.svg'\r\nimport {FormValidator} from '../FormValidator';\r\nimport React, { useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {registerConfig} from '../../utils/constants';\r\n\r\n\r\nfunction Register(props) {\r\n\r\n  const name = useRef();\r\n  const email = useRef();\r\n  const password = useRef();\r\n   \r\n  React.useEffect(() => {   \r\n  const registerForm=document.getElementById('registerForm');\r\nconst registerFormValidation= new FormValidator(registerConfig,registerForm);\r\nregisterFormValidation.enableValidation();\r\n}, []);\r\n\r\nfunction handleSubmit(e) {\r\n  e.preventDefault();\r\n  props.onRegisterClick(email.current.value, password.current.value,name.current.value);    \r\n}\r\n\r\n    return (\r\n      <section className=\"register\">\r\n        <img src={HeaderLogo} className='register__logo' alt='Логотип проектной работы' />\r\n        <h2 className='register__greetings'>Добро пожаловать!</h2>\r\n        <form className='register__form' id=\"registerForm\" autoComplete=\"off\" onSubmit={handleSubmit}>\r\n            <p className='register__formText'>Имя</p>            \r\n            <input className='register__input'\r\n             type='text'\r\n             ref={name}\r\n             required\r\n             minLength={2}\r\n             id=\"registerName\"\r\n             autocomplete=\"off\"\r\n            />\r\n            <span className=\"error\" id=\"registerName-error\" />\r\n            <p className='register__formText'>E-mail</p>            \r\n            <input className='register__input'\r\n            autocomplete=\"off\"\r\n              ref={email}\r\n              type=\"email\"\r\n              id=\"registerEmail\"               \r\n              required\r\n              minLength={2}\r\n              maxLength={40}/>\r\n            <span className=\"error\" id=\"registerEmail-error\" />\r\n            <p className='register__formText'>Пароль</p> \r\n            <input className='register__input'\r\n            autocomplete=\"off\"\r\n            ref={password}\r\n            required\r\n            minLength={8}\r\n            maxLength={30}\r\n            id=\"registerPassword\"\r\n            type='password'\r\n            />\r\n            <span className=\"error\" id=\"registerPassword-error\" />\r\n            <button className='register__button' type='submit'>Зарегистрироваться</button>\r\n        </form> \r\n        <p className='login__register'>Уже зарегистрированы? <Link to='/signin' className='login__registerLink' >Войти</Link></p>       \r\n      </section>\r\n    );\r\n  }\r\n  \r\n  export default Register;","import React from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\n\r\nfunction PageNotFound() {\r\n    const history= useHistory();\r\n    function goBack(){\r\n        history.goBack()\r\n    }\r\n    return (\r\n        <section className='pageNotFound' id='404'>\r\n            <h3 className='pageNotFound_error'>404</h3>\r\n               <p className='pageNotFound_message'>Страница не найдена</p>\r\n               <p className='pageNotFound_return'   onClick={goBack}>Назад</p>\r\n        </section>        \r\n    )\r\n}\r\n\r\nexport default PageNotFound","import {Route,Redirect} from 'react-router-dom'\r\nimport React from 'react'\r\n\r\nconst ProtectedRoute =({\r\n    component: Component,\r\n    path: Path,\r\n    ...props\r\n})=>{    \r\n    return <Route >{()=>props.loggedIn ? <Component{...props} /> : <Redirect to='/signin' />}</Route>}\r\n\r\n    export default ProtectedRoute","export class Auth {\r\n  constructor(options) {\r\n    // тело конструктора\r\n    this._options = options;\r\n    this._headers = this._options.headers;\r\n  }\r\n\r\n  register(email, password,name) {\r\n    return fetch(`${this._options.baseUrl}/signup`, {\r\n      method: \"POST\",     \r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n        name\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject(res.status);\r\n      }\r\n    });\r\n  }\r\n\r\n  login(email, password) {\r\n    return fetch(`${this._options.baseUrl}/signin`, {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject(res.status);\r\n      }\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    return fetch(`${this._options.baseUrl}/signout`, {\r\n      method: \"delete\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },     \r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject(res.status);\r\n      }\r\n    });\r\n  }\r\n\r\n \r\n}\r\n\r\nconst auth = new Auth({\r\n baseUrl: 'http://localhost:3001',\r\n  // baseUrl: \"https://xenoxil.movie-explorer.nomoreparties.sbs\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default auth;\r\n","export class mainApi {\r\n    constructor(options) {\r\n        // тело конструктора\r\n        this._options = options;\r\n        this._headers = this._options.headers;\r\n\r\n    }\r\n    \r\n    //получаем данные профайла\r\n    getProfile() {\r\n        return fetch(`${this._options.baseUrl}/users/me`, {\r\n            headers: this._options.headers,\r\n            'credentials': 'include',\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка: ${res.status}`) }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n    }\r\n    \r\n\r\n\r\n    //патчим профайл на сервере\r\n    editProfile(newName, newEmail) {\r\n        return fetch(`${this._options.baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            'credentials': 'include',\r\n            headers: this._options.headers,\r\n            body: JSON.stringify({\r\n                name: newName,\r\n                email: newEmail\r\n            })\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка: ${res.status}`) }\r\n            })            \r\n    }\r\n    changeLikeCardStatus(id, isLiked) {\r\n\r\n        // Обычная реализация: 2 разных метода для удаления и постановки лайка.\r\n        return fetch(`${this._options.baseUrl}/movies`, {\r\n            method: isLiked ? 'PUT' : 'DELETE',\r\n            'credentials': 'include',\r\n            headers: this._options.headers,\r\n        })\r\n            .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n    }\r\n    \r\n    saveMovie({country, director, duration,year,description,trailerLink,nameEN,nameRU,id,src,image}){\r\n        return fetch(`${this._options.baseUrl}/movies/`, {\r\n            method: 'POST',\r\n            'credentials': 'include',\r\n            headers: this._options.headers,\r\n            body: JSON.stringify({\r\n                country: country ? country : \"##\",\r\n        director :director,\r\n        duration: duration,\r\n        year: year,\r\n        description: description,\r\n        image:src,\r\n        trailer: trailerLink,\r\n        nameRU:nameRU,\r\n        nameEN:nameEN ? nameEN : nameRU,\r\n        thumbnail:`https://api.nomoreparties.co${image.formats.thumbnail.url}`,\r\n        movieId:id        \r\n            })\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка при сохранении фильма: ${res.status}`) }\r\n            })\r\n            .catch(() => {\r\n                console.log(`Ошибка при сохранении фильма`)\r\n            })\r\n    } \r\n    \r\n    //отправка лайка \r\n    getSavedMovies() {\r\n        return fetch(`${this._options.baseUrl}/movies`, {\r\n            method: 'get',\r\n            'credentials': 'include',\r\n            headers: this._options.headers\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка при получении сохраненных фильмов: ${res.status}`) }\r\n            })\r\n            .catch(() => {\r\n                console.log(`Ошибка при получении сохраненных фильмов:`)\r\n            })\r\n    }\r\n\r\n    //удаление фильма из сохраненных на сервере\r\n    removeMovie(id) {\r\n        return fetch(`${this._options.baseUrl}/movies/${id}`, {\r\n            method: 'DELETE',\r\n            'credentials': 'include',\r\n            headers: this._options.headers\r\n        })\r\n            .then((res) => {                \r\n                if (res.ok) {                    \r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка при удалении лайка: ${res.status}`) }\r\n            })\r\n            .catch((err) => {\r\n                console.log(`Ошибка при удалении лайка ${err}`)\r\n            })\r\n    }\r\n    \r\n  \r\n}    \r\nconst userApi = new mainApi({\r\n    baseUrl: 'http://localhost:3001',\r\n    // baseUrl: 'https://xenoxil.movie-explorer.nomoreparties.sbs',\r\n    headers: {        \r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\n\r\nexport default userApi","export class movieApi {\r\n    constructor(options) {\r\n        // тело конструктора\r\n        this._options = options;\r\n        this._headers = this._options.headers;\r\n\r\n    }\r\n    //получаем карточки с сервера\r\n    getMovies() {\r\n        // ...\r\n        return fetch(`${this._options.baseUrl}/`, {\r\n            headers: this._options.headers,            \r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка: ${res.status}`) }\r\n            })\r\n    }\r\n    \r\n    \r\n   \r\n}    \r\n\r\nconst moviesListApi = new movieApi({\r\n    baseUrl: 'https://api.nomoreparties.co/beatfilm-movies',\r\n    headers: {        \r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\n\r\nexport default moviesListApi\r\n\r\n\r\n\r\n","import './App.css';\r\nimport Main from '../Main/Main'\r\nimport Landing from '../Landing/Landing';\r\nimport SavedMovies from '../SavedMovies/SavedMovies';\r\nimport Profile from '../Profile/Profile';\r\nimport Login from '../Login/Login';\r\nimport Register from '../Register/Register';\r\nimport PageNotFound from '../PageNotFound/PageNotFound';\r\nimport {Route,Switch,useHistory} from 'react-router-dom'\r\nimport React,{useState,useEffect} from 'react'\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext.js\";\r\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\r\nimport auth from '../../utils/auth';\r\nimport userApi from '../../utils/mainApi';\r\nimport moviesListApi from '../../utils/MoviesApi';\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n\r\n\r\n  const[screenWidth,setScreenWidth]=useState(window.innerWidth)\r\n  const savedMoviesArray=[];\r\n  const [savedMovies,setSavedMovies]=useState([])  \r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", () => {\r\n      setTimeout(setScreenWidth(window.innerWidth),1000)                \r\n    }); \r\n    return () => {\r\n      window.removeEventListener(\"resize\", () => {\r\n        setTimeout(setScreenWidth(window.innerWidth),1000)                \r\n      });\r\n    };   \r\n  }, [])\r\n  \r\n  \r\n  \r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    name: \"Пользователь\",\r\n    email: \"pochta@ya.ru\"  \r\n  });\r\n\r\n  const [loggedInState, setLoggedInState] = React.useState(false);\r\n  const history = useHistory();\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n  const [isSearched, setSearched] = React.useState(false);\r\n  const [isSavedSearched, setSavedSearched] = React.useState(false);\r\n  const [filteredArray, setFiltered] = React.useState([]); \r\n  const [currentMovies,setCurrentMovies] = React.useState(0);\r\n  const [isMoreMoviesVisible,setMoreMoviesVisibility] = React.useState(false);\r\n  const [addMovies,setAddMovies]=React.useState(4);\r\n  const [showedMovies,setShowedMovies]=React.useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isSwitched,setSwitchState] =useState(true);  \r\n  \r\n  useEffect(()=>{\r\n    if(screenWidth<768){\r\n      setCurrentMovies(5)\r\n      setAddMovies(5)\r\n    }\r\n    else if(screenWidth<1280 &&  screenWidth>=768){\r\n      setCurrentMovies(8);\r\n      setAddMovies(2)        \r\n    }\r\n    else{setCurrentMovies(16)\r\n    setAddMovies(4)}\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n   moreMoviesVisibilityCheck()   \r\n  },[showedMovies])\r\n\r\n  \r\n  \r\n  \r\n\r\n  React.useEffect(() => {    \r\n    userApi\r\n      .getProfile()\r\n      .then((profileObj) => {        \r\n        if(profileObj){\r\n        setLoggedInState(true);\r\n        setCurrentUser(profileObj);\r\n        history.push(\"/movies\");\r\n      }\r\n      else{\r\n        return Promise.reject('Необходима авторизация');\r\n      }\r\n      })\r\n      .then(()=>{\r\n        userApi.getSavedMovies()\r\n        .then((data)=>{\r\n          data.data.map((item)=>{\r\n            item.src=item.image;\r\n          return savedMoviesArray.push(item)\r\n          })\r\n          setSavedMovies(savedMoviesArray)\r\n          return(savedMovies)      \r\n        })\r\n      })\r\n\r\n      .catch((err) => console.log(\"Ошибка:\", err));      \r\n    }, []);\r\n  \r\n    \r\n\r\n    function handleSearch(movie){\r\n      let fArray=[];\r\n      // проверяем выполнялся ли поиск и если нет, запрашиваем массив фильмов от Апи Bitmovies\r\n       if(!isSearched){\r\n        setIsLoading(true);\r\n        moviesListApi.getMovies()\r\n        .then((moviesArray)=>{                    \r\n          setCards(moviesArray);\r\n          setSearched(true);\r\n          moviesArray.forEach((item)=>{\r\n            item.src=`https://api.nomoreparties.co/${item.image.url}`})\r\n          fArray= searchFilter(moviesArray,movie)          \r\n          setFiltered(fArray);          \r\n          setShowedMovies(fArray.slice(0,currentMovies))\r\n          setIsLoading(false);                   \r\n        })           \r\n        .catch((err)=>{\r\n         console.log(err)\r\n        })        \r\n       }\r\n       else{\r\n        fArray=searchFilter(cards,movie);\r\n        //сохраняем массив отфильтрованных фильмов\r\n        setFiltered(fArray);\r\n        setShowedMovies(fArray.slice(0,currentMovies));       \r\n      }\r\n                \r\n    }\r\n\r\n    function typeFiltering(moviesList){\r\n      if(isSwitched){        \r\n        return moviesList.filter((item)=>{ return item.duration>40})\r\n      }\r\n      else{\r\n        return moviesList.filter((item)=>{ return item.duration<=40})}\r\n    }\r\n\r\n    function searchFilter(moviesArray,requiredMovie){\r\n      let newArray=moviesArray.filter((movieObj)=>{            \r\n        if(movieObj.nameRU && movieObj.nameEN){\r\n          return (movieObj.nameRU.toLowerCase().includes(requiredMovie.toLowerCase()) || movieObj.nameEN.toLowerCase().includes(requiredMovie.toLowerCase()))\r\n        }\r\n        else{\r\n          return (movieObj.nameRU.toLowerCase().includes(requiredMovie.toLowerCase()))\r\n        }          \r\n      })\r\n      console.log('массив отфильтрованных по хронометражу фильмов')            \r\n      console.log(typeFiltering(newArray))\r\n      return typeFiltering(newArray);\r\n    }\r\n\r\n    function handleSavedMoviesSearch(movie){      \r\n       setIsLoading(true);                          \r\n       setCards(savedMovies);\r\n       setSavedSearched(true);             \r\n       let fArray=searchFilter(savedMovies,movie);          \r\n          setFiltered(fArray);\r\n          setShowedMovies(fArray.slice(0,currentMovies))\r\n          setIsLoading(false);                            \r\n        } \r\n        \r\n        function SwitchMovieType(){\r\n          setSwitchState(!isSwitched);\r\n          }\r\n    \r\n\r\n    \r\n\r\n\r\n  function handleRegisterClick(email, password,name) {\r\n    auth\r\n      .register(email, password,name)\r\n      .then(() => {\r\n        handleLoginClick(email, password)\r\n      })      \r\n      .catch((err) => {\r\n        if (err === \"400\") {\r\n          console.log(\"400 - некорректно заполнено одно из полей\");\r\n        } else {\r\n          console.log(`Ошибка:`, err);\r\n        }\r\n        setLoggedInState(false);\r\n      })      \r\n  }\r\n\r\n  function handleLoginClick(email, password) {\r\n    auth\r\n      .login(email, password)\r\n      .then(() => {\r\n        setLoggedInState(true);        \r\n        history.push(\"/movies\");\r\n      })\r\n      .then(()=>{\r\n        userApi.getProfile()\r\n        .then((profileObj) => {\r\n          setCurrentUser(profileObj);\r\n        })\r\n      })\r\n      .catch((err) => {\r\n        if (err === 401) {\r\n          console.log(\"401 - пользователь с email не найден\");\r\n        } else if (err === 400) {\r\n          console.log(\"400 - не передано одно из полей \");\r\n        } else {\r\n          console.log(err);\r\n        }\r\n      });\r\n  }\r\n\r\n  function handleEditProfileClick(name,email){\r\n     userApi.editProfile(name,email)\r\n     .then((profileObj)=>{\r\n      setCurrentUser(profileObj)\r\n     })\r\n     .catch((err)=>{console.log(err)})\r\n  }\r\n\r\n  function handleLogoutClick(){\r\n    setLoggedInState(false);\r\n    auth.logout()\r\n    .catch((err) => {      \r\n        console.log(err);\r\n      }\r\n    );              \r\n  }\r\n\r\n  function moreMoviesVisibilityCheck(){    \r\n    currentMovies<filteredArray.length ? setMoreMoviesVisibility(true) : setMoreMoviesVisibility(false)\r\n  }\r\n  function renderMovies(){\r\n    setShowedMovies(filteredArray.slice(0,currentMovies));\r\n  }\r\n  function handleMoreMoviesClick(){\r\n    setCurrentMovies(currentMovies+addMovies);\r\n    setShowedMovies(filteredArray.slice(0,currentMovies+addMovies));             \r\n  }\r\n\r\n  function handleLike(card){ \r\n   userApi.saveMovie(card)\r\n   .then((card)=>{\r\n    setSavedMovies([card, ...savedMovies])\r\n  console.log(card)})   \r\n   .catch((err)=>{\r\n     console.log(err);\r\n   })\r\n   }\r\n\r\n   function handleDislike(card){\r\n    const deleteId = savedMovies.find((movie) => movie.movieId===card.id)._id;\r\n    userApi.removeMovie(deleteId)\r\n    .then((deletedCard) => {\r\n      const arrayWithoutDeletedMovie=[];\r\n      savedMovies.forEach((movie) => { \r\n        if(movie.movieId!==card.id){\r\n          arrayWithoutDeletedMovie.push(movie)\r\n        }        \r\n      })\r\n      setSavedMovies(arrayWithoutDeletedMovie)\r\n      console.log(savedMovies)\r\n            \r\n    })\r\n    .catch((err)=>{\r\n       console.log(err);\r\n     })\r\n     }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n      <Switch>\r\n        <Route path='/landing'>\r\n        <Landing\r\n         onSize={screenWidth}\r\n         loggedInState={loggedInState}/>\r\n        </Route>\r\n        <ProtectedRoute\r\n        component={SavedMovies}\r\n        loggedIn={loggedInState}\r\n        filteredMovies={showedMovies}\r\n        onSearch={handleSavedMoviesSearch}\r\n        onTypeSwitch={SwitchMovieType}\r\n        isSwitched={isSwitched}\r\n        savedMovies={savedMovies}\r\n        isSavedSearched={isSavedSearched}\r\n        exact \r\n         path='/savedMovies'\r\n         onSize={screenWidth}\r\n         />\r\n         <ProtectedRoute\r\n        component={Profile}        \r\n        loggedIn={loggedInState}\r\n        onLogoutClick={handleLogoutClick}\r\n        onEditClick={handleEditProfileClick}        \r\n        exact \r\n         path='/profile'         \r\n         />\r\n        <Route path='/signin'>\r\n        <Login onLogin={handleLoginClick}/>\r\n        </Route>\r\n        <Route path='/signup'>\r\n        <Register onRegisterClick={handleRegisterClick}/>\r\n        </Route>        \r\n        <ProtectedRoute\r\n        component={Main} \r\n        isSwitched={isSwitched}       \r\n        loggedIn={loggedInState}\r\n        filteredMovies={showedMovies}\r\n        onSearchClick={handleSearch}\r\n        isSearched={isSearched}\r\n        isShowed={isMoreMoviesVisible}\r\n        onMoreMoviesClick={handleMoreMoviesClick}\r\n        moreMoviesVisibilityCheck={moreMoviesVisibilityCheck}\r\n        renderMovies={renderMovies}\r\n        isLoading={isLoading}\r\n        onLike={handleLike}\r\n        onDislikeClick={handleDislike}\r\n        savedMovies={savedMovies}\r\n        onTypeSwitch={SwitchMovieType}        \r\n        exact \r\n         path='/movies'\r\n         onSize={screenWidth}         \r\n         />\r\n         <Route path='/'>\r\n        <PageNotFound/>\r\n        </Route>                 \r\n        </Switch>        \r\n        </CurrentUserContext.Provider>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter} from 'react-router-dom'\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}